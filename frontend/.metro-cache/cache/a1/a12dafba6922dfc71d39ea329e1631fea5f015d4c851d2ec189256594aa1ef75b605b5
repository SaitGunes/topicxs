{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":44,"index":44}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/View","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"4kYBDC6LJJXoH7P9rWDi3vkLVB0=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/ActivityIndicator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"bSAkUkqZq0shBb5bU6kCYXi4ciA=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/StyleSheet","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"MK7+k1V+KnvCVW7Kj2k/ydtjmVU=","exportNames":["*"],"imports":1}},{"name":"expo-router","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":113},"end":{"line":3,"column":40,"index":153}}],"key":"/+ErnBisjrT6aDU+GRp5Qz/lYoY=","exportNames":["*"],"imports":1}},{"name":"../store/authStore","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":154},"end":{"line":4,"column":50,"index":204}}],"key":"/4BDl/hqolvw7T4CXD8jWAtZK4M=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":205},"end":{"line":5,"column":69,"index":274}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../components/TermsModal","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":275},"end":{"line":6,"column":50,"index":325}}],"key":"QFov7W8BA1pAQA97Rl5tkl/yiIk=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/app/index.tsx\",\n    _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return Index;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeWebDistExportsView = require(_dependencyMap[1], \"react-native-web/dist/exports/View\");\n  var View = _interopDefault(_reactNativeWebDistExportsView);\n  var _reactNativeWebDistExportsActivityIndicator = require(_dependencyMap[2], \"react-native-web/dist/exports/ActivityIndicator\");\n  var ActivityIndicator = _interopDefault(_reactNativeWebDistExportsActivityIndicator);\n  var _reactNativeWebDistExportsStyleSheet = require(_dependencyMap[3], \"react-native-web/dist/exports/StyleSheet\");\n  var StyleSheet = _interopDefault(_reactNativeWebDistExportsStyleSheet);\n  var _expoRouter = require(_dependencyMap[4], \"expo-router\");\n  var _storeAuthStore = require(_dependencyMap[5], \"../store/authStore\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[6], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _componentsTermsModal = require(_dependencyMap[7], \"../components/TermsModal\");\n  var TermsModal = _interopDefault(_componentsTermsModal);\n  var _reactJsxDevRuntime = require(_dependencyMap[8], \"react/jsx-dev-runtime\");\n  function Index() {\n    _s();\n    const router = (0, _expoRouter.useRouter)();\n    const {\n      user,\n      isLoading\n    } = (0, _storeAuthStore.useAuthStore)();\n    const [showTerms, setShowTerms] = (0, _react.useState)(false);\n    const [termsChecked, setTermsChecked] = (0, _react.useState)(false);\n    (0, _react.useEffect)(() => {\n      checkTermsAcceptance();\n    }, []);\n    const checkTermsAcceptance = async () => {\n      try {\n        const accepted = await AsyncStorage.default.getItem('termsAccepted');\n        if (accepted === 'true') {\n          setTermsChecked(true);\n        } else if (!isLoading && user) {\n          // User logged in but hasn't accepted terms\n          setShowTerms(true);\n        }\n        setTermsChecked(true);\n      } catch (error) {\n        console.error('Error checking terms:', error);\n        setTermsChecked(true);\n      }\n    };\n    const handleTermsAccept = async () => {\n      try {\n        await AsyncStorage.default.setItem('termsAccepted', 'true');\n        setShowTerms(false);\n        setTermsChecked(true);\n      } catch (error) {\n        console.error('Error saving terms acceptance:', error);\n      }\n    };\n    (0, _react.useEffect)(() => {\n      if (!isLoading && termsChecked) {\n        if (user) {\n          router.replace('/(tabs)/home');\n        } else {\n          router.replace('/(auth)/login');\n        }\n      }\n    }, [user, isLoading, termsChecked]);\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_reactJsxDevRuntime.Fragment, {\n      children: [/*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(View.default, {\n        style: styles.container,\n        children: /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(ActivityIndicator.default, {\n          size: \"large\",\n          color: \"#007AFF\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 7\n      }, this), /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(TermsModal.default, {\n        visible: showTerms,\n        onAccept: handleTermsAccept\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true);\n  }\n  _s(Index, \"hnEqqC7fu/gBec8f/vqraLv//FU=\", false, function () {\n    return [_expoRouter.useRouter, _storeAuthStore.useAuthStore];\n  });\n  _c = Index;\n  const styles = StyleSheet.default.create({\n    container: {\n      flex: 1,\n      justifyContent: 'center',\n      alignItems: 'center',\n      backgroundColor: '#fff'\n    }\n  });\n  var _c;\n  $RefreshReg$(_c, \"Index\");\n});","lineCount":118,"map":[[14,2,8,15,"Object"],[14,8,8,15],[14,9,8,15,"defineProperty"],[14,23,8,15],[14,24,8,15,"exports"],[14,31,8,15],[15,4,8,15,"enumerable"],[15,14,8,15],[16,4,8,15,"get"],[16,7,8,15],[16,18,8,15,"get"],[16,19,8,15],[17,6,8,15],[17,13,8,15,"Index"],[17,18,8,15],[18,4,8,15],[19,2,8,15],[20,2,1,0],[20,6,1,0,"_react"],[20,12,1,0],[20,15,1,0,"require"],[20,22,1,0],[20,23,1,0,"_dependencyMap"],[20,37,1,0],[21,2,1,44],[21,6,1,44,"_reactNativeWebDistExportsView"],[21,36,1,44],[21,39,1,44,"require"],[21,46,1,44],[21,47,1,44,"_dependencyMap"],[21,61,1,44],[22,2,1,44],[22,6,1,44,"View"],[22,10,1,44],[22,13,1,44,"_interopDefault"],[22,28,1,44],[22,29,1,44,"_reactNativeWebDistExportsView"],[22,59,1,44],[23,2,1,44],[23,6,1,44,"_reactNativeWebDistExportsActivityIndicator"],[23,49,1,44],[23,52,1,44,"require"],[23,59,1,44],[23,60,1,44,"_dependencyMap"],[23,74,1,44],[24,2,1,44],[24,6,1,44,"ActivityIndicator"],[24,23,1,44],[24,26,1,44,"_interopDefault"],[24,41,1,44],[24,42,1,44,"_reactNativeWebDistExportsActivityIndicator"],[24,85,1,44],[25,2,1,44],[25,6,1,44,"_reactNativeWebDistExportsStyleSheet"],[25,42,1,44],[25,45,1,44,"require"],[25,52,1,44],[25,53,1,44,"_dependencyMap"],[25,67,1,44],[26,2,1,44],[26,6,1,44,"StyleSheet"],[26,16,1,44],[26,19,1,44,"_interopDefault"],[26,34,1,44],[26,35,1,44,"_reactNativeWebDistExportsStyleSheet"],[26,71,1,44],[27,2,3,0],[27,6,3,0,"_expoRouter"],[27,17,3,0],[27,20,3,0,"require"],[27,27,3,0],[27,28,3,0,"_dependencyMap"],[27,42,3,0],[28,2,4,0],[28,6,4,0,"_storeAuthStore"],[28,21,4,0],[28,24,4,0,"require"],[28,31,4,0],[28,32,4,0,"_dependencyMap"],[28,46,4,0],[29,2,5,0],[29,6,5,0,"_reactNativeAsyncStorageAsyncStorage"],[29,42,5,0],[29,45,5,0,"require"],[29,52,5,0],[29,53,5,0,"_dependencyMap"],[29,67,5,0],[30,2,5,0],[30,6,5,0,"AsyncStorage"],[30,18,5,0],[30,21,5,0,"_interopDefault"],[30,36,5,0],[30,37,5,0,"_reactNativeAsyncStorageAsyncStorage"],[30,73,5,0],[31,2,6,0],[31,6,6,0,"_componentsTermsModal"],[31,27,6,0],[31,30,6,0,"require"],[31,37,6,0],[31,38,6,0,"_dependencyMap"],[31,52,6,0],[32,2,6,0],[32,6,6,0,"TermsModal"],[32,16,6,0],[32,19,6,0,"_interopDefault"],[32,34,6,0],[32,35,6,0,"_componentsTermsModal"],[32,56,6,0],[33,2,6,50],[33,6,6,50,"_reactJsxDevRuntime"],[33,25,6,50],[33,28,6,50,"require"],[33,35,6,50],[33,36,6,50,"_dependencyMap"],[33,50,6,50],[34,2,8,15],[34,11,8,24,"Index"],[34,16,8,29,"Index"],[34,17,8,29],[34,19,8,32],[35,4,8,32,"_s"],[35,6,8,32],[36,4,9,2],[36,10,9,8,"router"],[36,16,9,14],[36,19,9,17],[36,23,9,17,"useRouter"],[36,34,9,26],[36,35,9,26,"useRouter"],[36,44,9,26],[36,46,9,27],[36,47,9,28],[37,4,10,2],[37,10,10,8],[38,6,10,10,"user"],[38,10,10,14],[39,6,10,16,"isLoading"],[40,4,10,26],[40,5,10,27],[40,8,10,30],[40,12,10,30,"useAuthStore"],[40,27,10,42],[40,28,10,42,"useAuthStore"],[40,40,10,42],[40,42,10,43],[40,43,10,44],[41,4,11,2],[41,10,11,8],[41,11,11,9,"showTerms"],[41,20,11,18],[41,22,11,20,"setShowTerms"],[41,34,11,32],[41,35,11,33],[41,38,11,36],[41,42,11,36,"useState"],[41,48,11,44],[41,49,11,44,"useState"],[41,57,11,44],[41,59,11,45],[41,64,11,50],[41,65,11,51],[42,4,12,2],[42,10,12,8],[42,11,12,9,"termsChecked"],[42,23,12,21],[42,25,12,23,"setTermsChecked"],[42,40,12,38],[42,41,12,39],[42,44,12,42],[42,48,12,42,"useState"],[42,54,12,50],[42,55,12,50,"useState"],[42,63,12,50],[42,65,12,51],[42,70,12,56],[42,71,12,57],[43,4,14,2],[43,8,14,2,"useEffect"],[43,14,14,11],[43,15,14,11,"useEffect"],[43,24,14,11],[43,26,14,12],[43,32,14,18],[44,6,15,4,"checkTermsAcceptance"],[44,26,15,24],[44,27,15,25],[44,28,15,26],[45,4,16,2],[45,5,16,3],[45,7,16,5],[45,9,16,7],[45,10,16,8],[46,4,18,2],[46,10,18,8,"checkTermsAcceptance"],[46,30,18,28],[46,33,18,31],[46,39,18,31,"checkTermsAcceptance"],[46,40,18,31],[46,45,18,43],[47,6,19,4],[47,10,19,8],[48,8,20,6],[48,14,20,12,"accepted"],[48,22,20,20],[48,25,20,23],[48,31,20,29,"AsyncStorage"],[48,43,20,41],[48,44,20,41,"default"],[48,51,20,41],[48,52,20,42,"getItem"],[48,59,20,49],[48,60,20,50],[48,75,20,65],[48,76,20,66],[49,8,21,6],[49,12,21,10,"accepted"],[49,20,21,18],[49,25,21,23],[49,31,21,29],[49,33,21,31],[50,10,22,8,"setTermsChecked"],[50,25,22,23],[50,26,22,24],[50,30,22,28],[50,31,22,29],[51,8,23,6],[51,9,23,7],[51,15,23,13],[51,19,23,17],[51,20,23,18,"isLoading"],[51,29,23,27],[51,33,23,31,"user"],[51,37,23,35],[51,39,23,37],[52,10,24,8],[53,10,25,8,"setShowTerms"],[53,22,25,20],[53,23,25,21],[53,27,25,25],[53,28,25,26],[54,8,26,6],[55,8,27,6,"setTermsChecked"],[55,23,27,21],[55,24,27,22],[55,28,27,26],[55,29,27,27],[56,6,28,4],[56,7,28,5],[56,8,28,6],[56,15,28,13,"error"],[56,20,28,18],[56,22,28,20],[57,8,29,6,"console"],[57,15,29,13],[57,16,29,14,"error"],[57,21,29,19],[57,22,29,20],[57,45,29,43],[57,47,29,45,"error"],[57,52,29,50],[57,53,29,51],[58,8,30,6,"setTermsChecked"],[58,23,30,21],[58,24,30,22],[58,28,30,26],[58,29,30,27],[59,6,31,4],[60,4,32,2],[60,5,32,3],[61,4,34,2],[61,10,34,8,"handleTermsAccept"],[61,27,34,25],[61,30,34,28],[61,36,34,28,"handleTermsAccept"],[61,37,34,28],[61,42,34,40],[62,6,35,4],[62,10,35,8],[63,8,36,6],[63,14,36,12,"AsyncStorage"],[63,26,36,24],[63,27,36,24,"default"],[63,34,36,24],[63,35,36,25,"setItem"],[63,42,36,32],[63,43,36,33],[63,58,36,48],[63,60,36,50],[63,66,36,56],[63,67,36,57],[64,8,37,6,"setShowTerms"],[64,20,37,18],[64,21,37,19],[64,26,37,24],[64,27,37,25],[65,8,38,6,"setTermsChecked"],[65,23,38,21],[65,24,38,22],[65,28,38,26],[65,29,38,27],[66,6,39,4],[66,7,39,5],[66,8,39,6],[66,15,39,13,"error"],[66,20,39,18],[66,22,39,20],[67,8,40,6,"console"],[67,15,40,13],[67,16,40,14,"error"],[67,21,40,19],[67,22,40,20],[67,54,40,52],[67,56,40,54,"error"],[67,61,40,59],[67,62,40,60],[68,6,41,4],[69,4,42,2],[69,5,42,3],[70,4,44,2],[70,8,44,2,"useEffect"],[70,14,44,11],[70,15,44,11,"useEffect"],[70,24,44,11],[70,26,44,12],[70,32,44,18],[71,6,45,4],[71,10,45,8],[71,11,45,9,"isLoading"],[71,20,45,18],[71,24,45,22,"termsChecked"],[71,36,45,34],[71,38,45,36],[72,8,46,6],[72,12,46,10,"user"],[72,16,46,14],[72,18,46,16],[73,10,47,8,"router"],[73,16,47,14],[73,17,47,15,"replace"],[73,24,47,22],[73,25,47,23],[73,39,47,37],[73,40,47,38],[74,8,48,6],[74,9,48,7],[74,15,48,13],[75,10,49,8,"router"],[75,16,49,14],[75,17,49,15,"replace"],[75,24,49,22],[75,25,49,23],[75,40,49,38],[75,41,49,39],[76,8,50,6],[77,6,51,4],[78,4,52,2],[78,5,52,3],[78,7,52,5],[78,8,52,6,"user"],[78,12,52,10],[78,14,52,12,"isLoading"],[78,23,52,21],[78,25,52,23,"termsChecked"],[78,37,52,35],[78,38,52,36],[78,39,52,37],[79,4,54,2],[79,24,55,4],[79,28,55,4,"_reactJsxDevRuntime"],[79,47,55,4],[79,48,55,4,"jsxDEV"],[79,54,55,4],[79,56,55,4,"_reactJsxDevRuntime"],[79,75,55,4],[79,76,55,4,"Fragment"],[79,84,55,4],[80,6,55,4,"children"],[80,14,55,4],[80,30,56,6],[80,34,56,6,"_reactJsxDevRuntime"],[80,53,56,6],[80,54,56,6,"jsxDEV"],[80,60,56,6],[80,62,56,7,"View"],[80,66,56,11],[80,67,56,11,"default"],[80,74,56,11],[81,8,56,12,"style"],[81,13,56,17],[81,15,56,19,"styles"],[81,21,56,25],[81,22,56,26,"container"],[81,31,56,36],[82,8,56,36,"children"],[82,16,56,36],[82,31,57,8],[82,35,57,8,"_reactJsxDevRuntime"],[82,54,57,8],[82,55,57,8,"jsxDEV"],[82,61,57,8],[82,63,57,9,"ActivityIndicator"],[82,80,57,26],[82,81,57,26,"default"],[82,88,57,26],[83,10,57,27,"size"],[83,14,57,31],[83,16,57,32],[83,23,57,39],[84,10,57,40,"color"],[84,15,57,45],[84,17,57,46],[85,8,57,55],[86,10,57,55,"fileName"],[86,18,57,55],[86,20,57,55,"_jsxFileName"],[86,32,57,55],[87,10,57,55,"lineNumber"],[87,20,57,55],[88,10,57,55,"columnNumber"],[88,22,57,55],[89,8,57,55],[89,15,57,57],[90,6,57,58],[91,8,57,58,"fileName"],[91,16,57,58],[91,18,57,58,"_jsxFileName"],[91,30,57,58],[92,8,57,58,"lineNumber"],[92,18,57,58],[93,8,57,58,"columnNumber"],[93,20,57,58],[94,6,57,58],[94,13,58,12],[94,14,58,13],[94,29,59,6],[94,33,59,6,"_reactJsxDevRuntime"],[94,52,59,6],[94,53,59,6,"jsxDEV"],[94,59,59,6],[94,61,59,7,"TermsModal"],[94,71,59,17],[94,72,59,17,"default"],[94,79,59,17],[95,8,59,18,"visible"],[95,15,59,25],[95,17,59,27,"showTerms"],[95,26,59,37],[96,8,59,38,"onAccept"],[96,16,59,46],[96,18,59,48,"handleTermsAccept"],[97,6,59,66],[98,8,59,66,"fileName"],[98,16,59,66],[98,18,59,66,"_jsxFileName"],[98,30,59,66],[99,8,59,66,"lineNumber"],[99,18,59,66],[100,8,59,66,"columnNumber"],[100,20,59,66],[101,6,59,66],[101,13,59,68],[101,14,59,69],[102,4,59,69],[102,19,60,6],[102,20,60,7],[103,2,62,0],[104,2,62,1,"_s"],[104,4,62,1],[104,5,8,24,"Index"],[104,10,8,29],[105,4,8,29],[105,12,9,17,"useRouter"],[105,23,9,26],[105,24,9,26,"useRouter"],[105,33,9,26],[105,35,10,30,"useAuthStore"],[105,50,10,42],[105,51,10,42,"useAuthStore"],[105,63,10,42],[106,2,10,42],[107,2,10,42,"_c"],[107,4,10,42],[107,7,8,24,"Index"],[107,12,8,29],[108,2,64,0],[108,8,64,6,"styles"],[108,14,64,12],[108,17,64,15,"StyleSheet"],[108,27,64,25],[108,28,64,25,"default"],[108,35,64,25],[108,36,64,26,"create"],[108,42,64,32],[108,43,64,33],[109,4,65,2,"container"],[109,13,65,11],[109,15,65,13],[110,6,66,4,"flex"],[110,10,66,8],[110,12,66,10],[110,13,66,11],[111,6,67,4,"justifyContent"],[111,20,67,18],[111,22,67,20],[111,30,67,28],[112,6,68,4,"alignItems"],[112,16,68,14],[112,18,68,16],[112,26,68,24],[113,6,69,4,"backgroundColor"],[113,21,69,19],[113,23,69,21],[114,4,70,2],[115,2,71,0],[115,3,71,1],[115,4,71,2],[116,2,71,3],[116,6,71,3,"_c"],[116,8,71,3],[117,2,71,3,"$RefreshReg$"],[117,14,71,3],[117,15,71,3,"_c"],[117,17,71,3],[118,0,71,3],[118,3]],"functionMap":{"names":["<global>","Index","useEffect$argument_0","checkTermsAcceptance","handleTermsAccept"],"mappings":"AAA;eCO;YCM;GDE;+BEE;GFc;4BGE;GHQ;YCE;GDQ;CDU"},"hasCjsExports":false},"type":"js/module"}]}