{"dependencies":[{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":69,"index":103}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":104},"end":{"line":3,"column":26,"index":130}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useAuthStore\", {\n    enumerable: true,\n    get: function () {\n      return useAuthStore;\n    }\n  });\n  var _zustand = require(_dependencyMap[0], \"zustand\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _axios = require(_dependencyMap[2], \"axios\");\n  var axios = _interopDefault(_axios);\n  const API_URL = process.env.EXPO_PUBLIC_BACKEND_URL;\n  const useAuthStore = (0, _zustand.create)(set => ({\n    user: null,\n    token: null,\n    isLoading: true,\n    loadToken: async () => {\n      try {\n        const token = await AsyncStorage.default.getItem('token');\n        const userData = await AsyncStorage.default.getItem('user');\n        if (token && userData) {\n          set({\n            token,\n            user: JSON.parse(userData),\n            isLoading: false\n          });\n        } else {\n          set({\n            isLoading: false\n          });\n        }\n      } catch (error) {\n        console.error('Load token error:', error);\n        set({\n          isLoading: false\n        });\n      }\n    },\n    login: async (username, password) => {\n      try {\n        const response = await axios.default.post(`${API_URL}/api/auth/login`, {\n          username,\n          password\n        });\n        const {\n          access_token,\n          user\n        } = response.data;\n        await AsyncStorage.default.setItem('token', access_token);\n        await AsyncStorage.default.setItem('user', JSON.stringify(user));\n        set({\n          user,\n          token: access_token\n        });\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Login failed');\n      }\n    },\n    register: async (username, email, password, full_name, referral_code) => {\n      try {\n        const response = await axios.default.post(`${API_URL}/api/auth/register`, {\n          username,\n          email,\n          password,\n          full_name,\n          referral_code: referral_code || undefined\n        });\n        const {\n          access_token,\n          user\n        } = response.data;\n        await AsyncStorage.default.setItem('token', access_token);\n        await AsyncStorage.default.setItem('user', JSON.stringify(user));\n        set({\n          user,\n          token: access_token\n        });\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Registration failed');\n      }\n    },\n    logout: async () => {\n      try {\n        // Clear AsyncStorage\n        await AsyncStorage.default.removeItem('token');\n        await AsyncStorage.default.removeItem('user');\n        await AsyncStorage.default.clear(); // Clear all storage\n\n        // Clear state\n        set({\n          user: null,\n          token: null,\n          isLoading: false\n        });\n        console.log('Logout successful');\n      } catch (error) {\n        console.error('Logout error:', error);\n      }\n    }\n  }));\n});","lineCount":112,"map":[[12,2,31,0,"Object"],[12,8,31,0],[12,9,31,0,"defineProperty"],[12,23,31,0],[12,24,31,0,"exports"],[12,31,31,0],[13,4,31,0,"enumerable"],[13,14,31,0],[14,4,31,0,"get"],[14,7,31,0],[14,18,31,0,"get"],[14,19,31,0],[15,6,31,0],[15,13,31,0,"useAuthStore"],[15,25,31,0],[16,4,31,0],[17,2,31,0],[18,2,1,0],[18,6,1,0,"_zustand"],[18,14,1,0],[18,17,1,0,"require"],[18,24,1,0],[18,25,1,0,"_dependencyMap"],[18,39,1,0],[19,2,2,0],[19,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[19,42,2,0],[19,45,2,0,"require"],[19,52,2,0],[19,53,2,0,"_dependencyMap"],[19,67,2,0],[20,2,2,0],[20,6,2,0,"AsyncStorage"],[20,18,2,0],[20,21,2,0,"_interopDefault"],[20,36,2,0],[20,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[20,73,2,0],[21,2,3,0],[21,6,3,0,"_axios"],[21,12,3,0],[21,15,3,0,"require"],[21,22,3,0],[21,23,3,0,"_dependencyMap"],[21,37,3,0],[22,2,3,0],[22,6,3,0,"axios"],[22,11,3,0],[22,14,3,0,"_interopDefault"],[22,29,3,0],[22,30,3,0,"_axios"],[22,36,3,0],[23,2,5,0],[23,8,5,6,"API_URL"],[23,15,5,13],[23,18,5,16,"process"],[23,25,5,23],[23,26,5,24,"env"],[23,29,5,27],[23,30,5,28,"EXPO_PUBLIC_BACKEND_URL"],[23,53,5,51],[24,2,31,7],[24,8,31,13,"useAuthStore"],[24,20,31,25],[24,23,31,28],[24,27,31,28,"create"],[24,35,31,34],[24,36,31,34,"create"],[24,42,31,34],[24,44,31,47,"set"],[24,47,31,50],[24,52,31,56],[25,4,32,2,"user"],[25,8,32,6],[25,10,32,8],[25,14,32,12],[26,4,33,2,"token"],[26,9,33,7],[26,11,33,9],[26,15,33,13],[27,4,34,2,"isLoading"],[27,13,34,11],[27,15,34,13],[27,19,34,17],[28,4,36,2,"loadToken"],[28,13,36,11],[28,15,36,13],[28,21,36,13,"loadToken"],[28,22,36,13],[28,27,36,25],[29,6,37,4],[29,10,37,8],[30,8,38,6],[30,14,38,12,"token"],[30,19,38,17],[30,22,38,20],[30,28,38,26,"AsyncStorage"],[30,40,38,38],[30,41,38,38,"default"],[30,48,38,38],[30,49,38,39,"getItem"],[30,56,38,46],[30,57,38,47],[30,64,38,54],[30,65,38,55],[31,8,39,6],[31,14,39,12,"userData"],[31,22,39,20],[31,25,39,23],[31,31,39,29,"AsyncStorage"],[31,43,39,41],[31,44,39,41,"default"],[31,51,39,41],[31,52,39,42,"getItem"],[31,59,39,49],[31,60,39,50],[31,66,39,56],[31,67,39,57],[32,8,41,6],[32,12,41,10,"token"],[32,17,41,15],[32,21,41,19,"userData"],[32,29,41,27],[32,31,41,29],[33,10,42,8,"set"],[33,13,42,11],[33,14,42,12],[34,12,42,14,"token"],[34,17,42,19],[35,12,42,21,"user"],[35,16,42,25],[35,18,42,27,"JSON"],[35,22,42,31],[35,23,42,32,"parse"],[35,28,42,37],[35,29,42,38,"userData"],[35,37,42,46],[35,38,42,47],[36,12,42,49,"isLoading"],[36,21,42,58],[36,23,42,60],[37,10,42,66],[37,11,42,67],[37,12,42,68],[38,8,43,6],[38,9,43,7],[38,15,43,13],[39,10,44,8,"set"],[39,13,44,11],[39,14,44,12],[40,12,44,14,"isLoading"],[40,21,44,23],[40,23,44,25],[41,10,44,31],[41,11,44,32],[41,12,44,33],[42,8,45,6],[43,6,46,4],[43,7,46,5],[43,8,46,6],[43,15,46,13,"error"],[43,20,46,18],[43,22,46,20],[44,8,47,6,"console"],[44,15,47,13],[44,16,47,14,"error"],[44,21,47,19],[44,22,47,20],[44,41,47,39],[44,43,47,41,"error"],[44,48,47,46],[44,49,47,47],[45,8,48,6,"set"],[45,11,48,9],[45,12,48,10],[46,10,48,12,"isLoading"],[46,19,48,21],[46,21,48,23],[47,8,48,29],[47,9,48,30],[47,10,48,31],[48,6,49,4],[49,4,50,2],[49,5,50,3],[50,4,52,2,"login"],[50,9,52,7],[50,11,52,9],[50,17,52,9,"login"],[50,18,52,16,"username"],[50,26,52,32],[50,28,52,34,"password"],[50,36,52,50],[50,41,52,55],[51,6,53,4],[51,10,53,8],[52,8,54,6],[52,14,54,12,"response"],[52,22,54,20],[52,25,54,23],[52,31,54,29,"axios"],[52,36,54,34],[52,37,54,34,"default"],[52,44,54,34],[52,45,54,35,"post"],[52,49,54,39],[52,50,54,40],[52,53,54,43,"API_URL"],[52,60,54,50],[52,77,54,67],[52,79,54,69],[53,10,55,8,"username"],[53,18,55,16],[54,10,56,8,"password"],[55,8,57,6],[55,9,57,7],[55,10,57,8],[56,8,59,6],[56,14,59,12],[57,10,59,14,"access_token"],[57,22,59,26],[58,10,59,28,"user"],[59,8,59,33],[59,9,59,34],[59,12,59,37,"response"],[59,20,59,45],[59,21,59,46,"data"],[59,25,59,50],[60,8,61,6],[60,14,61,12,"AsyncStorage"],[60,26,61,24],[60,27,61,24,"default"],[60,34,61,24],[60,35,61,25,"setItem"],[60,42,61,32],[60,43,61,33],[60,50,61,40],[60,52,61,42,"access_token"],[60,64,61,54],[60,65,61,55],[61,8,62,6],[61,14,62,12,"AsyncStorage"],[61,26,62,24],[61,27,62,24,"default"],[61,34,62,24],[61,35,62,25,"setItem"],[61,42,62,32],[61,43,62,33],[61,49,62,39],[61,51,62,41,"JSON"],[61,55,62,45],[61,56,62,46,"stringify"],[61,65,62,55],[61,66,62,56,"user"],[61,70,62,60],[61,71,62,61],[61,72,62,62],[62,8,64,6,"set"],[62,11,64,9],[62,12,64,10],[63,10,64,12,"user"],[63,14,64,16],[64,10,64,18,"token"],[64,15,64,23],[64,17,64,25,"access_token"],[65,8,64,38],[65,9,64,39],[65,10,64,40],[66,6,65,4],[66,7,65,5],[66,8,65,6],[66,15,65,13,"error"],[66,20,65,23],[66,22,65,25],[67,8,66,6],[67,14,66,12],[67,18,66,16,"Error"],[67,23,66,21],[67,24,66,22,"error"],[67,29,66,27],[67,30,66,28,"response"],[67,38,66,36],[67,40,66,38,"data"],[67,44,66,42],[67,46,66,44,"detail"],[67,52,66,50],[67,56,66,54],[67,70,66,68],[67,71,66,69],[68,6,67,4],[69,4,68,2],[69,5,68,3],[70,4,70,2,"register"],[70,12,70,10],[70,14,70,12],[70,20,70,12,"register"],[70,21,70,19,"username"],[70,29,70,35],[70,31,70,37,"email"],[70,36,70,50],[70,38,70,52,"password"],[70,46,70,68],[70,48,70,70,"full_name"],[70,57,70,87],[70,59,70,89,"referral_code"],[70,72,70,111],[70,77,70,116],[71,6,71,4],[71,10,71,8],[72,8,72,6],[72,14,72,12,"response"],[72,22,72,20],[72,25,72,23],[72,31,72,29,"axios"],[72,36,72,34],[72,37,72,34,"default"],[72,44,72,34],[72,45,72,35,"post"],[72,49,72,39],[72,50,72,40],[72,53,72,43,"API_URL"],[72,60,72,50],[72,80,72,70],[72,82,72,72],[73,10,73,8,"username"],[73,18,73,16],[74,10,74,8,"email"],[74,15,74,13],[75,10,75,8,"password"],[75,18,75,16],[76,10,76,8,"full_name"],[76,19,76,17],[77,10,77,8,"referral_code"],[77,23,77,21],[77,25,77,23,"referral_code"],[77,38,77,36],[77,42,77,40,"undefined"],[78,8,78,6],[78,9,78,7],[78,10,78,8],[79,8,80,6],[79,14,80,12],[80,10,80,14,"access_token"],[80,22,80,26],[81,10,80,28,"user"],[82,8,80,33],[82,9,80,34],[82,12,80,37,"response"],[82,20,80,45],[82,21,80,46,"data"],[82,25,80,50],[83,8,82,6],[83,14,82,12,"AsyncStorage"],[83,26,82,24],[83,27,82,24,"default"],[83,34,82,24],[83,35,82,25,"setItem"],[83,42,82,32],[83,43,82,33],[83,50,82,40],[83,52,82,42,"access_token"],[83,64,82,54],[83,65,82,55],[84,8,83,6],[84,14,83,12,"AsyncStorage"],[84,26,83,24],[84,27,83,24,"default"],[84,34,83,24],[84,35,83,25,"setItem"],[84,42,83,32],[84,43,83,33],[84,49,83,39],[84,51,83,41,"JSON"],[84,55,83,45],[84,56,83,46,"stringify"],[84,65,83,55],[84,66,83,56,"user"],[84,70,83,60],[84,71,83,61],[84,72,83,62],[85,8,85,6,"set"],[85,11,85,9],[85,12,85,10],[86,10,85,12,"user"],[86,14,85,16],[87,10,85,18,"token"],[87,15,85,23],[87,17,85,25,"access_token"],[88,8,85,38],[88,9,85,39],[88,10,85,40],[89,6,86,4],[89,7,86,5],[89,8,86,6],[89,15,86,13,"error"],[89,20,86,23],[89,22,86,25],[90,8,87,6],[90,14,87,12],[90,18,87,16,"Error"],[90,23,87,21],[90,24,87,22,"error"],[90,29,87,27],[90,30,87,28,"response"],[90,38,87,36],[90,40,87,38,"data"],[90,44,87,42],[90,46,87,44,"detail"],[90,52,87,50],[90,56,87,54],[90,77,87,75],[90,78,87,76],[91,6,88,4],[92,4,89,2],[92,5,89,3],[93,4,91,2,"logout"],[93,10,91,8],[93,12,91,10],[93,18,91,10,"logout"],[93,19,91,10],[93,24,91,22],[94,6,92,4],[94,10,92,8],[95,8,93,6],[96,8,94,6],[96,14,94,12,"AsyncStorage"],[96,26,94,24],[96,27,94,24,"default"],[96,34,94,24],[96,35,94,25,"removeItem"],[96,45,94,35],[96,46,94,36],[96,53,94,43],[96,54,94,44],[97,8,95,6],[97,14,95,12,"AsyncStorage"],[97,26,95,24],[97,27,95,24,"default"],[97,34,95,24],[97,35,95,25,"removeItem"],[97,45,95,35],[97,46,95,36],[97,52,95,42],[97,53,95,43],[98,8,96,6],[98,14,96,12,"AsyncStorage"],[98,26,96,24],[98,27,96,24,"default"],[98,34,96,24],[98,35,96,25,"clear"],[98,40,96,30],[98,41,96,31],[98,42,96,32],[98,43,96,33],[98,44,96,34],[100,8,98,6],[101,8,99,6,"set"],[101,11,99,9],[101,12,99,10],[102,10,99,12,"user"],[102,14,99,16],[102,16,99,18],[102,20,99,22],[103,10,99,24,"token"],[103,15,99,29],[103,17,99,31],[103,21,99,35],[104,10,99,37,"isLoading"],[104,19,99,46],[104,21,99,48],[105,8,99,54],[105,9,99,55],[105,10,99,56],[106,8,101,6,"console"],[106,15,101,13],[106,16,101,14,"log"],[106,19,101,17],[106,20,101,18],[106,39,101,37],[106,40,101,38],[107,6,102,4],[107,7,102,5],[107,8,102,6],[107,15,102,13,"error"],[107,20,102,18],[107,22,102,20],[108,8,103,6,"console"],[108,15,103,13],[108,16,103,14,"error"],[108,21,103,19],[108,22,103,20],[108,37,103,35],[108,39,103,37,"error"],[108,44,103,42],[108,45,103,43],[109,6,104,4],[110,4,105,2],[111,2,106,0],[111,3,106,1],[111,4,106,2],[111,5,106,3],[112,0,106,4],[112,3]],"functionMap":{"names":["<global>","create$argument_0","loadToken","login","register","logout"],"mappings":"AAA;8CC8B;aCK;GDc;SEE;GFgB;YGE;GHmB;UIE;GJc;EDC"},"hasCjsExports":false},"type":"js/module"}]}