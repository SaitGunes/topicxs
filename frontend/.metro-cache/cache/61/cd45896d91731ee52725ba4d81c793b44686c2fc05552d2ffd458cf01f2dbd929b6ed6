{"dependencies":[{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":69,"index":103}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":104},"end":{"line":3,"column":26,"index":130}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useAuthStore\", {\n    enumerable: true,\n    get: function () {\n      return useAuthStore;\n    }\n  });\n  var _zustand = require(_dependencyMap[0], \"zustand\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _axios = require(_dependencyMap[2], \"axios\");\n  var axios = _interopDefault(_axios);\n  const API_URL = process.env.EXPO_PUBLIC_BACKEND_URL;\n  const useAuthStore = (0, _zustand.create)(set => ({\n    user: null,\n    token: null,\n    isLoading: true,\n    loadToken: async () => {\n      try {\n        const token = await AsyncStorage.default.getItem('token');\n        const userData = await AsyncStorage.default.getItem('user');\n        if (token && userData) {\n          set({\n            token,\n            user: JSON.parse(userData),\n            isLoading: false\n          });\n        } else {\n          set({\n            isLoading: false\n          });\n        }\n      } catch (error) {\n        console.error('Load token error:', error);\n        set({\n          isLoading: false\n        });\n      }\n    },\n    login: async (username, password) => {\n      try {\n        const response = await axios.default.post(`${API_URL}/api/auth/login`, {\n          username,\n          password\n        });\n        const {\n          access_token,\n          user\n        } = response.data;\n        await AsyncStorage.default.setItem('token', access_token);\n        await AsyncStorage.default.setItem('user', JSON.stringify(user));\n        set({\n          user,\n          token: access_token\n        });\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Login failed');\n      }\n    },\n    register: async (username, email, password, full_name, referral_code) => {\n      try {\n        const response = await axios.default.post(`${API_URL}/api/auth/register`, {\n          username,\n          email,\n          password,\n          full_name,\n          referral_code: referral_code || undefined\n        });\n        const {\n          access_token,\n          user\n        } = response.data;\n        await AsyncStorage.default.setItem('token', access_token);\n        await AsyncStorage.default.setItem('user', JSON.stringify(user));\n        set({\n          user,\n          token: access_token\n        });\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Registration failed');\n      }\n    },\n    logout: async () => {\n      try {\n        // Clear AsyncStorage\n        await AsyncStorage.default.removeItem('token');\n        await AsyncStorage.default.removeItem('user');\n        await AsyncStorage.default.clear(); // Clear all storage\n\n        // Clear state\n        set({\n          user: null,\n          token: null,\n          isLoading: false\n        });\n        console.log('Logout successful');\n      } catch (error) {\n        console.error('Logout error:', error);\n      }\n    },\n    setUser: async user => {\n      try {\n        await AsyncStorage.default.setItem('user', JSON.stringify(user));\n        set({\n          user\n        });\n      } catch (error) {\n        console.error('Set user error:', error);\n      }\n    }\n  }));\n});","lineCount":122,"map":[[12,2,33,0,"Object"],[12,8,33,0],[12,9,33,0,"defineProperty"],[12,23,33,0],[12,24,33,0,"exports"],[12,31,33,0],[13,4,33,0,"enumerable"],[13,14,33,0],[14,4,33,0,"get"],[14,7,33,0],[14,18,33,0,"get"],[14,19,33,0],[15,6,33,0],[15,13,33,0,"useAuthStore"],[15,25,33,0],[16,4,33,0],[17,2,33,0],[18,2,1,0],[18,6,1,0,"_zustand"],[18,14,1,0],[18,17,1,0,"require"],[18,24,1,0],[18,25,1,0,"_dependencyMap"],[18,39,1,0],[19,2,2,0],[19,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[19,42,2,0],[19,45,2,0,"require"],[19,52,2,0],[19,53,2,0,"_dependencyMap"],[19,67,2,0],[20,2,2,0],[20,6,2,0,"AsyncStorage"],[20,18,2,0],[20,21,2,0,"_interopDefault"],[20,36,2,0],[20,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[20,73,2,0],[21,2,3,0],[21,6,3,0,"_axios"],[21,12,3,0],[21,15,3,0,"require"],[21,22,3,0],[21,23,3,0,"_dependencyMap"],[21,37,3,0],[22,2,3,0],[22,6,3,0,"axios"],[22,11,3,0],[22,14,3,0,"_interopDefault"],[22,29,3,0],[22,30,3,0,"_axios"],[22,36,3,0],[23,2,5,0],[23,8,5,6,"API_URL"],[23,15,5,13],[23,18,5,16,"process"],[23,25,5,23],[23,26,5,24,"env"],[23,29,5,27],[23,30,5,28,"EXPO_PUBLIC_BACKEND_URL"],[23,53,5,51],[24,2,33,7],[24,8,33,13,"useAuthStore"],[24,20,33,25],[24,23,33,28],[24,27,33,28,"create"],[24,35,33,34],[24,36,33,34,"create"],[24,42,33,34],[24,44,33,47,"set"],[24,47,33,50],[24,52,33,56],[25,4,34,2,"user"],[25,8,34,6],[25,10,34,8],[25,14,34,12],[26,4,35,2,"token"],[26,9,35,7],[26,11,35,9],[26,15,35,13],[27,4,36,2,"isLoading"],[27,13,36,11],[27,15,36,13],[27,19,36,17],[28,4,38,2,"loadToken"],[28,13,38,11],[28,15,38,13],[28,21,38,13,"loadToken"],[28,22,38,13],[28,27,38,25],[29,6,39,4],[29,10,39,8],[30,8,40,6],[30,14,40,12,"token"],[30,19,40,17],[30,22,40,20],[30,28,40,26,"AsyncStorage"],[30,40,40,38],[30,41,40,38,"default"],[30,48,40,38],[30,49,40,39,"getItem"],[30,56,40,46],[30,57,40,47],[30,64,40,54],[30,65,40,55],[31,8,41,6],[31,14,41,12,"userData"],[31,22,41,20],[31,25,41,23],[31,31,41,29,"AsyncStorage"],[31,43,41,41],[31,44,41,41,"default"],[31,51,41,41],[31,52,41,42,"getItem"],[31,59,41,49],[31,60,41,50],[31,66,41,56],[31,67,41,57],[32,8,43,6],[32,12,43,10,"token"],[32,17,43,15],[32,21,43,19,"userData"],[32,29,43,27],[32,31,43,29],[33,10,44,8,"set"],[33,13,44,11],[33,14,44,12],[34,12,44,14,"token"],[34,17,44,19],[35,12,44,21,"user"],[35,16,44,25],[35,18,44,27,"JSON"],[35,22,44,31],[35,23,44,32,"parse"],[35,28,44,37],[35,29,44,38,"userData"],[35,37,44,46],[35,38,44,47],[36,12,44,49,"isLoading"],[36,21,44,58],[36,23,44,60],[37,10,44,66],[37,11,44,67],[37,12,44,68],[38,8,45,6],[38,9,45,7],[38,15,45,13],[39,10,46,8,"set"],[39,13,46,11],[39,14,46,12],[40,12,46,14,"isLoading"],[40,21,46,23],[40,23,46,25],[41,10,46,31],[41,11,46,32],[41,12,46,33],[42,8,47,6],[43,6,48,4],[43,7,48,5],[43,8,48,6],[43,15,48,13,"error"],[43,20,48,18],[43,22,48,20],[44,8,49,6,"console"],[44,15,49,13],[44,16,49,14,"error"],[44,21,49,19],[44,22,49,20],[44,41,49,39],[44,43,49,41,"error"],[44,48,49,46],[44,49,49,47],[45,8,50,6,"set"],[45,11,50,9],[45,12,50,10],[46,10,50,12,"isLoading"],[46,19,50,21],[46,21,50,23],[47,8,50,29],[47,9,50,30],[47,10,50,31],[48,6,51,4],[49,4,52,2],[49,5,52,3],[50,4,54,2,"login"],[50,9,54,7],[50,11,54,9],[50,17,54,9,"login"],[50,18,54,16,"username"],[50,26,54,32],[50,28,54,34,"password"],[50,36,54,50],[50,41,54,55],[51,6,55,4],[51,10,55,8],[52,8,56,6],[52,14,56,12,"response"],[52,22,56,20],[52,25,56,23],[52,31,56,29,"axios"],[52,36,56,34],[52,37,56,34,"default"],[52,44,56,34],[52,45,56,35,"post"],[52,49,56,39],[52,50,56,40],[52,53,56,43,"API_URL"],[52,60,56,50],[52,77,56,67],[52,79,56,69],[53,10,57,8,"username"],[53,18,57,16],[54,10,58,8,"password"],[55,8,59,6],[55,9,59,7],[55,10,59,8],[56,8,61,6],[56,14,61,12],[57,10,61,14,"access_token"],[57,22,61,26],[58,10,61,28,"user"],[59,8,61,33],[59,9,61,34],[59,12,61,37,"response"],[59,20,61,45],[59,21,61,46,"data"],[59,25,61,50],[60,8,63,6],[60,14,63,12,"AsyncStorage"],[60,26,63,24],[60,27,63,24,"default"],[60,34,63,24],[60,35,63,25,"setItem"],[60,42,63,32],[60,43,63,33],[60,50,63,40],[60,52,63,42,"access_token"],[60,64,63,54],[60,65,63,55],[61,8,64,6],[61,14,64,12,"AsyncStorage"],[61,26,64,24],[61,27,64,24,"default"],[61,34,64,24],[61,35,64,25,"setItem"],[61,42,64,32],[61,43,64,33],[61,49,64,39],[61,51,64,41,"JSON"],[61,55,64,45],[61,56,64,46,"stringify"],[61,65,64,55],[61,66,64,56,"user"],[61,70,64,60],[61,71,64,61],[61,72,64,62],[62,8,66,6,"set"],[62,11,66,9],[62,12,66,10],[63,10,66,12,"user"],[63,14,66,16],[64,10,66,18,"token"],[64,15,66,23],[64,17,66,25,"access_token"],[65,8,66,38],[65,9,66,39],[65,10,66,40],[66,6,67,4],[66,7,67,5],[66,8,67,6],[66,15,67,13,"error"],[66,20,67,23],[66,22,67,25],[67,8,68,6],[67,14,68,12],[67,18,68,16,"Error"],[67,23,68,21],[67,24,68,22,"error"],[67,29,68,27],[67,30,68,28,"response"],[67,38,68,36],[67,40,68,38,"data"],[67,44,68,42],[67,46,68,44,"detail"],[67,52,68,50],[67,56,68,54],[67,70,68,68],[67,71,68,69],[68,6,69,4],[69,4,70,2],[69,5,70,3],[70,4,72,2,"register"],[70,12,72,10],[70,14,72,12],[70,20,72,12,"register"],[70,21,72,19,"username"],[70,29,72,35],[70,31,72,37,"email"],[70,36,72,50],[70,38,72,52,"password"],[70,46,72,68],[70,48,72,70,"full_name"],[70,57,72,87],[70,59,72,89,"referral_code"],[70,72,72,111],[70,77,72,116],[71,6,73,4],[71,10,73,8],[72,8,74,6],[72,14,74,12,"response"],[72,22,74,20],[72,25,74,23],[72,31,74,29,"axios"],[72,36,74,34],[72,37,74,34,"default"],[72,44,74,34],[72,45,74,35,"post"],[72,49,74,39],[72,50,74,40],[72,53,74,43,"API_URL"],[72,60,74,50],[72,80,74,70],[72,82,74,72],[73,10,75,8,"username"],[73,18,75,16],[74,10,76,8,"email"],[74,15,76,13],[75,10,77,8,"password"],[75,18,77,16],[76,10,78,8,"full_name"],[76,19,78,17],[77,10,79,8,"referral_code"],[77,23,79,21],[77,25,79,23,"referral_code"],[77,38,79,36],[77,42,79,40,"undefined"],[78,8,80,6],[78,9,80,7],[78,10,80,8],[79,8,82,6],[79,14,82,12],[80,10,82,14,"access_token"],[80,22,82,26],[81,10,82,28,"user"],[82,8,82,33],[82,9,82,34],[82,12,82,37,"response"],[82,20,82,45],[82,21,82,46,"data"],[82,25,82,50],[83,8,84,6],[83,14,84,12,"AsyncStorage"],[83,26,84,24],[83,27,84,24,"default"],[83,34,84,24],[83,35,84,25,"setItem"],[83,42,84,32],[83,43,84,33],[83,50,84,40],[83,52,84,42,"access_token"],[83,64,84,54],[83,65,84,55],[84,8,85,6],[84,14,85,12,"AsyncStorage"],[84,26,85,24],[84,27,85,24,"default"],[84,34,85,24],[84,35,85,25,"setItem"],[84,42,85,32],[84,43,85,33],[84,49,85,39],[84,51,85,41,"JSON"],[84,55,85,45],[84,56,85,46,"stringify"],[84,65,85,55],[84,66,85,56,"user"],[84,70,85,60],[84,71,85,61],[84,72,85,62],[85,8,87,6,"set"],[85,11,87,9],[85,12,87,10],[86,10,87,12,"user"],[86,14,87,16],[87,10,87,18,"token"],[87,15,87,23],[87,17,87,25,"access_token"],[88,8,87,38],[88,9,87,39],[88,10,87,40],[89,6,88,4],[89,7,88,5],[89,8,88,6],[89,15,88,13,"error"],[89,20,88,23],[89,22,88,25],[90,8,89,6],[90,14,89,12],[90,18,89,16,"Error"],[90,23,89,21],[90,24,89,22,"error"],[90,29,89,27],[90,30,89,28,"response"],[90,38,89,36],[90,40,89,38,"data"],[90,44,89,42],[90,46,89,44,"detail"],[90,52,89,50],[90,56,89,54],[90,77,89,75],[90,78,89,76],[91,6,90,4],[92,4,91,2],[92,5,91,3],[93,4,93,2,"logout"],[93,10,93,8],[93,12,93,10],[93,18,93,10,"logout"],[93,19,93,10],[93,24,93,22],[94,6,94,4],[94,10,94,8],[95,8,95,6],[96,8,96,6],[96,14,96,12,"AsyncStorage"],[96,26,96,24],[96,27,96,24,"default"],[96,34,96,24],[96,35,96,25,"removeItem"],[96,45,96,35],[96,46,96,36],[96,53,96,43],[96,54,96,44],[97,8,97,6],[97,14,97,12,"AsyncStorage"],[97,26,97,24],[97,27,97,24,"default"],[97,34,97,24],[97,35,97,25,"removeItem"],[97,45,97,35],[97,46,97,36],[97,52,97,42],[97,53,97,43],[98,8,98,6],[98,14,98,12,"AsyncStorage"],[98,26,98,24],[98,27,98,24,"default"],[98,34,98,24],[98,35,98,25,"clear"],[98,40,98,30],[98,41,98,31],[98,42,98,32],[98,43,98,33],[98,44,98,34],[100,8,100,6],[101,8,101,6,"set"],[101,11,101,9],[101,12,101,10],[102,10,101,12,"user"],[102,14,101,16],[102,16,101,18],[102,20,101,22],[103,10,101,24,"token"],[103,15,101,29],[103,17,101,31],[103,21,101,35],[104,10,101,37,"isLoading"],[104,19,101,46],[104,21,101,48],[105,8,101,54],[105,9,101,55],[105,10,101,56],[106,8,103,6,"console"],[106,15,103,13],[106,16,103,14,"log"],[106,19,103,17],[106,20,103,18],[106,39,103,37],[106,40,103,38],[107,6,104,4],[107,7,104,5],[107,8,104,6],[107,15,104,13,"error"],[107,20,104,18],[107,22,104,20],[108,8,105,6,"console"],[108,15,105,13],[108,16,105,14,"error"],[108,21,105,19],[108,22,105,20],[108,37,105,35],[108,39,105,37,"error"],[108,44,105,42],[108,45,105,43],[109,6,106,4],[110,4,107,2],[110,5,107,3],[111,4,109,2,"setUser"],[111,11,109,9],[111,13,109,11],[111,19,109,18,"user"],[111,23,109,28],[111,27,109,33],[112,6,110,4],[112,10,110,8],[113,8,111,6],[113,14,111,12,"AsyncStorage"],[113,26,111,24],[113,27,111,24,"default"],[113,34,111,24],[113,35,111,25,"setItem"],[113,42,111,32],[113,43,111,33],[113,49,111,39],[113,51,111,41,"JSON"],[113,55,111,45],[113,56,111,46,"stringify"],[113,65,111,55],[113,66,111,56,"user"],[113,70,111,60],[113,71,111,61],[113,72,111,62],[114,8,112,6,"set"],[114,11,112,9],[114,12,112,10],[115,10,112,12,"user"],[116,8,112,17],[116,9,112,18],[116,10,112,19],[117,6,113,4],[117,7,113,5],[117,8,113,6],[117,15,113,13,"error"],[117,20,113,18],[117,22,113,20],[118,8,114,6,"console"],[118,15,114,13],[118,16,114,14,"error"],[118,21,114,19],[118,22,114,20],[118,39,114,37],[118,41,114,39,"error"],[118,46,114,44],[118,47,114,45],[119,6,115,4],[120,4,116,2],[121,2,117,0],[121,3,117,1],[121,4,117,2],[121,5,117,3],[122,0,117,4],[122,3]],"functionMap":{"names":["<global>","create$argument_0","loadToken","login","register","logout","setUser"],"mappings":"AAA;8CCgC;aCK;GDc;SEE;GFgB;YGE;GHmB;UIE;GJc;WKE;GLO;EDC"},"hasCjsExports":false},"type":"js/module"}]}