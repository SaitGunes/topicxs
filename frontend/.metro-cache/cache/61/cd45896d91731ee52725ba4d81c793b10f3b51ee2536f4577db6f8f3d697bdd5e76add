{"dependencies":[{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":69,"index":103}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":104},"end":{"line":3,"column":26,"index":130}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useAuthStore\", {\n    enumerable: true,\n    get: function () {\n      return useAuthStore;\n    }\n  });\n  var _zustand = require(_dependencyMap[0], \"zustand\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _axios = require(_dependencyMap[2], \"axios\");\n  var axios = _interopDefault(_axios);\n  const API_URL = process.env.EXPO_PUBLIC_BACKEND_URL;\n  const useAuthStore = (0, _zustand.create)(set => ({\n    user: null,\n    token: null,\n    isLoading: true,\n    loadToken: async () => {\n      try {\n        const token = await AsyncStorage.default.getItem('token');\n        const userData = await AsyncStorage.default.getItem('user');\n        if (token && userData) {\n          set({\n            token,\n            user: JSON.parse(userData),\n            isLoading: false\n          });\n        } else {\n          set({\n            isLoading: false\n          });\n        }\n      } catch (error) {\n        console.error('Load token error:', error);\n        set({\n          isLoading: false\n        });\n      }\n    },\n    login: async (username, password) => {\n      try {\n        const response = await axios.default.post(`${API_URL}/api/auth/login`, {\n          username,\n          password\n        });\n        const {\n          access_token,\n          user\n        } = response.data;\n        await AsyncStorage.default.setItem('token', access_token);\n        await AsyncStorage.default.setItem('user', JSON.stringify(user));\n        set({\n          user,\n          token: access_token\n        });\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Login failed');\n      }\n    },\n    register: async (username, email, password, full_name, referral_code) => {\n      try {\n        const response = await axios.default.post(`${API_URL}/api/auth/register`, {\n          username,\n          email,\n          password,\n          full_name,\n          referral_code: referral_code || undefined\n        });\n        const {\n          access_token,\n          user\n        } = response.data;\n        await AsyncStorage.default.setItem('token', access_token);\n        await AsyncStorage.default.setItem('user', JSON.stringify(user));\n        set({\n          user,\n          token: access_token\n        });\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Registration failed');\n      }\n    },\n    logout: async () => {\n      try {\n        // Clear AsyncStorage\n        await AsyncStorage.default.removeItem('token');\n        await AsyncStorage.default.removeItem('user');\n        await AsyncStorage.default.clear(); // Clear all storage\n\n        // Clear state\n        set({\n          user: null,\n          token: null,\n          isLoading: false\n        });\n        console.log('Logout successful');\n      } catch (error) {\n        console.error('Logout error:', error);\n      }\n    },\n    setUser: async user => {\n      try {\n        await AsyncStorage.default.setItem('user', JSON.stringify(user));\n        set({\n          user\n        });\n      } catch (error) {\n        console.error('Set user error:', error);\n      }\n    }\n  }));\n});","lineCount":122,"map":[[12,2,32,0,"Object"],[12,8,32,0],[12,9,32,0,"defineProperty"],[12,23,32,0],[12,24,32,0,"exports"],[12,31,32,0],[13,4,32,0,"enumerable"],[13,14,32,0],[14,4,32,0,"get"],[14,7,32,0],[14,18,32,0,"get"],[14,19,32,0],[15,6,32,0],[15,13,32,0,"useAuthStore"],[15,25,32,0],[16,4,32,0],[17,2,32,0],[18,2,1,0],[18,6,1,0,"_zustand"],[18,14,1,0],[18,17,1,0,"require"],[18,24,1,0],[18,25,1,0,"_dependencyMap"],[18,39,1,0],[19,2,2,0],[19,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[19,42,2,0],[19,45,2,0,"require"],[19,52,2,0],[19,53,2,0,"_dependencyMap"],[19,67,2,0],[20,2,2,0],[20,6,2,0,"AsyncStorage"],[20,18,2,0],[20,21,2,0,"_interopDefault"],[20,36,2,0],[20,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[20,73,2,0],[21,2,3,0],[21,6,3,0,"_axios"],[21,12,3,0],[21,15,3,0,"require"],[21,22,3,0],[21,23,3,0,"_dependencyMap"],[21,37,3,0],[22,2,3,0],[22,6,3,0,"axios"],[22,11,3,0],[22,14,3,0,"_interopDefault"],[22,29,3,0],[22,30,3,0,"_axios"],[22,36,3,0],[23,2,5,0],[23,8,5,6,"API_URL"],[23,15,5,13],[23,18,5,16,"process"],[23,25,5,23],[23,26,5,24,"env"],[23,29,5,27],[23,30,5,28,"EXPO_PUBLIC_BACKEND_URL"],[23,53,5,51],[24,2,32,7],[24,8,32,13,"useAuthStore"],[24,20,32,25],[24,23,32,28],[24,27,32,28,"create"],[24,35,32,34],[24,36,32,34,"create"],[24,42,32,34],[24,44,32,47,"set"],[24,47,32,50],[24,52,32,56],[25,4,33,2,"user"],[25,8,33,6],[25,10,33,8],[25,14,33,12],[26,4,34,2,"token"],[26,9,34,7],[26,11,34,9],[26,15,34,13],[27,4,35,2,"isLoading"],[27,13,35,11],[27,15,35,13],[27,19,35,17],[28,4,37,2,"loadToken"],[28,13,37,11],[28,15,37,13],[28,21,37,13,"loadToken"],[28,22,37,13],[28,27,37,25],[29,6,38,4],[29,10,38,8],[30,8,39,6],[30,14,39,12,"token"],[30,19,39,17],[30,22,39,20],[30,28,39,26,"AsyncStorage"],[30,40,39,38],[30,41,39,38,"default"],[30,48,39,38],[30,49,39,39,"getItem"],[30,56,39,46],[30,57,39,47],[30,64,39,54],[30,65,39,55],[31,8,40,6],[31,14,40,12,"userData"],[31,22,40,20],[31,25,40,23],[31,31,40,29,"AsyncStorage"],[31,43,40,41],[31,44,40,41,"default"],[31,51,40,41],[31,52,40,42,"getItem"],[31,59,40,49],[31,60,40,50],[31,66,40,56],[31,67,40,57],[32,8,42,6],[32,12,42,10,"token"],[32,17,42,15],[32,21,42,19,"userData"],[32,29,42,27],[32,31,42,29],[33,10,43,8,"set"],[33,13,43,11],[33,14,43,12],[34,12,43,14,"token"],[34,17,43,19],[35,12,43,21,"user"],[35,16,43,25],[35,18,43,27,"JSON"],[35,22,43,31],[35,23,43,32,"parse"],[35,28,43,37],[35,29,43,38,"userData"],[35,37,43,46],[35,38,43,47],[36,12,43,49,"isLoading"],[36,21,43,58],[36,23,43,60],[37,10,43,66],[37,11,43,67],[37,12,43,68],[38,8,44,6],[38,9,44,7],[38,15,44,13],[39,10,45,8,"set"],[39,13,45,11],[39,14,45,12],[40,12,45,14,"isLoading"],[40,21,45,23],[40,23,45,25],[41,10,45,31],[41,11,45,32],[41,12,45,33],[42,8,46,6],[43,6,47,4],[43,7,47,5],[43,8,47,6],[43,15,47,13,"error"],[43,20,47,18],[43,22,47,20],[44,8,48,6,"console"],[44,15,48,13],[44,16,48,14,"error"],[44,21,48,19],[44,22,48,20],[44,41,48,39],[44,43,48,41,"error"],[44,48,48,46],[44,49,48,47],[45,8,49,6,"set"],[45,11,49,9],[45,12,49,10],[46,10,49,12,"isLoading"],[46,19,49,21],[46,21,49,23],[47,8,49,29],[47,9,49,30],[47,10,49,31],[48,6,50,4],[49,4,51,2],[49,5,51,3],[50,4,53,2,"login"],[50,9,53,7],[50,11,53,9],[50,17,53,9,"login"],[50,18,53,16,"username"],[50,26,53,32],[50,28,53,34,"password"],[50,36,53,50],[50,41,53,55],[51,6,54,4],[51,10,54,8],[52,8,55,6],[52,14,55,12,"response"],[52,22,55,20],[52,25,55,23],[52,31,55,29,"axios"],[52,36,55,34],[52,37,55,34,"default"],[52,44,55,34],[52,45,55,35,"post"],[52,49,55,39],[52,50,55,40],[52,53,55,43,"API_URL"],[52,60,55,50],[52,77,55,67],[52,79,55,69],[53,10,56,8,"username"],[53,18,56,16],[54,10,57,8,"password"],[55,8,58,6],[55,9,58,7],[55,10,58,8],[56,8,60,6],[56,14,60,12],[57,10,60,14,"access_token"],[57,22,60,26],[58,10,60,28,"user"],[59,8,60,33],[59,9,60,34],[59,12,60,37,"response"],[59,20,60,45],[59,21,60,46,"data"],[59,25,60,50],[60,8,62,6],[60,14,62,12,"AsyncStorage"],[60,26,62,24],[60,27,62,24,"default"],[60,34,62,24],[60,35,62,25,"setItem"],[60,42,62,32],[60,43,62,33],[60,50,62,40],[60,52,62,42,"access_token"],[60,64,62,54],[60,65,62,55],[61,8,63,6],[61,14,63,12,"AsyncStorage"],[61,26,63,24],[61,27,63,24,"default"],[61,34,63,24],[61,35,63,25,"setItem"],[61,42,63,32],[61,43,63,33],[61,49,63,39],[61,51,63,41,"JSON"],[61,55,63,45],[61,56,63,46,"stringify"],[61,65,63,55],[61,66,63,56,"user"],[61,70,63,60],[61,71,63,61],[61,72,63,62],[62,8,65,6,"set"],[62,11,65,9],[62,12,65,10],[63,10,65,12,"user"],[63,14,65,16],[64,10,65,18,"token"],[64,15,65,23],[64,17,65,25,"access_token"],[65,8,65,38],[65,9,65,39],[65,10,65,40],[66,6,66,4],[66,7,66,5],[66,8,66,6],[66,15,66,13,"error"],[66,20,66,23],[66,22,66,25],[67,8,67,6],[67,14,67,12],[67,18,67,16,"Error"],[67,23,67,21],[67,24,67,22,"error"],[67,29,67,27],[67,30,67,28,"response"],[67,38,67,36],[67,40,67,38,"data"],[67,44,67,42],[67,46,67,44,"detail"],[67,52,67,50],[67,56,67,54],[67,70,67,68],[67,71,67,69],[68,6,68,4],[69,4,69,2],[69,5,69,3],[70,4,71,2,"register"],[70,12,71,10],[70,14,71,12],[70,20,71,12,"register"],[70,21,71,19,"username"],[70,29,71,35],[70,31,71,37,"email"],[70,36,71,50],[70,38,71,52,"password"],[70,46,71,68],[70,48,71,70,"full_name"],[70,57,71,87],[70,59,71,89,"referral_code"],[70,72,71,111],[70,77,71,116],[71,6,72,4],[71,10,72,8],[72,8,73,6],[72,14,73,12,"response"],[72,22,73,20],[72,25,73,23],[72,31,73,29,"axios"],[72,36,73,34],[72,37,73,34,"default"],[72,44,73,34],[72,45,73,35,"post"],[72,49,73,39],[72,50,73,40],[72,53,73,43,"API_URL"],[72,60,73,50],[72,80,73,70],[72,82,73,72],[73,10,74,8,"username"],[73,18,74,16],[74,10,75,8,"email"],[74,15,75,13],[75,10,76,8,"password"],[75,18,76,16],[76,10,77,8,"full_name"],[76,19,77,17],[77,10,78,8,"referral_code"],[77,23,78,21],[77,25,78,23,"referral_code"],[77,38,78,36],[77,42,78,40,"undefined"],[78,8,79,6],[78,9,79,7],[78,10,79,8],[79,8,81,6],[79,14,81,12],[80,10,81,14,"access_token"],[80,22,81,26],[81,10,81,28,"user"],[82,8,81,33],[82,9,81,34],[82,12,81,37,"response"],[82,20,81,45],[82,21,81,46,"data"],[82,25,81,50],[83,8,83,6],[83,14,83,12,"AsyncStorage"],[83,26,83,24],[83,27,83,24,"default"],[83,34,83,24],[83,35,83,25,"setItem"],[83,42,83,32],[83,43,83,33],[83,50,83,40],[83,52,83,42,"access_token"],[83,64,83,54],[83,65,83,55],[84,8,84,6],[84,14,84,12,"AsyncStorage"],[84,26,84,24],[84,27,84,24,"default"],[84,34,84,24],[84,35,84,25,"setItem"],[84,42,84,32],[84,43,84,33],[84,49,84,39],[84,51,84,41,"JSON"],[84,55,84,45],[84,56,84,46,"stringify"],[84,65,84,55],[84,66,84,56,"user"],[84,70,84,60],[84,71,84,61],[84,72,84,62],[85,8,86,6,"set"],[85,11,86,9],[85,12,86,10],[86,10,86,12,"user"],[86,14,86,16],[87,10,86,18,"token"],[87,15,86,23],[87,17,86,25,"access_token"],[88,8,86,38],[88,9,86,39],[88,10,86,40],[89,6,87,4],[89,7,87,5],[89,8,87,6],[89,15,87,13,"error"],[89,20,87,23],[89,22,87,25],[90,8,88,6],[90,14,88,12],[90,18,88,16,"Error"],[90,23,88,21],[90,24,88,22,"error"],[90,29,88,27],[90,30,88,28,"response"],[90,38,88,36],[90,40,88,38,"data"],[90,44,88,42],[90,46,88,44,"detail"],[90,52,88,50],[90,56,88,54],[90,77,88,75],[90,78,88,76],[91,6,89,4],[92,4,90,2],[92,5,90,3],[93,4,92,2,"logout"],[93,10,92,8],[93,12,92,10],[93,18,92,10,"logout"],[93,19,92,10],[93,24,92,22],[94,6,93,4],[94,10,93,8],[95,8,94,6],[96,8,95,6],[96,14,95,12,"AsyncStorage"],[96,26,95,24],[96,27,95,24,"default"],[96,34,95,24],[96,35,95,25,"removeItem"],[96,45,95,35],[96,46,95,36],[96,53,95,43],[96,54,95,44],[97,8,96,6],[97,14,96,12,"AsyncStorage"],[97,26,96,24],[97,27,96,24,"default"],[97,34,96,24],[97,35,96,25,"removeItem"],[97,45,96,35],[97,46,96,36],[97,52,96,42],[97,53,96,43],[98,8,97,6],[98,14,97,12,"AsyncStorage"],[98,26,97,24],[98,27,97,24,"default"],[98,34,97,24],[98,35,97,25,"clear"],[98,40,97,30],[98,41,97,31],[98,42,97,32],[98,43,97,33],[98,44,97,34],[100,8,99,6],[101,8,100,6,"set"],[101,11,100,9],[101,12,100,10],[102,10,100,12,"user"],[102,14,100,16],[102,16,100,18],[102,20,100,22],[103,10,100,24,"token"],[103,15,100,29],[103,17,100,31],[103,21,100,35],[104,10,100,37,"isLoading"],[104,19,100,46],[104,21,100,48],[105,8,100,54],[105,9,100,55],[105,10,100,56],[106,8,102,6,"console"],[106,15,102,13],[106,16,102,14,"log"],[106,19,102,17],[106,20,102,18],[106,39,102,37],[106,40,102,38],[107,6,103,4],[107,7,103,5],[107,8,103,6],[107,15,103,13,"error"],[107,20,103,18],[107,22,103,20],[108,8,104,6,"console"],[108,15,104,13],[108,16,104,14,"error"],[108,21,104,19],[108,22,104,20],[108,37,104,35],[108,39,104,37,"error"],[108,44,104,42],[108,45,104,43],[109,6,105,4],[110,4,106,2],[110,5,106,3],[111,4,108,2,"setUser"],[111,11,108,9],[111,13,108,11],[111,19,108,18,"user"],[111,23,108,28],[111,27,108,33],[112,6,109,4],[112,10,109,8],[113,8,110,6],[113,14,110,12,"AsyncStorage"],[113,26,110,24],[113,27,110,24,"default"],[113,34,110,24],[113,35,110,25,"setItem"],[113,42,110,32],[113,43,110,33],[113,49,110,39],[113,51,110,41,"JSON"],[113,55,110,45],[113,56,110,46,"stringify"],[113,65,110,55],[113,66,110,56,"user"],[113,70,110,60],[113,71,110,61],[113,72,110,62],[114,8,111,6,"set"],[114,11,111,9],[114,12,111,10],[115,10,111,12,"user"],[116,8,111,17],[116,9,111,18],[116,10,111,19],[117,6,112,4],[117,7,112,5],[117,8,112,6],[117,15,112,13,"error"],[117,20,112,18],[117,22,112,20],[118,8,113,6,"console"],[118,15,113,13],[118,16,113,14,"error"],[118,21,113,19],[118,22,113,20],[118,39,113,37],[118,41,113,39,"error"],[118,46,113,44],[118,47,113,45],[119,6,114,4],[120,4,115,2],[121,2,116,0],[121,3,116,1],[121,4,116,2],[121,5,116,3],[122,0,116,4],[122,3]],"functionMap":{"names":["<global>","create$argument_0","loadToken","login","register","logout","setUser"],"mappings":"AAA;8CC+B;aCK;GDc;SEE;GFgB;YGE;GHmB;UIE;GJc;WKE;GLO;EDC"},"hasCjsExports":false},"type":"js/module"}]}