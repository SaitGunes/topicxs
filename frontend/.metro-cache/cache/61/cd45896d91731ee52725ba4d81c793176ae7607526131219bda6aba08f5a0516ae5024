{"dependencies":[{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":69,"index":103}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":104},"end":{"line":3,"column":26,"index":130}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"../utils/notifications","data":{"asyncType":"async","isESMImport":true,"locs":[{"start":{"line":97,"column":53,"index":2752},"end":{"line":97,"column":85,"index":2784}}],"key":"lryBNtHZmIhXbeC+oBDvSN7q29c=","exportNames":["*"],"imports":1,"isOptional":true}},{"name":"expo/internal/async-require-module","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":97,"column":47,"index":2746},"end":{"line":97,"column":85,"index":2784}}],"key":"y8mhXL4zKvSVvgnacXXOn0UU+QQ=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useAuthStore\", {\n    enumerable: true,\n    get: function () {\n      return useAuthStore;\n    }\n  });\n  var _zustand = require(_dependencyMap[0], \"zustand\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _axios = require(_dependencyMap[2], \"axios\");\n  var axios = _interopDefault(_axios);\n  const API_URL = process.env.EXPO_PUBLIC_BACKEND_URL;\n  const useAuthStore = (0, _zustand.create)(set => ({\n    user: null,\n    token: null,\n    isLoading: true,\n    loadToken: async () => {\n      try {\n        const token = await AsyncStorage.default.getItem('token');\n        const userData = await AsyncStorage.default.getItem('user');\n        if (token && userData) {\n          set({\n            token,\n            user: JSON.parse(userData),\n            isLoading: false\n          });\n        } else {\n          set({\n            isLoading: false\n          });\n        }\n      } catch (error) {\n        console.error('Load token error:', error);\n        set({\n          isLoading: false\n        });\n      }\n    },\n    login: async (username, password) => {\n      try {\n        const response = await axios.default.post(`${API_URL}/api/auth/login`, {\n          username,\n          password\n        });\n        const {\n          access_token,\n          user\n        } = response.data;\n        await AsyncStorage.default.setItem('token', access_token);\n        await AsyncStorage.default.setItem('user', JSON.stringify(user));\n        set({\n          user,\n          token: access_token\n        });\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Login failed');\n      }\n    },\n    register: async (username, email, password, full_name, referral_code) => {\n      try {\n        const response = await axios.default.post(`${API_URL}/api/auth/register`, {\n          username,\n          email,\n          password,\n          full_name,\n          referral_code: referral_code || undefined\n        });\n        const {\n          access_token,\n          user\n        } = response.data;\n        await AsyncStorage.default.setItem('token', access_token);\n        await AsyncStorage.default.setItem('user', JSON.stringify(user));\n        set({\n          user,\n          token: access_token\n        });\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Registration failed');\n      }\n    },\n    logout: async () => {\n      try {\n        // Remove push token from backend\n        try {\n          const {\n            removePushTokenFromBackend\n          } = await require(_dependencyMap[4], \"expo/internal/async-require-module\")(_dependencyMap[3], _dependencyMap.paths, \"../utils/notifications\");\n          await removePushTokenFromBackend();\n        } catch (error) {\n          console.error('Error removing push token:', error);\n        }\n\n        // Clear AsyncStorage\n        await AsyncStorage.default.removeItem('token');\n        await AsyncStorage.default.removeItem('user');\n        await AsyncStorage.default.clear(); // Clear all storage\n\n        // Clear state\n        set({\n          user: null,\n          token: null,\n          isLoading: false\n        });\n        console.log('Logout successful');\n      } catch (error) {\n        console.error('Logout error:', error);\n      }\n    },\n    setUser: async user => {\n      try {\n        await AsyncStorage.default.setItem('user', JSON.stringify(user));\n        set({\n          user\n        });\n      } catch (error) {\n        console.error('Set user error:', error);\n      }\n    }\n  }));\n});","lineCount":132,"map":[[12,2,33,0,"Object"],[12,8,33,0],[12,9,33,0,"defineProperty"],[12,23,33,0],[12,24,33,0,"exports"],[12,31,33,0],[13,4,33,0,"enumerable"],[13,14,33,0],[14,4,33,0,"get"],[14,7,33,0],[14,18,33,0,"get"],[14,19,33,0],[15,6,33,0],[15,13,33,0,"useAuthStore"],[15,25,33,0],[16,4,33,0],[17,2,33,0],[18,2,1,0],[18,6,1,0,"_zustand"],[18,14,1,0],[18,17,1,0,"require"],[18,24,1,0],[18,25,1,0,"_dependencyMap"],[18,39,1,0],[19,2,2,0],[19,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[19,42,2,0],[19,45,2,0,"require"],[19,52,2,0],[19,53,2,0,"_dependencyMap"],[19,67,2,0],[20,2,2,0],[20,6,2,0,"AsyncStorage"],[20,18,2,0],[20,21,2,0,"_interopDefault"],[20,36,2,0],[20,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[20,73,2,0],[21,2,3,0],[21,6,3,0,"_axios"],[21,12,3,0],[21,15,3,0,"require"],[21,22,3,0],[21,23,3,0,"_dependencyMap"],[21,37,3,0],[22,2,3,0],[22,6,3,0,"axios"],[22,11,3,0],[22,14,3,0,"_interopDefault"],[22,29,3,0],[22,30,3,0,"_axios"],[22,36,3,0],[23,2,5,0],[23,8,5,6,"API_URL"],[23,15,5,13],[23,18,5,16,"process"],[23,25,5,23],[23,26,5,24,"env"],[23,29,5,27],[23,30,5,28,"EXPO_PUBLIC_BACKEND_URL"],[23,53,5,51],[24,2,33,7],[24,8,33,13,"useAuthStore"],[24,20,33,25],[24,23,33,28],[24,27,33,28,"create"],[24,35,33,34],[24,36,33,34,"create"],[24,42,33,34],[24,44,33,47,"set"],[24,47,33,50],[24,52,33,56],[25,4,34,2,"user"],[25,8,34,6],[25,10,34,8],[25,14,34,12],[26,4,35,2,"token"],[26,9,35,7],[26,11,35,9],[26,15,35,13],[27,4,36,2,"isLoading"],[27,13,36,11],[27,15,36,13],[27,19,36,17],[28,4,38,2,"loadToken"],[28,13,38,11],[28,15,38,13],[28,21,38,13,"loadToken"],[28,22,38,13],[28,27,38,25],[29,6,39,4],[29,10,39,8],[30,8,40,6],[30,14,40,12,"token"],[30,19,40,17],[30,22,40,20],[30,28,40,26,"AsyncStorage"],[30,40,40,38],[30,41,40,38,"default"],[30,48,40,38],[30,49,40,39,"getItem"],[30,56,40,46],[30,57,40,47],[30,64,40,54],[30,65,40,55],[31,8,41,6],[31,14,41,12,"userData"],[31,22,41,20],[31,25,41,23],[31,31,41,29,"AsyncStorage"],[31,43,41,41],[31,44,41,41,"default"],[31,51,41,41],[31,52,41,42,"getItem"],[31,59,41,49],[31,60,41,50],[31,66,41,56],[31,67,41,57],[32,8,43,6],[32,12,43,10,"token"],[32,17,43,15],[32,21,43,19,"userData"],[32,29,43,27],[32,31,43,29],[33,10,44,8,"set"],[33,13,44,11],[33,14,44,12],[34,12,44,14,"token"],[34,17,44,19],[35,12,44,21,"user"],[35,16,44,25],[35,18,44,27,"JSON"],[35,22,44,31],[35,23,44,32,"parse"],[35,28,44,37],[35,29,44,38,"userData"],[35,37,44,46],[35,38,44,47],[36,12,44,49,"isLoading"],[36,21,44,58],[36,23,44,60],[37,10,44,66],[37,11,44,67],[37,12,44,68],[38,8,45,6],[38,9,45,7],[38,15,45,13],[39,10,46,8,"set"],[39,13,46,11],[39,14,46,12],[40,12,46,14,"isLoading"],[40,21,46,23],[40,23,46,25],[41,10,46,31],[41,11,46,32],[41,12,46,33],[42,8,47,6],[43,6,48,4],[43,7,48,5],[43,8,48,6],[43,15,48,13,"error"],[43,20,48,18],[43,22,48,20],[44,8,49,6,"console"],[44,15,49,13],[44,16,49,14,"error"],[44,21,49,19],[44,22,49,20],[44,41,49,39],[44,43,49,41,"error"],[44,48,49,46],[44,49,49,47],[45,8,50,6,"set"],[45,11,50,9],[45,12,50,10],[46,10,50,12,"isLoading"],[46,19,50,21],[46,21,50,23],[47,8,50,29],[47,9,50,30],[47,10,50,31],[48,6,51,4],[49,4,52,2],[49,5,52,3],[50,4,54,2,"login"],[50,9,54,7],[50,11,54,9],[50,17,54,9,"login"],[50,18,54,16,"username"],[50,26,54,32],[50,28,54,34,"password"],[50,36,54,50],[50,41,54,55],[51,6,55,4],[51,10,55,8],[52,8,56,6],[52,14,56,12,"response"],[52,22,56,20],[52,25,56,23],[52,31,56,29,"axios"],[52,36,56,34],[52,37,56,34,"default"],[52,44,56,34],[52,45,56,35,"post"],[52,49,56,39],[52,50,56,40],[52,53,56,43,"API_URL"],[52,60,56,50],[52,77,56,67],[52,79,56,69],[53,10,57,8,"username"],[53,18,57,16],[54,10,58,8,"password"],[55,8,59,6],[55,9,59,7],[55,10,59,8],[56,8,61,6],[56,14,61,12],[57,10,61,14,"access_token"],[57,22,61,26],[58,10,61,28,"user"],[59,8,61,33],[59,9,61,34],[59,12,61,37,"response"],[59,20,61,45],[59,21,61,46,"data"],[59,25,61,50],[60,8,63,6],[60,14,63,12,"AsyncStorage"],[60,26,63,24],[60,27,63,24,"default"],[60,34,63,24],[60,35,63,25,"setItem"],[60,42,63,32],[60,43,63,33],[60,50,63,40],[60,52,63,42,"access_token"],[60,64,63,54],[60,65,63,55],[61,8,64,6],[61,14,64,12,"AsyncStorage"],[61,26,64,24],[61,27,64,24,"default"],[61,34,64,24],[61,35,64,25,"setItem"],[61,42,64,32],[61,43,64,33],[61,49,64,39],[61,51,64,41,"JSON"],[61,55,64,45],[61,56,64,46,"stringify"],[61,65,64,55],[61,66,64,56,"user"],[61,70,64,60],[61,71,64,61],[61,72,64,62],[62,8,66,6,"set"],[62,11,66,9],[62,12,66,10],[63,10,66,12,"user"],[63,14,66,16],[64,10,66,18,"token"],[64,15,66,23],[64,17,66,25,"access_token"],[65,8,66,38],[65,9,66,39],[65,10,66,40],[66,6,67,4],[66,7,67,5],[66,8,67,6],[66,15,67,13,"error"],[66,20,67,23],[66,22,67,25],[67,8,68,6],[67,14,68,12],[67,18,68,16,"Error"],[67,23,68,21],[67,24,68,22,"error"],[67,29,68,27],[67,30,68,28,"response"],[67,38,68,36],[67,40,68,38,"data"],[67,44,68,42],[67,46,68,44,"detail"],[67,52,68,50],[67,56,68,54],[67,70,68,68],[67,71,68,69],[68,6,69,4],[69,4,70,2],[69,5,70,3],[70,4,72,2,"register"],[70,12,72,10],[70,14,72,12],[70,20,72,12,"register"],[70,21,72,19,"username"],[70,29,72,35],[70,31,72,37,"email"],[70,36,72,50],[70,38,72,52,"password"],[70,46,72,68],[70,48,72,70,"full_name"],[70,57,72,87],[70,59,72,89,"referral_code"],[70,72,72,111],[70,77,72,116],[71,6,73,4],[71,10,73,8],[72,8,74,6],[72,14,74,12,"response"],[72,22,74,20],[72,25,74,23],[72,31,74,29,"axios"],[72,36,74,34],[72,37,74,34,"default"],[72,44,74,34],[72,45,74,35,"post"],[72,49,74,39],[72,50,74,40],[72,53,74,43,"API_URL"],[72,60,74,50],[72,80,74,70],[72,82,74,72],[73,10,75,8,"username"],[73,18,75,16],[74,10,76,8,"email"],[74,15,76,13],[75,10,77,8,"password"],[75,18,77,16],[76,10,78,8,"full_name"],[76,19,78,17],[77,10,79,8,"referral_code"],[77,23,79,21],[77,25,79,23,"referral_code"],[77,38,79,36],[77,42,79,40,"undefined"],[78,8,80,6],[78,9,80,7],[78,10,80,8],[79,8,82,6],[79,14,82,12],[80,10,82,14,"access_token"],[80,22,82,26],[81,10,82,28,"user"],[82,8,82,33],[82,9,82,34],[82,12,82,37,"response"],[82,20,82,45],[82,21,82,46,"data"],[82,25,82,50],[83,8,84,6],[83,14,84,12,"AsyncStorage"],[83,26,84,24],[83,27,84,24,"default"],[83,34,84,24],[83,35,84,25,"setItem"],[83,42,84,32],[83,43,84,33],[83,50,84,40],[83,52,84,42,"access_token"],[83,64,84,54],[83,65,84,55],[84,8,85,6],[84,14,85,12,"AsyncStorage"],[84,26,85,24],[84,27,85,24,"default"],[84,34,85,24],[84,35,85,25,"setItem"],[84,42,85,32],[84,43,85,33],[84,49,85,39],[84,51,85,41,"JSON"],[84,55,85,45],[84,56,85,46,"stringify"],[84,65,85,55],[84,66,85,56,"user"],[84,70,85,60],[84,71,85,61],[84,72,85,62],[85,8,87,6,"set"],[85,11,87,9],[85,12,87,10],[86,10,87,12,"user"],[86,14,87,16],[87,10,87,18,"token"],[87,15,87,23],[87,17,87,25,"access_token"],[88,8,87,38],[88,9,87,39],[88,10,87,40],[89,6,88,4],[89,7,88,5],[89,8,88,6],[89,15,88,13,"error"],[89,20,88,23],[89,22,88,25],[90,8,89,6],[90,14,89,12],[90,18,89,16,"Error"],[90,23,89,21],[90,24,89,22,"error"],[90,29,89,27],[90,30,89,28,"response"],[90,38,89,36],[90,40,89,38,"data"],[90,44,89,42],[90,46,89,44,"detail"],[90,52,89,50],[90,56,89,54],[90,77,89,75],[90,78,89,76],[91,6,90,4],[92,4,91,2],[92,5,91,3],[93,4,93,2,"logout"],[93,10,93,8],[93,12,93,10],[93,18,93,10,"logout"],[93,19,93,10],[93,24,93,22],[94,6,94,4],[94,10,94,8],[95,8,95,6],[96,8,96,6],[96,12,96,10],[97,10,97,8],[97,16,97,14],[98,12,97,16,"removePushTokenFromBackend"],[99,10,97,43],[99,11,97,44],[99,14,97,47],[99,20,97,47,"require"],[99,27,97,47],[99,28,97,47,"_dependencyMap"],[99,42,97,47],[99,85,97,47,"_dependencyMap"],[99,99,97,47],[99,104,97,47,"_dependencyMap"],[99,118,97,47],[99,119,97,47,"paths"],[99,124,97,47],[99,151,97,85],[100,10,98,8],[100,16,98,14,"removePushTokenFromBackend"],[100,42,98,40],[100,43,98,41],[100,44,98,42],[101,8,99,6],[101,9,99,7],[101,10,99,8],[101,17,99,15,"error"],[101,22,99,20],[101,24,99,22],[102,10,100,8,"console"],[102,17,100,15],[102,18,100,16,"error"],[102,23,100,21],[102,24,100,22],[102,52,100,50],[102,54,100,52,"error"],[102,59,100,57],[102,60,100,58],[103,8,101,6],[105,8,103,6],[106,8,104,6],[106,14,104,12,"AsyncStorage"],[106,26,104,24],[106,27,104,24,"default"],[106,34,104,24],[106,35,104,25,"removeItem"],[106,45,104,35],[106,46,104,36],[106,53,104,43],[106,54,104,44],[107,8,105,6],[107,14,105,12,"AsyncStorage"],[107,26,105,24],[107,27,105,24,"default"],[107,34,105,24],[107,35,105,25,"removeItem"],[107,45,105,35],[107,46,105,36],[107,52,105,42],[107,53,105,43],[108,8,106,6],[108,14,106,12,"AsyncStorage"],[108,26,106,24],[108,27,106,24,"default"],[108,34,106,24],[108,35,106,25,"clear"],[108,40,106,30],[108,41,106,31],[108,42,106,32],[108,43,106,33],[108,44,106,34],[110,8,108,6],[111,8,109,6,"set"],[111,11,109,9],[111,12,109,10],[112,10,109,12,"user"],[112,14,109,16],[112,16,109,18],[112,20,109,22],[113,10,109,24,"token"],[113,15,109,29],[113,17,109,31],[113,21,109,35],[114,10,109,37,"isLoading"],[114,19,109,46],[114,21,109,48],[115,8,109,54],[115,9,109,55],[115,10,109,56],[116,8,111,6,"console"],[116,15,111,13],[116,16,111,14,"log"],[116,19,111,17],[116,20,111,18],[116,39,111,37],[116,40,111,38],[117,6,112,4],[117,7,112,5],[117,8,112,6],[117,15,112,13,"error"],[117,20,112,18],[117,22,112,20],[118,8,113,6,"console"],[118,15,113,13],[118,16,113,14,"error"],[118,21,113,19],[118,22,113,20],[118,37,113,35],[118,39,113,37,"error"],[118,44,113,42],[118,45,113,43],[119,6,114,4],[120,4,115,2],[120,5,115,3],[121,4,117,2,"setUser"],[121,11,117,9],[121,13,117,11],[121,19,117,18,"user"],[121,23,117,28],[121,27,117,33],[122,6,118,4],[122,10,118,8],[123,8,119,6],[123,14,119,12,"AsyncStorage"],[123,26,119,24],[123,27,119,24,"default"],[123,34,119,24],[123,35,119,25,"setItem"],[123,42,119,32],[123,43,119,33],[123,49,119,39],[123,51,119,41,"JSON"],[123,55,119,45],[123,56,119,46,"stringify"],[123,65,119,55],[123,66,119,56,"user"],[123,70,119,60],[123,71,119,61],[123,72,119,62],[124,8,120,6,"set"],[124,11,120,9],[124,12,120,10],[125,10,120,12,"user"],[126,8,120,17],[126,9,120,18],[126,10,120,19],[127,6,121,4],[127,7,121,5],[127,8,121,6],[127,15,121,13,"error"],[127,20,121,18],[127,22,121,20],[128,8,122,6,"console"],[128,15,122,13],[128,16,122,14,"error"],[128,21,122,19],[128,22,122,20],[128,39,122,37],[128,41,122,39,"error"],[128,46,122,44],[128,47,122,45],[129,6,123,4],[130,4,124,2],[131,2,125,0],[131,3,125,1],[131,4,125,2],[131,5,125,3],[132,0,125,4],[132,3]],"functionMap":{"names":["<global>","create$argument_0","loadToken","login","register","logout","setUser"],"mappings":"AAA;8CCgC;aCK;GDc;SEE;GFgB;YGE;GHmB;UIE;GJsB;WKE;GLO;EDC"},"hasCjsExports":false},"type":"js/module"}]}