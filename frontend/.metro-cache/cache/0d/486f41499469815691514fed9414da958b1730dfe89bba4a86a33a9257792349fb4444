{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"]}},{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"]}},{"name":"../utils/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":31,"index":65}}],"key":"XoJ+jbKCrEi38eKczMqtlbk+TCk=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.useNotificationStore = void 0;\n  var _zustand = require(_dependencyMap[1], \"zustand\");\n  var _api = _interopRequireDefault(require(_dependencyMap[2], \"../utils/api\"));\n  const useNotificationStore = exports.useNotificationStore = (0, _zustand.create)(set => ({\n    friendRequestCount: 0,\n    unreadMessageCount: 0,\n    expoPushToken: null,\n    preferences: {\n      friend_requests: true,\n      messages: true,\n      likes: true,\n      comments: true\n    },\n    loadFriendRequestCount: async () => {\n      try {\n        const response = await _api.default.get('/api/friends/requests');\n        const pendingRequests = response.data.filter(req => req.status === 'pending');\n        set({\n          friendRequestCount: pendingRequests.length\n        });\n      } catch (error) {\n        console.error('Load friend requests count error:', error);\n      }\n    },\n    loadUnreadMessageCount: async () => {\n      try {\n        const response = await _api.default.get('/api/chats');\n        // For now, we'll just count total chats\n        // In future, we can add unread_count to each chat\n        set({\n          unreadMessageCount: response.data.length > 0 ? response.data.length : 0\n        });\n      } catch (error) {\n        console.error('Load unread messages count error:', error);\n      }\n    },\n    resetFriendRequestCount: () => set({\n      friendRequestCount: 0\n    }),\n    resetUnreadMessageCount: () => set({\n      unreadMessageCount: 0\n    }),\n    decrementFriendRequestCount: () => {\n      set(state => ({\n        friendRequestCount: Math.max(0, state.friendRequestCount - 1)\n      }));\n    },\n    setExpoPushToken: token => {\n      set({\n        expoPushToken: token\n      });\n    },\n    setPreferences: prefs => {\n      set({\n        preferences: prefs\n      });\n    },\n    loadPreferences: async () => {\n      try {\n        const response = await _api.default.get('/api/notifications/preferences');\n        set({\n          preferences: response.data\n        });\n      } catch (error) {\n        console.error('Failed to load notification preferences:', error);\n      }\n    }\n  }));\n});","lineCount":74,"map":[[7,2,1,0],[7,6,1,0,"_zustand"],[7,14,1,0],[7,17,1,0,"require"],[7,24,1,0],[7,25,1,0,"_dependencyMap"],[7,39,1,0],[8,2,2,0],[8,6,2,0,"_api"],[8,10,2,0],[8,13,2,0,"_interopRequireDefault"],[8,35,2,0],[8,36,2,0,"require"],[8,43,2,0],[8,44,2,0,"_dependencyMap"],[8,58,2,0],[9,2,27,7],[9,8,27,13,"useNotificationStore"],[9,28,27,33],[9,31,27,33,"exports"],[9,38,27,33],[9,39,27,33,"useNotificationStore"],[9,59,27,33],[9,62,27,36],[9,66,27,36,"create"],[9,81,27,42],[9,83,27,63,"set"],[9,86,27,66],[9,91,27,72],[10,4,28,2,"friendRequestCount"],[10,22,28,20],[10,24,28,22],[10,25,28,23],[11,4,29,2,"unreadMessageCount"],[11,22,29,20],[11,24,29,22],[11,25,29,23],[12,4,30,2,"expoPushToken"],[12,17,30,15],[12,19,30,17],[12,23,30,21],[13,4,31,2,"preferences"],[13,15,31,13],[13,17,31,15],[14,6,32,4,"friend_requests"],[14,21,32,19],[14,23,32,21],[14,27,32,25],[15,6,33,4,"messages"],[15,14,33,12],[15,16,33,14],[15,20,33,18],[16,6,34,4,"likes"],[16,11,34,9],[16,13,34,11],[16,17,34,15],[17,6,35,4,"comments"],[17,14,35,12],[17,16,35,14],[18,4,36,2],[18,5,36,3],[19,4,38,2,"loadFriendRequestCount"],[19,26,38,24],[19,28,38,26],[19,34,38,26,"loadFriendRequestCount"],[19,35,38,26],[19,40,38,38],[20,6,39,4],[20,10,39,8],[21,8,40,6],[21,14,40,12,"response"],[21,22,40,20],[21,25,40,23],[21,31,40,29,"api"],[21,43,40,32],[21,44,40,33,"get"],[21,47,40,36],[21,48,40,37],[21,71,40,60],[21,72,40,61],[22,8,41,6],[22,14,41,12,"pendingRequests"],[22,29,41,27],[22,32,41,30,"response"],[22,40,41,38],[22,41,41,39,"data"],[22,45,41,43],[22,46,41,44,"filter"],[22,52,41,50],[22,53,41,52,"req"],[22,56,41,60],[22,60,41,65,"req"],[22,63,41,68],[22,64,41,69,"status"],[22,70,41,75],[22,75,41,80],[22,84,41,89],[22,85,41,90],[23,8,42,6,"set"],[23,11,42,9],[23,12,42,10],[24,10,42,12,"friendRequestCount"],[24,28,42,30],[24,30,42,32,"pendingRequests"],[24,45,42,47],[24,46,42,48,"length"],[25,8,42,55],[25,9,42,56],[25,10,42,57],[26,6,43,4],[26,7,43,5],[26,8,43,6],[26,15,43,13,"error"],[26,20,43,18],[26,22,43,20],[27,8,44,6,"console"],[27,15,44,13],[27,16,44,14,"error"],[27,21,44,19],[27,22,44,20],[27,57,44,55],[27,59,44,57,"error"],[27,64,44,62],[27,65,44,63],[28,6,45,4],[29,4,46,2],[29,5,46,3],[30,4,48,2,"loadUnreadMessageCount"],[30,26,48,24],[30,28,48,26],[30,34,48,26,"loadUnreadMessageCount"],[30,35,48,26],[30,40,48,38],[31,6,49,4],[31,10,49,8],[32,8,50,6],[32,14,50,12,"response"],[32,22,50,20],[32,25,50,23],[32,31,50,29,"api"],[32,43,50,32],[32,44,50,33,"get"],[32,47,50,36],[32,48,50,37],[32,60,50,49],[32,61,50,50],[33,8,51,6],[34,8,52,6],[35,8,53,6,"set"],[35,11,53,9],[35,12,53,10],[36,10,53,12,"unreadMessageCount"],[36,28,53,30],[36,30,53,32,"response"],[36,38,53,40],[36,39,53,41,"data"],[36,43,53,45],[36,44,53,46,"length"],[36,50,53,52],[36,53,53,55],[36,54,53,56],[36,57,53,59,"response"],[36,65,53,67],[36,66,53,68,"data"],[36,70,53,72],[36,71,53,73,"length"],[36,77,53,79],[36,80,53,82],[37,8,53,84],[37,9,53,85],[37,10,53,86],[38,6,54,4],[38,7,54,5],[38,8,54,6],[38,15,54,13,"error"],[38,20,54,18],[38,22,54,20],[39,8,55,6,"console"],[39,15,55,13],[39,16,55,14,"error"],[39,21,55,19],[39,22,55,20],[39,57,55,55],[39,59,55,57,"error"],[39,64,55,62],[39,65,55,63],[40,6,56,4],[41,4,57,2],[41,5,57,3],[42,4,59,2,"resetFriendRequestCount"],[42,27,59,25],[42,29,59,27,"resetFriendRequestCount"],[42,30,59,27],[42,35,59,33,"set"],[42,38,59,36],[42,39,59,37],[43,6,59,39,"friendRequestCount"],[43,24,59,57],[43,26,59,59],[44,4,59,61],[44,5,59,62],[44,6,59,63],[45,4,60,2,"resetUnreadMessageCount"],[45,27,60,25],[45,29,60,27,"resetUnreadMessageCount"],[45,30,60,27],[45,35,60,33,"set"],[45,38,60,36],[45,39,60,37],[46,6,60,39,"unreadMessageCount"],[46,24,60,57],[46,26,60,59],[47,4,60,61],[47,5,60,62],[47,6,60,63],[48,4,62,2,"decrementFriendRequestCount"],[48,31,62,29],[48,33,62,31,"decrementFriendRequestCount"],[48,34,62,31],[48,39,62,37],[49,6,63,4,"set"],[49,9,63,7],[49,10,63,9,"state"],[49,15,63,14],[49,20,63,20],[50,8,64,6,"friendRequestCount"],[50,26,64,24],[50,28,64,26,"Math"],[50,32,64,30],[50,33,64,31,"max"],[50,36,64,34],[50,37,64,35],[50,38,64,36],[50,40,64,38,"state"],[50,45,64,43],[50,46,64,44,"friendRequestCount"],[50,64,64,62],[50,67,64,65],[50,68,64,66],[51,6,65,4],[51,7,65,5],[51,8,65,6],[51,9,65,7],[52,4,66,2],[52,5,66,3],[53,4,68,2,"setExpoPushToken"],[53,20,68,18],[53,22,68,21,"token"],[53,27,68,41],[53,31,68,46],[54,6,69,4,"set"],[54,9,69,7],[54,10,69,8],[55,8,69,10,"expoPushToken"],[55,21,69,23],[55,23,69,25,"token"],[56,6,69,31],[56,7,69,32],[56,8,69,33],[57,4,70,2],[57,5,70,3],[58,4,72,2,"setPreferences"],[58,18,72,16],[58,20,72,19,"prefs"],[58,25,72,49],[58,29,72,54],[59,6,73,4,"set"],[59,9,73,7],[59,10,73,8],[60,8,73,10,"preferences"],[60,19,73,21],[60,21,73,23,"prefs"],[61,6,73,29],[61,7,73,30],[61,8,73,31],[62,4,74,2],[62,5,74,3],[63,4,76,2,"loadPreferences"],[63,19,76,17],[63,21,76,19],[63,27,76,19,"loadPreferences"],[63,28,76,19],[63,33,76,31],[64,6,77,4],[64,10,77,8],[65,8,78,6],[65,14,78,12,"response"],[65,22,78,20],[65,25,78,23],[65,31,78,29,"api"],[65,43,78,32],[65,44,78,33,"get"],[65,47,78,36],[65,48,78,37],[65,80,78,69],[65,81,78,70],[66,8,79,6,"set"],[66,11,79,9],[66,12,79,10],[67,10,79,12,"preferences"],[67,21,79,23],[67,23,79,25,"response"],[67,31,79,33],[67,32,79,34,"data"],[68,8,79,39],[68,9,79,40],[68,10,79,41],[69,6,80,4],[69,7,80,5],[69,8,80,6],[69,15,80,13,"error"],[69,20,80,18],[69,22,80,20],[70,8,81,6,"console"],[70,15,81,13],[70,16,81,14,"error"],[70,21,81,19],[70,22,81,20],[70,64,81,62],[70,66,81,64,"error"],[70,71,81,69],[70,72,81,70],[71,6,82,4],[72,4,83,2],[73,2,84,0],[73,3,84,1],[73,4,84,2],[73,5,84,3],[74,0,84,4],[74,3]],"functionMap":{"names":["<global>","create$argument_0","loadFriendRequestCount","response.data.filter$argument_0","loadUnreadMessageCount","resetFriendRequestCount","resetUnreadMessageCount","decrementFriendRequestCount","set$argument_0","setExpoPushToken","setPreferences","loadPreferences"],"mappings":"AAA;8DC0B;0BCW;mDCG,sCD;GDK;0BGE;GHS;2BIE,oCJ;2BKC,oCL;+BME;QCC;MDE;GNC;oBQE;GRE;kBSE;GTE;mBUE;GVO;EDC"}},"type":"js/module"}]}