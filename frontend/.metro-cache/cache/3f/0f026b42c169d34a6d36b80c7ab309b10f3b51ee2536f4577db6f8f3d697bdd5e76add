{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":69,"index":103}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":104},"end":{"line":3,"column":26,"index":130}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useAuthStore\", {\n    enumerable: true,\n    get: function () {\n      return useAuthStore;\n    }\n  });\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _zustand = require(_dependencyMap[1], \"zustand\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[2], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _axios = require(_dependencyMap[3], \"axios\");\n  var axios = _interopDefault(_axios);\n  const API_URL = _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL;\n  const useAuthStore = (0, _zustand.create)(set => ({\n    user: null,\n    token: null,\n    isLoading: true,\n    loadToken: async () => {\n      try {\n        const token = await AsyncStorage.default.getItem('token');\n        const userData = await AsyncStorage.default.getItem('user');\n        if (token && userData) {\n          set({\n            token,\n            user: JSON.parse(userData),\n            isLoading: false\n          });\n        } else {\n          set({\n            isLoading: false\n          });\n        }\n      } catch (error) {\n        console.error('Load token error:', error);\n        set({\n          isLoading: false\n        });\n      }\n    },\n    login: async (username, password) => {\n      try {\n        const response = await axios.default.post(`${API_URL}/api/auth/login`, {\n          username,\n          password\n        });\n        const {\n          access_token,\n          user\n        } = response.data;\n        await AsyncStorage.default.setItem('token', access_token);\n        await AsyncStorage.default.setItem('user', JSON.stringify(user));\n        set({\n          user,\n          token: access_token\n        });\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Login failed');\n      }\n    },\n    register: async (username, email, password, full_name, referral_code) => {\n      try {\n        const response = await axios.default.post(`${API_URL}/api/auth/register`, {\n          username,\n          email,\n          password,\n          full_name,\n          referral_code: referral_code || undefined\n        });\n        const {\n          access_token,\n          user\n        } = response.data;\n        await AsyncStorage.default.setItem('token', access_token);\n        await AsyncStorage.default.setItem('user', JSON.stringify(user));\n        set({\n          user,\n          token: access_token\n        });\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Registration failed');\n      }\n    },\n    logout: async () => {\n      try {\n        // Clear AsyncStorage\n        await AsyncStorage.default.removeItem('token');\n        await AsyncStorage.default.removeItem('user');\n        await AsyncStorage.default.clear(); // Clear all storage\n\n        // Clear state\n        set({\n          user: null,\n          token: null,\n          isLoading: false\n        });\n        console.log('Logout successful');\n      } catch (error) {\n        console.error('Logout error:', error);\n      }\n    },\n    setUser: async user => {\n      try {\n        await AsyncStorage.default.setItem('user', JSON.stringify(user));\n        set({\n          user\n        });\n      } catch (error) {\n        console.error('Set user error:', error);\n      }\n    }\n  }));\n});","lineCount":123,"map":[[12,2,32,0,"Object"],[12,8,32,0],[12,9,32,0,"defineProperty"],[12,23,32,0],[12,24,32,0,"exports"],[12,31,32,0],[13,4,32,0,"enumerable"],[13,14,32,0],[14,4,32,0,"get"],[14,7,32,0],[14,18,32,0,"get"],[14,19,32,0],[15,6,32,0],[15,13,32,0,"useAuthStore"],[15,25,32,0],[16,4,32,0],[17,2,32,0],[18,2,116,4],[18,6,116,4,"_expoVirtualEnv"],[18,21,116,4],[18,24,116,4,"require"],[18,31,116,4],[18,32,116,4,"_dependencyMap"],[18,46,116,4],[19,2,1,0],[19,6,1,0,"_zustand"],[19,14,1,0],[19,17,1,0,"require"],[19,24,1,0],[19,25,1,0,"_dependencyMap"],[19,39,1,0],[20,2,2,0],[20,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[20,42,2,0],[20,45,2,0,"require"],[20,52,2,0],[20,53,2,0,"_dependencyMap"],[20,67,2,0],[21,2,2,0],[21,6,2,0,"AsyncStorage"],[21,18,2,0],[21,21,2,0,"_interopDefault"],[21,36,2,0],[21,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[21,73,2,0],[22,2,3,0],[22,6,3,0,"_axios"],[22,12,3,0],[22,15,3,0,"require"],[22,22,3,0],[22,23,3,0,"_dependencyMap"],[22,37,3,0],[23,2,3,0],[23,6,3,0,"axios"],[23,11,3,0],[23,14,3,0,"_interopDefault"],[23,29,3,0],[23,30,3,0,"_axios"],[23,36,3,0],[24,2,5,0],[24,8,5,6,"API_URL"],[24,15,5,13],[24,18,5,13,"_expoVirtualEnv"],[24,33,5,13],[24,34,5,13,"env"],[24,37,5,13],[24,38,5,13,"EXPO_PUBLIC_BACKEND_URL"],[24,61,5,51],[25,2,32,7],[25,8,32,13,"useAuthStore"],[25,20,32,25],[25,23,32,28],[25,27,32,28,"create"],[25,35,32,34],[25,36,32,34,"create"],[25,42,32,34],[25,44,32,47,"set"],[25,47,32,50],[25,52,32,56],[26,4,33,2,"user"],[26,8,33,6],[26,10,33,8],[26,14,33,12],[27,4,34,2,"token"],[27,9,34,7],[27,11,34,9],[27,15,34,13],[28,4,35,2,"isLoading"],[28,13,35,11],[28,15,35,13],[28,19,35,17],[29,4,37,2,"loadToken"],[29,13,37,11],[29,15,37,13],[29,21,37,13,"loadToken"],[29,22,37,13],[29,27,37,25],[30,6,38,4],[30,10,38,8],[31,8,39,6],[31,14,39,12,"token"],[31,19,39,17],[31,22,39,20],[31,28,39,26,"AsyncStorage"],[31,40,39,38],[31,41,39,38,"default"],[31,48,39,38],[31,49,39,39,"getItem"],[31,56,39,46],[31,57,39,47],[31,64,39,54],[31,65,39,55],[32,8,40,6],[32,14,40,12,"userData"],[32,22,40,20],[32,25,40,23],[32,31,40,29,"AsyncStorage"],[32,43,40,41],[32,44,40,41,"default"],[32,51,40,41],[32,52,40,42,"getItem"],[32,59,40,49],[32,60,40,50],[32,66,40,56],[32,67,40,57],[33,8,42,6],[33,12,42,10,"token"],[33,17,42,15],[33,21,42,19,"userData"],[33,29,42,27],[33,31,42,29],[34,10,43,8,"set"],[34,13,43,11],[34,14,43,12],[35,12,43,14,"token"],[35,17,43,19],[36,12,43,21,"user"],[36,16,43,25],[36,18,43,27,"JSON"],[36,22,43,31],[36,23,43,32,"parse"],[36,28,43,37],[36,29,43,38,"userData"],[36,37,43,46],[36,38,43,47],[37,12,43,49,"isLoading"],[37,21,43,58],[37,23,43,60],[38,10,43,66],[38,11,43,67],[38,12,43,68],[39,8,44,6],[39,9,44,7],[39,15,44,13],[40,10,45,8,"set"],[40,13,45,11],[40,14,45,12],[41,12,45,14,"isLoading"],[41,21,45,23],[41,23,45,25],[42,10,45,31],[42,11,45,32],[42,12,45,33],[43,8,46,6],[44,6,47,4],[44,7,47,5],[44,8,47,6],[44,15,47,13,"error"],[44,20,47,18],[44,22,47,20],[45,8,48,6,"console"],[45,15,48,13],[45,16,48,14,"error"],[45,21,48,19],[45,22,48,20],[45,41,48,39],[45,43,48,41,"error"],[45,48,48,46],[45,49,48,47],[46,8,49,6,"set"],[46,11,49,9],[46,12,49,10],[47,10,49,12,"isLoading"],[47,19,49,21],[47,21,49,23],[48,8,49,29],[48,9,49,30],[48,10,49,31],[49,6,50,4],[50,4,51,2],[50,5,51,3],[51,4,53,2,"login"],[51,9,53,7],[51,11,53,9],[51,17,53,9,"login"],[51,18,53,16,"username"],[51,26,53,32],[51,28,53,34,"password"],[51,36,53,50],[51,41,53,55],[52,6,54,4],[52,10,54,8],[53,8,55,6],[53,14,55,12,"response"],[53,22,55,20],[53,25,55,23],[53,31,55,29,"axios"],[53,36,55,34],[53,37,55,34,"default"],[53,44,55,34],[53,45,55,35,"post"],[53,49,55,39],[53,50,55,40],[53,53,55,43,"API_URL"],[53,60,55,50],[53,77,55,67],[53,79,55,69],[54,10,56,8,"username"],[54,18,56,16],[55,10,57,8,"password"],[56,8,58,6],[56,9,58,7],[56,10,58,8],[57,8,60,6],[57,14,60,12],[58,10,60,14,"access_token"],[58,22,60,26],[59,10,60,28,"user"],[60,8,60,33],[60,9,60,34],[60,12,60,37,"response"],[60,20,60,45],[60,21,60,46,"data"],[60,25,60,50],[61,8,62,6],[61,14,62,12,"AsyncStorage"],[61,26,62,24],[61,27,62,24,"default"],[61,34,62,24],[61,35,62,25,"setItem"],[61,42,62,32],[61,43,62,33],[61,50,62,40],[61,52,62,42,"access_token"],[61,64,62,54],[61,65,62,55],[62,8,63,6],[62,14,63,12,"AsyncStorage"],[62,26,63,24],[62,27,63,24,"default"],[62,34,63,24],[62,35,63,25,"setItem"],[62,42,63,32],[62,43,63,33],[62,49,63,39],[62,51,63,41,"JSON"],[62,55,63,45],[62,56,63,46,"stringify"],[62,65,63,55],[62,66,63,56,"user"],[62,70,63,60],[62,71,63,61],[62,72,63,62],[63,8,65,6,"set"],[63,11,65,9],[63,12,65,10],[64,10,65,12,"user"],[64,14,65,16],[65,10,65,18,"token"],[65,15,65,23],[65,17,65,25,"access_token"],[66,8,65,38],[66,9,65,39],[66,10,65,40],[67,6,66,4],[67,7,66,5],[67,8,66,6],[67,15,66,13,"error"],[67,20,66,23],[67,22,66,25],[68,8,67,6],[68,14,67,12],[68,18,67,16,"Error"],[68,23,67,21],[68,24,67,22,"error"],[68,29,67,27],[68,30,67,28,"response"],[68,38,67,36],[68,40,67,38,"data"],[68,44,67,42],[68,46,67,44,"detail"],[68,52,67,50],[68,56,67,54],[68,70,67,68],[68,71,67,69],[69,6,68,4],[70,4,69,2],[70,5,69,3],[71,4,71,2,"register"],[71,12,71,10],[71,14,71,12],[71,20,71,12,"register"],[71,21,71,19,"username"],[71,29,71,35],[71,31,71,37,"email"],[71,36,71,50],[71,38,71,52,"password"],[71,46,71,68],[71,48,71,70,"full_name"],[71,57,71,87],[71,59,71,89,"referral_code"],[71,72,71,111],[71,77,71,116],[72,6,72,4],[72,10,72,8],[73,8,73,6],[73,14,73,12,"response"],[73,22,73,20],[73,25,73,23],[73,31,73,29,"axios"],[73,36,73,34],[73,37,73,34,"default"],[73,44,73,34],[73,45,73,35,"post"],[73,49,73,39],[73,50,73,40],[73,53,73,43,"API_URL"],[73,60,73,50],[73,80,73,70],[73,82,73,72],[74,10,74,8,"username"],[74,18,74,16],[75,10,75,8,"email"],[75,15,75,13],[76,10,76,8,"password"],[76,18,76,16],[77,10,77,8,"full_name"],[77,19,77,17],[78,10,78,8,"referral_code"],[78,23,78,21],[78,25,78,23,"referral_code"],[78,38,78,36],[78,42,78,40,"undefined"],[79,8,79,6],[79,9,79,7],[79,10,79,8],[80,8,81,6],[80,14,81,12],[81,10,81,14,"access_token"],[81,22,81,26],[82,10,81,28,"user"],[83,8,81,33],[83,9,81,34],[83,12,81,37,"response"],[83,20,81,45],[83,21,81,46,"data"],[83,25,81,50],[84,8,83,6],[84,14,83,12,"AsyncStorage"],[84,26,83,24],[84,27,83,24,"default"],[84,34,83,24],[84,35,83,25,"setItem"],[84,42,83,32],[84,43,83,33],[84,50,83,40],[84,52,83,42,"access_token"],[84,64,83,54],[84,65,83,55],[85,8,84,6],[85,14,84,12,"AsyncStorage"],[85,26,84,24],[85,27,84,24,"default"],[85,34,84,24],[85,35,84,25,"setItem"],[85,42,84,32],[85,43,84,33],[85,49,84,39],[85,51,84,41,"JSON"],[85,55,84,45],[85,56,84,46,"stringify"],[85,65,84,55],[85,66,84,56,"user"],[85,70,84,60],[85,71,84,61],[85,72,84,62],[86,8,86,6,"set"],[86,11,86,9],[86,12,86,10],[87,10,86,12,"user"],[87,14,86,16],[88,10,86,18,"token"],[88,15,86,23],[88,17,86,25,"access_token"],[89,8,86,38],[89,9,86,39],[89,10,86,40],[90,6,87,4],[90,7,87,5],[90,8,87,6],[90,15,87,13,"error"],[90,20,87,23],[90,22,87,25],[91,8,88,6],[91,14,88,12],[91,18,88,16,"Error"],[91,23,88,21],[91,24,88,22,"error"],[91,29,88,27],[91,30,88,28,"response"],[91,38,88,36],[91,40,88,38,"data"],[91,44,88,42],[91,46,88,44,"detail"],[91,52,88,50],[91,56,88,54],[91,77,88,75],[91,78,88,76],[92,6,89,4],[93,4,90,2],[93,5,90,3],[94,4,92,2,"logout"],[94,10,92,8],[94,12,92,10],[94,18,92,10,"logout"],[94,19,92,10],[94,24,92,22],[95,6,93,4],[95,10,93,8],[96,8,94,6],[97,8,95,6],[97,14,95,12,"AsyncStorage"],[97,26,95,24],[97,27,95,24,"default"],[97,34,95,24],[97,35,95,25,"removeItem"],[97,45,95,35],[97,46,95,36],[97,53,95,43],[97,54,95,44],[98,8,96,6],[98,14,96,12,"AsyncStorage"],[98,26,96,24],[98,27,96,24,"default"],[98,34,96,24],[98,35,96,25,"removeItem"],[98,45,96,35],[98,46,96,36],[98,52,96,42],[98,53,96,43],[99,8,97,6],[99,14,97,12,"AsyncStorage"],[99,26,97,24],[99,27,97,24,"default"],[99,34,97,24],[99,35,97,25,"clear"],[99,40,97,30],[99,41,97,31],[99,42,97,32],[99,43,97,33],[99,44,97,34],[101,8,99,6],[102,8,100,6,"set"],[102,11,100,9],[102,12,100,10],[103,10,100,12,"user"],[103,14,100,16],[103,16,100,18],[103,20,100,22],[104,10,100,24,"token"],[104,15,100,29],[104,17,100,31],[104,21,100,35],[105,10,100,37,"isLoading"],[105,19,100,46],[105,21,100,48],[106,8,100,54],[106,9,100,55],[106,10,100,56],[107,8,102,6,"console"],[107,15,102,13],[107,16,102,14,"log"],[107,19,102,17],[107,20,102,18],[107,39,102,37],[107,40,102,38],[108,6,103,4],[108,7,103,5],[108,8,103,6],[108,15,103,13,"error"],[108,20,103,18],[108,22,103,20],[109,8,104,6,"console"],[109,15,104,13],[109,16,104,14,"error"],[109,21,104,19],[109,22,104,20],[109,37,104,35],[109,39,104,37,"error"],[109,44,104,42],[109,45,104,43],[110,6,105,4],[111,4,106,2],[111,5,106,3],[112,4,108,2,"setUser"],[112,11,108,9],[112,13,108,11],[112,19,108,18,"user"],[112,23,108,28],[112,27,108,33],[113,6,109,4],[113,10,109,8],[114,8,110,6],[114,14,110,12,"AsyncStorage"],[114,26,110,24],[114,27,110,24,"default"],[114,34,110,24],[114,35,110,25,"setItem"],[114,42,110,32],[114,43,110,33],[114,49,110,39],[114,51,110,41,"JSON"],[114,55,110,45],[114,56,110,46,"stringify"],[114,65,110,55],[114,66,110,56,"user"],[114,70,110,60],[114,71,110,61],[114,72,110,62],[115,8,111,6,"set"],[115,11,111,9],[115,12,111,10],[116,10,111,12,"user"],[117,8,111,17],[117,9,111,18],[117,10,111,19],[118,6,112,4],[118,7,112,5],[118,8,112,6],[118,15,112,13,"error"],[118,20,112,18],[118,22,112,20],[119,8,113,6,"console"],[119,15,113,13],[119,16,113,14,"error"],[119,21,113,19],[119,22,113,20],[119,39,113,37],[119,41,113,39,"error"],[119,46,113,44],[119,47,113,45],[120,6,114,4],[121,4,115,2],[122,2,116,0],[122,3,116,1],[122,4,116,2],[122,5,116,3],[123,0,116,4],[123,3]],"functionMap":{"names":["<global>","create$argument_0","loadToken","login","register","logout","setUser"],"mappings":"AAA;8CC+B;aCK;GDc;SEE;GFgB;YGE;GHmB;UIE;GJc;WKE;GLO;EDC"},"hasCjsExports":false},"type":"js/module"}]}