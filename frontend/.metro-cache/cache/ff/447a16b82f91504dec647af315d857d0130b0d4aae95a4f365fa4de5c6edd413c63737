{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":44,"index":44}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/View","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"4kYBDC6LJJXoH7P9rWDi3vkLVB0=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/ActivityIndicator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"bSAkUkqZq0shBb5bU6kCYXi4ciA=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/StyleSheet","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"MK7+k1V+KnvCVW7Kj2k/ydtjmVU=","exportNames":["*"],"imports":1}},{"name":"expo-router","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":113},"end":{"line":3,"column":40,"index":153}}],"key":"/+ErnBisjrT6aDU+GRp5Qz/lYoY=","exportNames":["*"],"imports":1}},{"name":"../store/authStore","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":154},"end":{"line":4,"column":50,"index":204}}],"key":"/4BDl/hqolvw7T4CXD8jWAtZK4M=","exportNames":["*"],"imports":1}},{"name":"../store/languageStore","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":205},"end":{"line":5,"column":58,"index":263}}],"key":"zdXeEoEFE4c7I18gUi/lJGNzi/g=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":264},"end":{"line":6,"column":69,"index":333}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../components/TermsModal","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":334},"end":{"line":7,"column":50,"index":384}}],"key":"QFov7W8BA1pAQA97Rl5tkl/yiIk=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/app/index.tsx\",\n    _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return Index;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeWebDistExportsView = require(_dependencyMap[1], \"react-native-web/dist/exports/View\");\n  var View = _interopDefault(_reactNativeWebDistExportsView);\n  var _reactNativeWebDistExportsActivityIndicator = require(_dependencyMap[2], \"react-native-web/dist/exports/ActivityIndicator\");\n  var ActivityIndicator = _interopDefault(_reactNativeWebDistExportsActivityIndicator);\n  var _reactNativeWebDistExportsStyleSheet = require(_dependencyMap[3], \"react-native-web/dist/exports/StyleSheet\");\n  var StyleSheet = _interopDefault(_reactNativeWebDistExportsStyleSheet);\n  var _expoRouter = require(_dependencyMap[4], \"expo-router\");\n  var _storeAuthStore = require(_dependencyMap[5], \"../store/authStore\");\n  var _storeLanguageStore = require(_dependencyMap[6], \"../store/languageStore\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[7], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _componentsTermsModal = require(_dependencyMap[8], \"../components/TermsModal\");\n  var TermsModal = _interopDefault(_componentsTermsModal);\n  var _reactJsxDevRuntime = require(_dependencyMap[9], \"react/jsx-dev-runtime\");\n  function Index() {\n    _s();\n    const router = (0, _expoRouter.useRouter)();\n    const {\n      user,\n      isLoading\n    } = (0, _storeAuthStore.useAuthStore)();\n    const {\n      loadLanguage\n    } = (0, _storeLanguageStore.useLanguageStore)();\n    const [showTerms, setShowTerms] = (0, _react.useState)(false);\n    const [termsChecked, setTermsChecked] = (0, _react.useState)(false);\n    (0, _react.useEffect)(() => {\n      loadLanguage(); // Load saved language\n      checkTermsAcceptance();\n    }, []);\n    const checkTermsAcceptance = async () => {\n      try {\n        const accepted = await AsyncStorage.default.getItem('termsAccepted');\n        if (accepted === 'true') {\n          setTermsChecked(true);\n        } else if (!isLoading && user) {\n          // User logged in but hasn't accepted terms\n          setShowTerms(true);\n        }\n        setTermsChecked(true);\n      } catch (error) {\n        console.error('Error checking terms:', error);\n        setTermsChecked(true);\n      }\n    };\n    const handleTermsAccept = async () => {\n      try {\n        await AsyncStorage.default.setItem('termsAccepted', 'true');\n        setShowTerms(false);\n        setTermsChecked(true);\n      } catch (error) {\n        console.error('Error saving terms acceptance:', error);\n      }\n    };\n    (0, _react.useEffect)(() => {\n      if (!isLoading && termsChecked) {\n        if (user) {\n          router.replace('/(tabs)/home');\n        } else {\n          router.replace('/(auth)/login');\n        }\n      }\n    }, [user, isLoading, termsChecked]);\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_reactJsxDevRuntime.Fragment, {\n      children: [/*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(View.default, {\n        style: styles.container,\n        children: /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(ActivityIndicator.default, {\n          size: \"large\",\n          color: \"#007AFF\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 7\n      }, this), /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(TermsModal.default, {\n        visible: showTerms,\n        onAccept: handleTermsAccept\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true);\n  }\n  _s(Index, \"dHt9Y+349NV/vOkss11Dqpg5pXc=\", false, function () {\n    return [_expoRouter.useRouter, _storeAuthStore.useAuthStore, _storeLanguageStore.useLanguageStore];\n  });\n  _c = Index;\n  const styles = StyleSheet.default.create({\n    container: {\n      flex: 1,\n      justifyContent: 'center',\n      alignItems: 'center',\n      backgroundColor: '#fff'\n    }\n  });\n  var _c;\n  $RefreshReg$(_c, \"Index\");\n});","lineCount":123,"map":[[14,2,9,15,"Object"],[14,8,9,15],[14,9,9,15,"defineProperty"],[14,23,9,15],[14,24,9,15,"exports"],[14,31,9,15],[15,4,9,15,"enumerable"],[15,14,9,15],[16,4,9,15,"get"],[16,7,9,15],[16,18,9,15,"get"],[16,19,9,15],[17,6,9,15],[17,13,9,15,"Index"],[17,18,9,15],[18,4,9,15],[19,2,9,15],[20,2,1,0],[20,6,1,0,"_react"],[20,12,1,0],[20,15,1,0,"require"],[20,22,1,0],[20,23,1,0,"_dependencyMap"],[20,37,1,0],[21,2,1,44],[21,6,1,44,"_reactNativeWebDistExportsView"],[21,36,1,44],[21,39,1,44,"require"],[21,46,1,44],[21,47,1,44,"_dependencyMap"],[21,61,1,44],[22,2,1,44],[22,6,1,44,"View"],[22,10,1,44],[22,13,1,44,"_interopDefault"],[22,28,1,44],[22,29,1,44,"_reactNativeWebDistExportsView"],[22,59,1,44],[23,2,1,44],[23,6,1,44,"_reactNativeWebDistExportsActivityIndicator"],[23,49,1,44],[23,52,1,44,"require"],[23,59,1,44],[23,60,1,44,"_dependencyMap"],[23,74,1,44],[24,2,1,44],[24,6,1,44,"ActivityIndicator"],[24,23,1,44],[24,26,1,44,"_interopDefault"],[24,41,1,44],[24,42,1,44,"_reactNativeWebDistExportsActivityIndicator"],[24,85,1,44],[25,2,1,44],[25,6,1,44,"_reactNativeWebDistExportsStyleSheet"],[25,42,1,44],[25,45,1,44,"require"],[25,52,1,44],[25,53,1,44,"_dependencyMap"],[25,67,1,44],[26,2,1,44],[26,6,1,44,"StyleSheet"],[26,16,1,44],[26,19,1,44,"_interopDefault"],[26,34,1,44],[26,35,1,44,"_reactNativeWebDistExportsStyleSheet"],[26,71,1,44],[27,2,3,0],[27,6,3,0,"_expoRouter"],[27,17,3,0],[27,20,3,0,"require"],[27,27,3,0],[27,28,3,0,"_dependencyMap"],[27,42,3,0],[28,2,4,0],[28,6,4,0,"_storeAuthStore"],[28,21,4,0],[28,24,4,0,"require"],[28,31,4,0],[28,32,4,0,"_dependencyMap"],[28,46,4,0],[29,2,5,0],[29,6,5,0,"_storeLanguageStore"],[29,25,5,0],[29,28,5,0,"require"],[29,35,5,0],[29,36,5,0,"_dependencyMap"],[29,50,5,0],[30,2,6,0],[30,6,6,0,"_reactNativeAsyncStorageAsyncStorage"],[30,42,6,0],[30,45,6,0,"require"],[30,52,6,0],[30,53,6,0,"_dependencyMap"],[30,67,6,0],[31,2,6,0],[31,6,6,0,"AsyncStorage"],[31,18,6,0],[31,21,6,0,"_interopDefault"],[31,36,6,0],[31,37,6,0,"_reactNativeAsyncStorageAsyncStorage"],[31,73,6,0],[32,2,7,0],[32,6,7,0,"_componentsTermsModal"],[32,27,7,0],[32,30,7,0,"require"],[32,37,7,0],[32,38,7,0,"_dependencyMap"],[32,52,7,0],[33,2,7,0],[33,6,7,0,"TermsModal"],[33,16,7,0],[33,19,7,0,"_interopDefault"],[33,34,7,0],[33,35,7,0,"_componentsTermsModal"],[33,56,7,0],[34,2,7,50],[34,6,7,50,"_reactJsxDevRuntime"],[34,25,7,50],[34,28,7,50,"require"],[34,35,7,50],[34,36,7,50,"_dependencyMap"],[34,50,7,50],[35,2,9,15],[35,11,9,24,"Index"],[35,16,9,29,"Index"],[35,17,9,29],[35,19,9,32],[36,4,9,32,"_s"],[36,6,9,32],[37,4,10,2],[37,10,10,8,"router"],[37,16,10,14],[37,19,10,17],[37,23,10,17,"useRouter"],[37,34,10,26],[37,35,10,26,"useRouter"],[37,44,10,26],[37,46,10,27],[37,47,10,28],[38,4,11,2],[38,10,11,8],[39,6,11,10,"user"],[39,10,11,14],[40,6,11,16,"isLoading"],[41,4,11,26],[41,5,11,27],[41,8,11,30],[41,12,11,30,"useAuthStore"],[41,27,11,42],[41,28,11,42,"useAuthStore"],[41,40,11,42],[41,42,11,43],[41,43,11,44],[42,4,12,2],[42,10,12,8],[43,6,12,10,"loadLanguage"],[44,4,12,23],[44,5,12,24],[44,8,12,27],[44,12,12,27,"useLanguageStore"],[44,31,12,43],[44,32,12,43,"useLanguageStore"],[44,48,12,43],[44,50,12,44],[44,51,12,45],[45,4,13,2],[45,10,13,8],[45,11,13,9,"showTerms"],[45,20,13,18],[45,22,13,20,"setShowTerms"],[45,34,13,32],[45,35,13,33],[45,38,13,36],[45,42,13,36,"useState"],[45,48,13,44],[45,49,13,44,"useState"],[45,57,13,44],[45,59,13,45],[45,64,13,50],[45,65,13,51],[46,4,14,2],[46,10,14,8],[46,11,14,9,"termsChecked"],[46,23,14,21],[46,25,14,23,"setTermsChecked"],[46,40,14,38],[46,41,14,39],[46,44,14,42],[46,48,14,42,"useState"],[46,54,14,50],[46,55,14,50,"useState"],[46,63,14,50],[46,65,14,51],[46,70,14,56],[46,71,14,57],[47,4,16,2],[47,8,16,2,"useEffect"],[47,14,16,11],[47,15,16,11,"useEffect"],[47,24,16,11],[47,26,16,12],[47,32,16,18],[48,6,17,4,"loadLanguage"],[48,18,17,16],[48,19,17,17],[48,20,17,18],[48,21,17,19],[48,22,17,20],[49,6,18,4,"checkTermsAcceptance"],[49,26,18,24],[49,27,18,25],[49,28,18,26],[50,4,19,2],[50,5,19,3],[50,7,19,5],[50,9,19,7],[50,10,19,8],[51,4,21,2],[51,10,21,8,"checkTermsAcceptance"],[51,30,21,28],[51,33,21,31],[51,39,21,31,"checkTermsAcceptance"],[51,40,21,31],[51,45,21,43],[52,6,22,4],[52,10,22,8],[53,8,23,6],[53,14,23,12,"accepted"],[53,22,23,20],[53,25,23,23],[53,31,23,29,"AsyncStorage"],[53,43,23,41],[53,44,23,41,"default"],[53,51,23,41],[53,52,23,42,"getItem"],[53,59,23,49],[53,60,23,50],[53,75,23,65],[53,76,23,66],[54,8,24,6],[54,12,24,10,"accepted"],[54,20,24,18],[54,25,24,23],[54,31,24,29],[54,33,24,31],[55,10,25,8,"setTermsChecked"],[55,25,25,23],[55,26,25,24],[55,30,25,28],[55,31,25,29],[56,8,26,6],[56,9,26,7],[56,15,26,13],[56,19,26,17],[56,20,26,18,"isLoading"],[56,29,26,27],[56,33,26,31,"user"],[56,37,26,35],[56,39,26,37],[57,10,27,8],[58,10,28,8,"setShowTerms"],[58,22,28,20],[58,23,28,21],[58,27,28,25],[58,28,28,26],[59,8,29,6],[60,8,30,6,"setTermsChecked"],[60,23,30,21],[60,24,30,22],[60,28,30,26],[60,29,30,27],[61,6,31,4],[61,7,31,5],[61,8,31,6],[61,15,31,13,"error"],[61,20,31,18],[61,22,31,20],[62,8,32,6,"console"],[62,15,32,13],[62,16,32,14,"error"],[62,21,32,19],[62,22,32,20],[62,45,32,43],[62,47,32,45,"error"],[62,52,32,50],[62,53,32,51],[63,8,33,6,"setTermsChecked"],[63,23,33,21],[63,24,33,22],[63,28,33,26],[63,29,33,27],[64,6,34,4],[65,4,35,2],[65,5,35,3],[66,4,37,2],[66,10,37,8,"handleTermsAccept"],[66,27,37,25],[66,30,37,28],[66,36,37,28,"handleTermsAccept"],[66,37,37,28],[66,42,37,40],[67,6,38,4],[67,10,38,8],[68,8,39,6],[68,14,39,12,"AsyncStorage"],[68,26,39,24],[68,27,39,24,"default"],[68,34,39,24],[68,35,39,25,"setItem"],[68,42,39,32],[68,43,39,33],[68,58,39,48],[68,60,39,50],[68,66,39,56],[68,67,39,57],[69,8,40,6,"setShowTerms"],[69,20,40,18],[69,21,40,19],[69,26,40,24],[69,27,40,25],[70,8,41,6,"setTermsChecked"],[70,23,41,21],[70,24,41,22],[70,28,41,26],[70,29,41,27],[71,6,42,4],[71,7,42,5],[71,8,42,6],[71,15,42,13,"error"],[71,20,42,18],[71,22,42,20],[72,8,43,6,"console"],[72,15,43,13],[72,16,43,14,"error"],[72,21,43,19],[72,22,43,20],[72,54,43,52],[72,56,43,54,"error"],[72,61,43,59],[72,62,43,60],[73,6,44,4],[74,4,45,2],[74,5,45,3],[75,4,47,2],[75,8,47,2,"useEffect"],[75,14,47,11],[75,15,47,11,"useEffect"],[75,24,47,11],[75,26,47,12],[75,32,47,18],[76,6,48,4],[76,10,48,8],[76,11,48,9,"isLoading"],[76,20,48,18],[76,24,48,22,"termsChecked"],[76,36,48,34],[76,38,48,36],[77,8,49,6],[77,12,49,10,"user"],[77,16,49,14],[77,18,49,16],[78,10,50,8,"router"],[78,16,50,14],[78,17,50,15,"replace"],[78,24,50,22],[78,25,50,23],[78,39,50,37],[78,40,50,38],[79,8,51,6],[79,9,51,7],[79,15,51,13],[80,10,52,8,"router"],[80,16,52,14],[80,17,52,15,"replace"],[80,24,52,22],[80,25,52,23],[80,40,52,38],[80,41,52,39],[81,8,53,6],[82,6,54,4],[83,4,55,2],[83,5,55,3],[83,7,55,5],[83,8,55,6,"user"],[83,12,55,10],[83,14,55,12,"isLoading"],[83,23,55,21],[83,25,55,23,"termsChecked"],[83,37,55,35],[83,38,55,36],[83,39,55,37],[84,4,57,2],[84,24,58,4],[84,28,58,4,"_reactJsxDevRuntime"],[84,47,58,4],[84,48,58,4,"jsxDEV"],[84,54,58,4],[84,56,58,4,"_reactJsxDevRuntime"],[84,75,58,4],[84,76,58,4,"Fragment"],[84,84,58,4],[85,6,58,4,"children"],[85,14,58,4],[85,30,59,6],[85,34,59,6,"_reactJsxDevRuntime"],[85,53,59,6],[85,54,59,6,"jsxDEV"],[85,60,59,6],[85,62,59,7,"View"],[85,66,59,11],[85,67,59,11,"default"],[85,74,59,11],[86,8,59,12,"style"],[86,13,59,17],[86,15,59,19,"styles"],[86,21,59,25],[86,22,59,26,"container"],[86,31,59,36],[87,8,59,36,"children"],[87,16,59,36],[87,31,60,8],[87,35,60,8,"_reactJsxDevRuntime"],[87,54,60,8],[87,55,60,8,"jsxDEV"],[87,61,60,8],[87,63,60,9,"ActivityIndicator"],[87,80,60,26],[87,81,60,26,"default"],[87,88,60,26],[88,10,60,27,"size"],[88,14,60,31],[88,16,60,32],[88,23,60,39],[89,10,60,40,"color"],[89,15,60,45],[89,17,60,46],[90,8,60,55],[91,10,60,55,"fileName"],[91,18,60,55],[91,20,60,55,"_jsxFileName"],[91,32,60,55],[92,10,60,55,"lineNumber"],[92,20,60,55],[93,10,60,55,"columnNumber"],[93,22,60,55],[94,8,60,55],[94,15,60,57],[95,6,60,58],[96,8,60,58,"fileName"],[96,16,60,58],[96,18,60,58,"_jsxFileName"],[96,30,60,58],[97,8,60,58,"lineNumber"],[97,18,60,58],[98,8,60,58,"columnNumber"],[98,20,60,58],[99,6,60,58],[99,13,61,12],[99,14,61,13],[99,29,62,6],[99,33,62,6,"_reactJsxDevRuntime"],[99,52,62,6],[99,53,62,6,"jsxDEV"],[99,59,62,6],[99,61,62,7,"TermsModal"],[99,71,62,17],[99,72,62,17,"default"],[99,79,62,17],[100,8,62,18,"visible"],[100,15,62,25],[100,17,62,27,"showTerms"],[100,26,62,37],[101,8,62,38,"onAccept"],[101,16,62,46],[101,18,62,48,"handleTermsAccept"],[102,6,62,66],[103,8,62,66,"fileName"],[103,16,62,66],[103,18,62,66,"_jsxFileName"],[103,30,62,66],[104,8,62,66,"lineNumber"],[104,18,62,66],[105,8,62,66,"columnNumber"],[105,20,62,66],[106,6,62,66],[106,13,62,68],[106,14,62,69],[107,4,62,69],[107,19,63,6],[107,20,63,7],[108,2,65,0],[109,2,65,1,"_s"],[109,4,65,1],[109,5,9,24,"Index"],[109,10,9,29],[110,4,9,29],[110,12,10,17,"useRouter"],[110,23,10,26],[110,24,10,26,"useRouter"],[110,33,10,26],[110,35,11,30,"useAuthStore"],[110,50,11,42],[110,51,11,42,"useAuthStore"],[110,63,11,42],[110,65,12,27,"useLanguageStore"],[110,84,12,43],[110,85,12,43,"useLanguageStore"],[110,101,12,43],[111,2,12,43],[112,2,12,43,"_c"],[112,4,12,43],[112,7,9,24,"Index"],[112,12,9,29],[113,2,67,0],[113,8,67,6,"styles"],[113,14,67,12],[113,17,67,15,"StyleSheet"],[113,27,67,25],[113,28,67,25,"default"],[113,35,67,25],[113,36,67,26,"create"],[113,42,67,32],[113,43,67,33],[114,4,68,2,"container"],[114,13,68,11],[114,15,68,13],[115,6,69,4,"flex"],[115,10,69,8],[115,12,69,10],[115,13,69,11],[116,6,70,4,"justifyContent"],[116,20,70,18],[116,22,70,20],[116,30,70,28],[117,6,71,4,"alignItems"],[117,16,71,14],[117,18,71,16],[117,26,71,24],[118,6,72,4,"backgroundColor"],[118,21,72,19],[118,23,72,21],[119,4,73,2],[120,2,74,0],[120,3,74,1],[120,4,74,2],[121,2,74,3],[121,6,74,3,"_c"],[121,8,74,3],[122,2,74,3,"$RefreshReg$"],[122,14,74,3],[122,15,74,3,"_c"],[122,17,74,3],[123,0,74,3],[123,3]],"functionMap":{"names":["<global>","Index","useEffect$argument_0","checkTermsAcceptance","handleTermsAccept"],"mappings":"AAA;eCQ;YCO;GDG;+BEE;GFc;4BGE;GHQ;YCE;GDQ;CDU"},"hasCjsExports":false},"type":"js/module"}]}