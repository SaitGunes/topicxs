{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":69,"index":103}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":104},"end":{"line":3,"column":26,"index":130}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useAuthStore\", {\n    enumerable: true,\n    get: function () {\n      return useAuthStore;\n    }\n  });\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _zustand = require(_dependencyMap[1], \"zustand\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[2], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _axios = require(_dependencyMap[3], \"axios\");\n  var axios = _interopDefault(_axios);\n  const API_URL = _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL;\n  const useAuthStore = (0, _zustand.create)(set => ({\n    user: null,\n    token: null,\n    isLoading: true,\n    loadToken: async () => {\n      try {\n        const token = await AsyncStorage.default.getItem('token');\n        const userData = await AsyncStorage.default.getItem('user');\n        if (token && userData) {\n          set({\n            token,\n            user: JSON.parse(userData),\n            isLoading: false\n          });\n        } else {\n          set({\n            isLoading: false\n          });\n        }\n      } catch (error) {\n        console.error('Load token error:', error);\n        set({\n          isLoading: false\n        });\n      }\n    },\n    login: async (username, password) => {\n      try {\n        const response = await axios.default.post(`${API_URL}/api/auth/login`, {\n          username,\n          password\n        });\n        const {\n          access_token,\n          user\n        } = response.data;\n        await AsyncStorage.default.setItem('token', access_token);\n        await AsyncStorage.default.setItem('user', JSON.stringify(user));\n        set({\n          user,\n          token: access_token\n        });\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Login failed');\n      }\n    },\n    register: async (username, email, password, full_name, referral_code) => {\n      try {\n        const response = await axios.default.post(`${API_URL}/api/auth/register`, {\n          username,\n          email,\n          password,\n          full_name,\n          referral_code: referral_code || undefined\n        });\n        const {\n          access_token,\n          user\n        } = response.data;\n        await AsyncStorage.default.setItem('token', access_token);\n        await AsyncStorage.default.setItem('user', JSON.stringify(user));\n        set({\n          user,\n          token: access_token\n        });\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Registration failed');\n      }\n    },\n    logout: async () => {\n      try {\n        // Clear AsyncStorage\n        await AsyncStorage.default.removeItem('token');\n        await AsyncStorage.default.removeItem('user');\n        await AsyncStorage.default.clear(); // Clear all storage\n\n        // Clear state\n        set({\n          user: null,\n          token: null,\n          isLoading: false\n        });\n        console.log('Logout successful');\n      } catch (error) {\n        console.error('Logout error:', error);\n      }\n    }\n  }));\n});","lineCount":113,"map":[[12,2,31,0,"Object"],[12,8,31,0],[12,9,31,0,"defineProperty"],[12,23,31,0],[12,24,31,0,"exports"],[12,31,31,0],[13,4,31,0,"enumerable"],[13,14,31,0],[14,4,31,0,"get"],[14,7,31,0],[14,18,31,0,"get"],[14,19,31,0],[15,6,31,0],[15,13,31,0,"useAuthStore"],[15,25,31,0],[16,4,31,0],[17,2,31,0],[18,2,106,4],[18,6,106,4,"_expoVirtualEnv"],[18,21,106,4],[18,24,106,4,"require"],[18,31,106,4],[18,32,106,4,"_dependencyMap"],[18,46,106,4],[19,2,1,0],[19,6,1,0,"_zustand"],[19,14,1,0],[19,17,1,0,"require"],[19,24,1,0],[19,25,1,0,"_dependencyMap"],[19,39,1,0],[20,2,2,0],[20,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[20,42,2,0],[20,45,2,0,"require"],[20,52,2,0],[20,53,2,0,"_dependencyMap"],[20,67,2,0],[21,2,2,0],[21,6,2,0,"AsyncStorage"],[21,18,2,0],[21,21,2,0,"_interopDefault"],[21,36,2,0],[21,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[21,73,2,0],[22,2,3,0],[22,6,3,0,"_axios"],[22,12,3,0],[22,15,3,0,"require"],[22,22,3,0],[22,23,3,0,"_dependencyMap"],[22,37,3,0],[23,2,3,0],[23,6,3,0,"axios"],[23,11,3,0],[23,14,3,0,"_interopDefault"],[23,29,3,0],[23,30,3,0,"_axios"],[23,36,3,0],[24,2,5,0],[24,8,5,6,"API_URL"],[24,15,5,13],[24,18,5,13,"_expoVirtualEnv"],[24,33,5,13],[24,34,5,13,"env"],[24,37,5,13],[24,38,5,13,"EXPO_PUBLIC_BACKEND_URL"],[24,61,5,51],[25,2,31,7],[25,8,31,13,"useAuthStore"],[25,20,31,25],[25,23,31,28],[25,27,31,28,"create"],[25,35,31,34],[25,36,31,34,"create"],[25,42,31,34],[25,44,31,47,"set"],[25,47,31,50],[25,52,31,56],[26,4,32,2,"user"],[26,8,32,6],[26,10,32,8],[26,14,32,12],[27,4,33,2,"token"],[27,9,33,7],[27,11,33,9],[27,15,33,13],[28,4,34,2,"isLoading"],[28,13,34,11],[28,15,34,13],[28,19,34,17],[29,4,36,2,"loadToken"],[29,13,36,11],[29,15,36,13],[29,21,36,13,"loadToken"],[29,22,36,13],[29,27,36,25],[30,6,37,4],[30,10,37,8],[31,8,38,6],[31,14,38,12,"token"],[31,19,38,17],[31,22,38,20],[31,28,38,26,"AsyncStorage"],[31,40,38,38],[31,41,38,38,"default"],[31,48,38,38],[31,49,38,39,"getItem"],[31,56,38,46],[31,57,38,47],[31,64,38,54],[31,65,38,55],[32,8,39,6],[32,14,39,12,"userData"],[32,22,39,20],[32,25,39,23],[32,31,39,29,"AsyncStorage"],[32,43,39,41],[32,44,39,41,"default"],[32,51,39,41],[32,52,39,42,"getItem"],[32,59,39,49],[32,60,39,50],[32,66,39,56],[32,67,39,57],[33,8,41,6],[33,12,41,10,"token"],[33,17,41,15],[33,21,41,19,"userData"],[33,29,41,27],[33,31,41,29],[34,10,42,8,"set"],[34,13,42,11],[34,14,42,12],[35,12,42,14,"token"],[35,17,42,19],[36,12,42,21,"user"],[36,16,42,25],[36,18,42,27,"JSON"],[36,22,42,31],[36,23,42,32,"parse"],[36,28,42,37],[36,29,42,38,"userData"],[36,37,42,46],[36,38,42,47],[37,12,42,49,"isLoading"],[37,21,42,58],[37,23,42,60],[38,10,42,66],[38,11,42,67],[38,12,42,68],[39,8,43,6],[39,9,43,7],[39,15,43,13],[40,10,44,8,"set"],[40,13,44,11],[40,14,44,12],[41,12,44,14,"isLoading"],[41,21,44,23],[41,23,44,25],[42,10,44,31],[42,11,44,32],[42,12,44,33],[43,8,45,6],[44,6,46,4],[44,7,46,5],[44,8,46,6],[44,15,46,13,"error"],[44,20,46,18],[44,22,46,20],[45,8,47,6,"console"],[45,15,47,13],[45,16,47,14,"error"],[45,21,47,19],[45,22,47,20],[45,41,47,39],[45,43,47,41,"error"],[45,48,47,46],[45,49,47,47],[46,8,48,6,"set"],[46,11,48,9],[46,12,48,10],[47,10,48,12,"isLoading"],[47,19,48,21],[47,21,48,23],[48,8,48,29],[48,9,48,30],[48,10,48,31],[49,6,49,4],[50,4,50,2],[50,5,50,3],[51,4,52,2,"login"],[51,9,52,7],[51,11,52,9],[51,17,52,9,"login"],[51,18,52,16,"username"],[51,26,52,32],[51,28,52,34,"password"],[51,36,52,50],[51,41,52,55],[52,6,53,4],[52,10,53,8],[53,8,54,6],[53,14,54,12,"response"],[53,22,54,20],[53,25,54,23],[53,31,54,29,"axios"],[53,36,54,34],[53,37,54,34,"default"],[53,44,54,34],[53,45,54,35,"post"],[53,49,54,39],[53,50,54,40],[53,53,54,43,"API_URL"],[53,60,54,50],[53,77,54,67],[53,79,54,69],[54,10,55,8,"username"],[54,18,55,16],[55,10,56,8,"password"],[56,8,57,6],[56,9,57,7],[56,10,57,8],[57,8,59,6],[57,14,59,12],[58,10,59,14,"access_token"],[58,22,59,26],[59,10,59,28,"user"],[60,8,59,33],[60,9,59,34],[60,12,59,37,"response"],[60,20,59,45],[60,21,59,46,"data"],[60,25,59,50],[61,8,61,6],[61,14,61,12,"AsyncStorage"],[61,26,61,24],[61,27,61,24,"default"],[61,34,61,24],[61,35,61,25,"setItem"],[61,42,61,32],[61,43,61,33],[61,50,61,40],[61,52,61,42,"access_token"],[61,64,61,54],[61,65,61,55],[62,8,62,6],[62,14,62,12,"AsyncStorage"],[62,26,62,24],[62,27,62,24,"default"],[62,34,62,24],[62,35,62,25,"setItem"],[62,42,62,32],[62,43,62,33],[62,49,62,39],[62,51,62,41,"JSON"],[62,55,62,45],[62,56,62,46,"stringify"],[62,65,62,55],[62,66,62,56,"user"],[62,70,62,60],[62,71,62,61],[62,72,62,62],[63,8,64,6,"set"],[63,11,64,9],[63,12,64,10],[64,10,64,12,"user"],[64,14,64,16],[65,10,64,18,"token"],[65,15,64,23],[65,17,64,25,"access_token"],[66,8,64,38],[66,9,64,39],[66,10,64,40],[67,6,65,4],[67,7,65,5],[67,8,65,6],[67,15,65,13,"error"],[67,20,65,23],[67,22,65,25],[68,8,66,6],[68,14,66,12],[68,18,66,16,"Error"],[68,23,66,21],[68,24,66,22,"error"],[68,29,66,27],[68,30,66,28,"response"],[68,38,66,36],[68,40,66,38,"data"],[68,44,66,42],[68,46,66,44,"detail"],[68,52,66,50],[68,56,66,54],[68,70,66,68],[68,71,66,69],[69,6,67,4],[70,4,68,2],[70,5,68,3],[71,4,70,2,"register"],[71,12,70,10],[71,14,70,12],[71,20,70,12,"register"],[71,21,70,19,"username"],[71,29,70,35],[71,31,70,37,"email"],[71,36,70,50],[71,38,70,52,"password"],[71,46,70,68],[71,48,70,70,"full_name"],[71,57,70,87],[71,59,70,89,"referral_code"],[71,72,70,111],[71,77,70,116],[72,6,71,4],[72,10,71,8],[73,8,72,6],[73,14,72,12,"response"],[73,22,72,20],[73,25,72,23],[73,31,72,29,"axios"],[73,36,72,34],[73,37,72,34,"default"],[73,44,72,34],[73,45,72,35,"post"],[73,49,72,39],[73,50,72,40],[73,53,72,43,"API_URL"],[73,60,72,50],[73,80,72,70],[73,82,72,72],[74,10,73,8,"username"],[74,18,73,16],[75,10,74,8,"email"],[75,15,74,13],[76,10,75,8,"password"],[76,18,75,16],[77,10,76,8,"full_name"],[77,19,76,17],[78,10,77,8,"referral_code"],[78,23,77,21],[78,25,77,23,"referral_code"],[78,38,77,36],[78,42,77,40,"undefined"],[79,8,78,6],[79,9,78,7],[79,10,78,8],[80,8,80,6],[80,14,80,12],[81,10,80,14,"access_token"],[81,22,80,26],[82,10,80,28,"user"],[83,8,80,33],[83,9,80,34],[83,12,80,37,"response"],[83,20,80,45],[83,21,80,46,"data"],[83,25,80,50],[84,8,82,6],[84,14,82,12,"AsyncStorage"],[84,26,82,24],[84,27,82,24,"default"],[84,34,82,24],[84,35,82,25,"setItem"],[84,42,82,32],[84,43,82,33],[84,50,82,40],[84,52,82,42,"access_token"],[84,64,82,54],[84,65,82,55],[85,8,83,6],[85,14,83,12,"AsyncStorage"],[85,26,83,24],[85,27,83,24,"default"],[85,34,83,24],[85,35,83,25,"setItem"],[85,42,83,32],[85,43,83,33],[85,49,83,39],[85,51,83,41,"JSON"],[85,55,83,45],[85,56,83,46,"stringify"],[85,65,83,55],[85,66,83,56,"user"],[85,70,83,60],[85,71,83,61],[85,72,83,62],[86,8,85,6,"set"],[86,11,85,9],[86,12,85,10],[87,10,85,12,"user"],[87,14,85,16],[88,10,85,18,"token"],[88,15,85,23],[88,17,85,25,"access_token"],[89,8,85,38],[89,9,85,39],[89,10,85,40],[90,6,86,4],[90,7,86,5],[90,8,86,6],[90,15,86,13,"error"],[90,20,86,23],[90,22,86,25],[91,8,87,6],[91,14,87,12],[91,18,87,16,"Error"],[91,23,87,21],[91,24,87,22,"error"],[91,29,87,27],[91,30,87,28,"response"],[91,38,87,36],[91,40,87,38,"data"],[91,44,87,42],[91,46,87,44,"detail"],[91,52,87,50],[91,56,87,54],[91,77,87,75],[91,78,87,76],[92,6,88,4],[93,4,89,2],[93,5,89,3],[94,4,91,2,"logout"],[94,10,91,8],[94,12,91,10],[94,18,91,10,"logout"],[94,19,91,10],[94,24,91,22],[95,6,92,4],[95,10,92,8],[96,8,93,6],[97,8,94,6],[97,14,94,12,"AsyncStorage"],[97,26,94,24],[97,27,94,24,"default"],[97,34,94,24],[97,35,94,25,"removeItem"],[97,45,94,35],[97,46,94,36],[97,53,94,43],[97,54,94,44],[98,8,95,6],[98,14,95,12,"AsyncStorage"],[98,26,95,24],[98,27,95,24,"default"],[98,34,95,24],[98,35,95,25,"removeItem"],[98,45,95,35],[98,46,95,36],[98,52,95,42],[98,53,95,43],[99,8,96,6],[99,14,96,12,"AsyncStorage"],[99,26,96,24],[99,27,96,24,"default"],[99,34,96,24],[99,35,96,25,"clear"],[99,40,96,30],[99,41,96,31],[99,42,96,32],[99,43,96,33],[99,44,96,34],[101,8,98,6],[102,8,99,6,"set"],[102,11,99,9],[102,12,99,10],[103,10,99,12,"user"],[103,14,99,16],[103,16,99,18],[103,20,99,22],[104,10,99,24,"token"],[104,15,99,29],[104,17,99,31],[104,21,99,35],[105,10,99,37,"isLoading"],[105,19,99,46],[105,21,99,48],[106,8,99,54],[106,9,99,55],[106,10,99,56],[107,8,101,6,"console"],[107,15,101,13],[107,16,101,14,"log"],[107,19,101,17],[107,20,101,18],[107,39,101,37],[107,40,101,38],[108,6,102,4],[108,7,102,5],[108,8,102,6],[108,15,102,13,"error"],[108,20,102,18],[108,22,102,20],[109,8,103,6,"console"],[109,15,103,13],[109,16,103,14,"error"],[109,21,103,19],[109,22,103,20],[109,37,103,35],[109,39,103,37,"error"],[109,44,103,42],[109,45,103,43],[110,6,104,4],[111,4,105,2],[112,2,106,0],[112,3,106,1],[112,4,106,2],[112,5,106,3],[113,0,106,4],[113,3]],"functionMap":{"names":["<global>","create$argument_0","loadToken","login","register","logout"],"mappings":"AAA;8CC8B;aCK;GDc;SEE;GFgB;YGE;GHmB;UIE;GJc;EDC"},"hasCjsExports":false},"type":"js/module"}]}