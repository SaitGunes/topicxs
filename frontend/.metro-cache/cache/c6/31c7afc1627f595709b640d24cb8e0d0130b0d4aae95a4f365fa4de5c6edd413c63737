{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"]}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":44,"index":44}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"]}},{"name":"react-native-web/dist/exports/View","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"4kYBDC6LJJXoH7P9rWDi3vkLVB0=","exportNames":["*"]}},{"name":"react-native-web/dist/exports/ActivityIndicator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"bSAkUkqZq0shBb5bU6kCYXi4ciA=","exportNames":["*"]}},{"name":"react-native-web/dist/exports/StyleSheet","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"MK7+k1V+KnvCVW7Kj2k/ydtjmVU=","exportNames":["*"]}},{"name":"expo-router","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":113},"end":{"line":3,"column":40,"index":153}}],"key":"/+ErnBisjrT6aDU+GRp5Qz/lYoY=","exportNames":["*"]}},{"name":"../store/authStore","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":154},"end":{"line":4,"column":50,"index":204}}],"key":"/4BDl/hqolvw7T4CXD8jWAtZK4M=","exportNames":["*"]}},{"name":"../store/languageStore","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":205},"end":{"line":5,"column":58,"index":263}}],"key":"zdXeEoEFE4c7I18gUi/lJGNzi/g=","exportNames":["*"]}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":264},"end":{"line":6,"column":69,"index":333}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"]}},{"name":"../components/TermsModal","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":334},"end":{"line":7,"column":50,"index":384}}],"key":"QFov7W8BA1pAQA97Rl5tkl/yiIk=","exportNames":["*"]}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = Index;\n  var _react = require(_dependencyMap[1], \"react\");\n  var _View = _interopRequireDefault(require(_dependencyMap[2], \"react-native-web/dist/exports/View\"));\n  var _ActivityIndicator = _interopRequireDefault(require(_dependencyMap[3], \"react-native-web/dist/exports/ActivityIndicator\"));\n  var _StyleSheet = _interopRequireDefault(require(_dependencyMap[4], \"react-native-web/dist/exports/StyleSheet\"));\n  var _expoRouter = require(_dependencyMap[5], \"expo-router\");\n  var _authStore = require(_dependencyMap[6], \"../store/authStore\");\n  var _languageStore = require(_dependencyMap[7], \"../store/languageStore\");\n  var _asyncStorage = _interopRequireDefault(require(_dependencyMap[8], \"@react-native-async-storage/async-storage\"));\n  var _TermsModal = _interopRequireDefault(require(_dependencyMap[9], \"../components/TermsModal\"));\n  var _jsxDevRuntime = require(_dependencyMap[10], \"react/jsx-dev-runtime\");\n  var _jsxFileName = \"/app/frontend/app/index.tsx\";\n  function Index() {\n    const router = (0, _expoRouter.useRouter)();\n    const {\n      user,\n      isLoading\n    } = (0, _authStore.useAuthStore)();\n    const {\n      loadLanguage\n    } = (0, _languageStore.useLanguageStore)();\n    const [showTerms, setShowTerms] = (0, _react.useState)(false);\n    const [termsChecked, setTermsChecked] = (0, _react.useState)(false);\n    (0, _react.useEffect)(() => {\n      loadLanguage(); // Load saved language\n      checkTermsAcceptance();\n    }, []);\n    const checkTermsAcceptance = async () => {\n      try {\n        const accepted = await _asyncStorage.default.getItem('termsAccepted');\n        if (accepted === 'true') {\n          setTermsChecked(true);\n        } else if (!isLoading && user) {\n          // User logged in but hasn't accepted terms\n          setShowTerms(true);\n        }\n        setTermsChecked(true);\n      } catch (error) {\n        console.error('Error checking terms:', error);\n        setTermsChecked(true);\n      }\n    };\n    const handleTermsAccept = async () => {\n      try {\n        await _asyncStorage.default.setItem('termsAccepted', 'true');\n        setShowTerms(false);\n        setTermsChecked(true);\n      } catch (error) {\n        console.error('Error saving terms acceptance:', error);\n      }\n    };\n    (0, _react.useEffect)(() => {\n      if (!isLoading && termsChecked) {\n        if (user) {\n          router.replace('/(tabs)/home');\n        } else {\n          router.replace('/(auth)/login');\n        }\n      }\n    }, [user, isLoading, termsChecked]);\n    return /*#__PURE__*/(0, _jsxDevRuntime.jsxDEV)(_jsxDevRuntime.Fragment, {\n      children: [/*#__PURE__*/(0, _jsxDevRuntime.jsxDEV)(_View.default, {\n        style: styles.container,\n        children: /*#__PURE__*/(0, _jsxDevRuntime.jsxDEV)(_ActivityIndicator.default, {\n          size: \"large\",\n          color: \"#007AFF\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 7\n      }, this), /*#__PURE__*/(0, _jsxDevRuntime.jsxDEV)(_TermsModal.default, {\n        visible: showTerms,\n        onAccept: handleTermsAccept\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true);\n  }\n  const styles = _StyleSheet.default.create({\n    container: {\n      flex: 1,\n      justifyContent: 'center',\n      alignItems: 'center',\n      backgroundColor: '#fff'\n    }\n  });\n});","lineCount":99,"map":[[7,2,1,0],[7,6,1,0,"_react"],[7,12,1,0],[7,15,1,0,"require"],[7,22,1,0],[7,23,1,0,"_dependencyMap"],[7,37,1,0],[8,2,1,44],[8,6,1,44,"_View"],[8,11,1,44],[8,14,1,44,"_interopRequireDefault"],[8,36,1,44],[8,37,1,44,"require"],[8,44,1,44],[8,45,1,44,"_dependencyMap"],[8,59,1,44],[9,2,1,44],[9,6,1,44,"_ActivityIndicator"],[9,24,1,44],[9,27,1,44,"_interopRequireDefault"],[9,49,1,44],[9,50,1,44,"require"],[9,57,1,44],[9,58,1,44,"_dependencyMap"],[9,72,1,44],[10,2,1,44],[10,6,1,44,"_StyleSheet"],[10,17,1,44],[10,20,1,44,"_interopRequireDefault"],[10,42,1,44],[10,43,1,44,"require"],[10,50,1,44],[10,51,1,44,"_dependencyMap"],[10,65,1,44],[11,2,3,0],[11,6,3,0,"_expoRouter"],[11,17,3,0],[11,20,3,0,"require"],[11,27,3,0],[11,28,3,0,"_dependencyMap"],[11,42,3,0],[12,2,4,0],[12,6,4,0,"_authStore"],[12,16,4,0],[12,19,4,0,"require"],[12,26,4,0],[12,27,4,0,"_dependencyMap"],[12,41,4,0],[13,2,5,0],[13,6,5,0,"_languageStore"],[13,20,5,0],[13,23,5,0,"require"],[13,30,5,0],[13,31,5,0,"_dependencyMap"],[13,45,5,0],[14,2,6,0],[14,6,6,0,"_asyncStorage"],[14,19,6,0],[14,22,6,0,"_interopRequireDefault"],[14,44,6,0],[14,45,6,0,"require"],[14,52,6,0],[14,53,6,0,"_dependencyMap"],[14,67,6,0],[15,2,7,0],[15,6,7,0,"_TermsModal"],[15,17,7,0],[15,20,7,0,"_interopRequireDefault"],[15,42,7,0],[15,43,7,0,"require"],[15,50,7,0],[15,51,7,0,"_dependencyMap"],[15,65,7,0],[16,2,7,50],[16,6,7,50,"_jsxDevRuntime"],[16,20,7,50],[16,23,7,50,"require"],[16,30,7,50],[16,31,7,50,"_dependencyMap"],[16,45,7,50],[17,2,7,50],[17,6,7,50,"_jsxFileName"],[17,18,7,50],[18,2,9,15],[18,11,9,24,"Index"],[18,16,9,29,"Index"],[18,17,9,29],[18,19,9,32],[19,4,10,2],[19,10,10,8,"router"],[19,16,10,14],[19,19,10,17],[19,23,10,17,"useRouter"],[19,44,10,26],[19,46,10,27],[19,47,10,28],[20,4,11,2],[20,10,11,8],[21,6,11,10,"user"],[21,10,11,14],[22,6,11,16,"isLoading"],[23,4,11,26],[23,5,11,27],[23,8,11,30],[23,12,11,30,"useAuthStore"],[23,35,11,42],[23,37,11,43],[23,38,11,44],[24,4,12,2],[24,10,12,8],[25,6,12,10,"loadLanguage"],[26,4,12,23],[26,5,12,24],[26,8,12,27],[26,12,12,27,"useLanguageStore"],[26,43,12,43],[26,45,12,44],[26,46,12,45],[27,4,13,2],[27,10,13,8],[27,11,13,9,"showTerms"],[27,20,13,18],[27,22,13,20,"setShowTerms"],[27,34,13,32],[27,35,13,33],[27,38,13,36],[27,42,13,36,"useState"],[27,57,13,44],[27,59,13,45],[27,64,13,50],[27,65,13,51],[28,4,14,2],[28,10,14,8],[28,11,14,9,"termsChecked"],[28,23,14,21],[28,25,14,23,"setTermsChecked"],[28,40,14,38],[28,41,14,39],[28,44,14,42],[28,48,14,42,"useState"],[28,63,14,50],[28,65,14,51],[28,70,14,56],[28,71,14,57],[29,4,16,2],[29,8,16,2,"useEffect"],[29,24,16,11],[29,26,16,12],[29,32,16,18],[30,6,17,4,"loadLanguage"],[30,18,17,16],[30,19,17,17],[30,20,17,18],[30,21,17,19],[30,22,17,20],[31,6,18,4,"checkTermsAcceptance"],[31,26,18,24],[31,27,18,25],[31,28,18,26],[32,4,19,2],[32,5,19,3],[32,7,19,5],[32,9,19,7],[32,10,19,8],[33,4,21,2],[33,10,21,8,"checkTermsAcceptance"],[33,30,21,28],[33,33,21,31],[33,39,21,31,"checkTermsAcceptance"],[33,40,21,31],[33,45,21,43],[34,6,22,4],[34,10,22,8],[35,8,23,6],[35,14,23,12,"accepted"],[35,22,23,20],[35,25,23,23],[35,31,23,29,"AsyncStorage"],[35,52,23,41],[35,53,23,42,"getItem"],[35,60,23,49],[35,61,23,50],[35,76,23,65],[35,77,23,66],[36,8,24,6],[36,12,24,10,"accepted"],[36,20,24,18],[36,25,24,23],[36,31,24,29],[36,33,24,31],[37,10,25,8,"setTermsChecked"],[37,25,25,23],[37,26,25,24],[37,30,25,28],[37,31,25,29],[38,8,26,6],[38,9,26,7],[38,15,26,13],[38,19,26,17],[38,20,26,18,"isLoading"],[38,29,26,27],[38,33,26,31,"user"],[38,37,26,35],[38,39,26,37],[39,10,27,8],[40,10,28,8,"setShowTerms"],[40,22,28,20],[40,23,28,21],[40,27,28,25],[40,28,28,26],[41,8,29,6],[42,8,30,6,"setTermsChecked"],[42,23,30,21],[42,24,30,22],[42,28,30,26],[42,29,30,27],[43,6,31,4],[43,7,31,5],[43,8,31,6],[43,15,31,13,"error"],[43,20,31,18],[43,22,31,20],[44,8,32,6,"console"],[44,15,32,13],[44,16,32,14,"error"],[44,21,32,19],[44,22,32,20],[44,45,32,43],[44,47,32,45,"error"],[44,52,32,50],[44,53,32,51],[45,8,33,6,"setTermsChecked"],[45,23,33,21],[45,24,33,22],[45,28,33,26],[45,29,33,27],[46,6,34,4],[47,4,35,2],[47,5,35,3],[48,4,37,2],[48,10,37,8,"handleTermsAccept"],[48,27,37,25],[48,30,37,28],[48,36,37,28,"handleTermsAccept"],[48,37,37,28],[48,42,37,40],[49,6,38,4],[49,10,38,8],[50,8,39,6],[50,14,39,12,"AsyncStorage"],[50,35,39,24],[50,36,39,25,"setItem"],[50,43,39,32],[50,44,39,33],[50,59,39,48],[50,61,39,50],[50,67,39,56],[50,68,39,57],[51,8,40,6,"setShowTerms"],[51,20,40,18],[51,21,40,19],[51,26,40,24],[51,27,40,25],[52,8,41,6,"setTermsChecked"],[52,23,41,21],[52,24,41,22],[52,28,41,26],[52,29,41,27],[53,6,42,4],[53,7,42,5],[53,8,42,6],[53,15,42,13,"error"],[53,20,42,18],[53,22,42,20],[54,8,43,6,"console"],[54,15,43,13],[54,16,43,14,"error"],[54,21,43,19],[54,22,43,20],[54,54,43,52],[54,56,43,54,"error"],[54,61,43,59],[54,62,43,60],[55,6,44,4],[56,4,45,2],[56,5,45,3],[57,4,47,2],[57,8,47,2,"useEffect"],[57,24,47,11],[57,26,47,12],[57,32,47,18],[58,6,48,4],[58,10,48,8],[58,11,48,9,"isLoading"],[58,20,48,18],[58,24,48,22,"termsChecked"],[58,36,48,34],[58,38,48,36],[59,8,49,6],[59,12,49,10,"user"],[59,16,49,14],[59,18,49,16],[60,10,50,8,"router"],[60,16,50,14],[60,17,50,15,"replace"],[60,24,50,22],[60,25,50,23],[60,39,50,37],[60,40,50,38],[61,8,51,6],[61,9,51,7],[61,15,51,13],[62,10,52,8,"router"],[62,16,52,14],[62,17,52,15,"replace"],[62,24,52,22],[62,25,52,23],[62,40,52,38],[62,41,52,39],[63,8,53,6],[64,6,54,4],[65,4,55,2],[65,5,55,3],[65,7,55,5],[65,8,55,6,"user"],[65,12,55,10],[65,14,55,12,"isLoading"],[65,23,55,21],[65,25,55,23,"termsChecked"],[65,37,55,35],[65,38,55,36],[65,39,55,37],[66,4,57,2],[66,24,58,4],[66,28,58,4,"_jsxDevRuntime"],[66,42,58,4],[66,43,58,4,"jsxDEV"],[66,49,58,4],[66,51,58,4,"_jsxDevRuntime"],[66,65,58,4],[66,66,58,4,"Fragment"],[66,74,58,4],[67,6,58,4,"children"],[67,14,58,4],[67,30,59,6],[67,34,59,6,"_jsxDevRuntime"],[67,48,59,6],[67,49,59,6,"jsxDEV"],[67,55,59,6],[67,57,59,7,"_View"],[67,62,59,7],[67,63,59,7,"default"],[67,70,59,11],[68,8,59,12,"style"],[68,13,59,17],[68,15,59,19,"styles"],[68,21,59,25],[68,22,59,26,"container"],[68,31,59,36],[69,8,59,36,"children"],[69,16,59,36],[69,31,60,8],[69,35,60,8,"_jsxDevRuntime"],[69,49,60,8],[69,50,60,8,"jsxDEV"],[69,56,60,8],[69,58,60,9,"_ActivityIndicator"],[69,76,60,9],[69,77,60,9,"default"],[69,84,60,26],[70,10,60,27,"size"],[70,14,60,31],[70,16,60,32],[70,23,60,39],[71,10,60,40,"color"],[71,15,60,45],[71,17,60,46],[72,8,60,55],[73,10,60,55,"fileName"],[73,18,60,55],[73,20,60,55,"_jsxFileName"],[73,32,60,55],[74,10,60,55,"lineNumber"],[74,20,60,55],[75,10,60,55,"columnNumber"],[75,22,60,55],[76,8,60,55],[76,15,60,57],[77,6,60,58],[78,8,60,58,"fileName"],[78,16,60,58],[78,18,60,58,"_jsxFileName"],[78,30,60,58],[79,8,60,58,"lineNumber"],[79,18,60,58],[80,8,60,58,"columnNumber"],[80,20,60,58],[81,6,60,58],[81,13,61,12],[81,14,61,13],[81,29,62,6],[81,33,62,6,"_jsxDevRuntime"],[81,47,62,6],[81,48,62,6,"jsxDEV"],[81,54,62,6],[81,56,62,7,"_TermsModal"],[81,67,62,7],[81,68,62,7,"default"],[81,75,62,17],[82,8,62,18,"visible"],[82,15,62,25],[82,17,62,27,"showTerms"],[82,26,62,37],[83,8,62,38,"onAccept"],[83,16,62,46],[83,18,62,48,"handleTermsAccept"],[84,6,62,66],[85,8,62,66,"fileName"],[85,16,62,66],[85,18,62,66,"_jsxFileName"],[85,30,62,66],[86,8,62,66,"lineNumber"],[86,18,62,66],[87,8,62,66,"columnNumber"],[87,20,62,66],[88,6,62,66],[88,13,62,68],[88,14,62,69],[89,4,62,69],[89,19,63,6],[89,20,63,7],[90,2,65,0],[91,2,67,0],[91,8,67,6,"styles"],[91,14,67,12],[91,17,67,15,"StyleSheet"],[91,36,67,25],[91,37,67,26,"create"],[91,43,67,32],[91,44,67,33],[92,4,68,2,"container"],[92,13,68,11],[92,15,68,13],[93,6,69,4,"flex"],[93,10,69,8],[93,12,69,10],[93,13,69,11],[94,6,70,4,"justifyContent"],[94,20,70,18],[94,22,70,20],[94,30,70,28],[95,6,71,4,"alignItems"],[95,16,71,14],[95,18,71,16],[95,26,71,24],[96,6,72,4,"backgroundColor"],[96,21,72,19],[96,23,72,21],[97,4,73,2],[98,2,74,0],[98,3,74,1],[98,4,74,2],[99,0,74,3],[99,3]],"functionMap":{"names":["<global>","Index","useEffect$argument_0","checkTermsAcceptance","handleTermsAccept"],"mappings":"AAA;eCQ;YCO;GDG;+BEE;GFc;4BGE;GHQ;YCE;GDQ;CDU"}},"type":"js/module"}]}