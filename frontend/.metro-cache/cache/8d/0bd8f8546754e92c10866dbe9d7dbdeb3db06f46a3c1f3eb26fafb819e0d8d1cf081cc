{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"]}},{"name":"expo-notifications","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":52,"index":52}}],"key":"nrBDtkRVez7cBhLzyaRjl+xVfvE=","exportNames":["*"]}},{"name":"expo-device","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":53},"end":{"line":2,"column":38,"index":91}}],"key":"bBpmAhO1g++sdeUzQmFVGoQIVwg=","exportNames":["*"]}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"]}},{"name":"./api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":133},"end":{"line":4,"column":24,"index":157}}],"key":"FbKPDeRJ9TF3vg1eKYKz12urgic=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.registerForPushNotificationsAsync = registerForPushNotificationsAsync;\n  exports.removePushTokenFromBackend = removePushTokenFromBackend;\n  exports.sendPushTokenToBackend = sendPushTokenToBackend;\n  exports.updateNotificationPreferences = updateNotificationPreferences;\n  var Notifications = _interopRequireWildcard(require(_dependencyMap[1], \"expo-notifications\"));\n  var Device = _interopRequireWildcard(require(_dependencyMap[2], \"expo-device\"));\n  var _Platform = _interopRequireDefault(require(_dependencyMap[3], \"react-native-web/dist/exports/Platform\"));\n  var _api = _interopRequireDefault(require(_dependencyMap[4], \"./api\"));\n  function _interopRequireWildcard(e, t) { if (\"function\" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function (e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (const t in e) \"default\" !== t && {}.hasOwnProperty.call(e, t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, t)) && (i.get || i.set) ? o(f, t, i) : f[t] = e[t]); return f; })(e, t); }\n  // Configure how notifications should be displayed when app is in foreground\n  Notifications.setNotificationHandler({\n    handleNotification: async () => ({\n      shouldShowAlert: true,\n      shouldPlaySound: true,\n      shouldSetBadge: true\n    })\n  });\n\n  /**\n   * Register for push notifications and get the Expo Push Token\n   */\n  async function registerForPushNotificationsAsync() {\n    let token = null;\n    if (_Platform.default.OS === 'android') {\n      await Notifications.setNotificationChannelAsync('default', {\n        name: 'default',\n        importance: Notifications.AndroidImportance.MAX,\n        vibrationPattern: [0, 250, 250, 250],\n        lightColor: '#FF231F7C'\n      });\n    }\n    if (Device.isDevice) {\n      const {\n        status: existingStatus\n      } = await Notifications.getPermissionsAsync();\n      let finalStatus = existingStatus;\n      if (existingStatus !== 'granted') {\n        const {\n          status\n        } = await Notifications.requestPermissionsAsync();\n        finalStatus = status;\n      }\n      if (finalStatus !== 'granted') {\n        console.log('Failed to get push token for push notification!');\n        return null;\n      }\n      try {\n        const tokenData = await Notifications.getExpoPushTokenAsync({\n          projectId: '97534a80-2fb3-4bbf-a17c-2fccf8f825ba' // Your Expo project ID\n        });\n        token = tokenData.data;\n        console.log('Push token:', token);\n      } catch (error) {\n        console.error('Error getting push token:', error);\n      }\n    } else {\n      console.log('Must use physical device for Push Notifications');\n    }\n    return token;\n  }\n\n  /**\n   * Send the push token to backend\n   */\n  async function sendPushTokenToBackend(token) {\n    try {\n      await _api.default.post('/api/notifications/register', {\n        token\n      });\n      console.log('Push token registered with backend');\n      return true;\n    } catch (error) {\n      console.error('Failed to register push token with backend:', error);\n      return false;\n    }\n  }\n\n  /**\n   * Update notification preferences on backend\n   */\n  async function updateNotificationPreferences(preferences) {\n    try {\n      await _api.default.put('/api/notifications/preferences', preferences);\n      console.log('Notification preferences updated');\n      return true;\n    } catch (error) {\n      console.error('Failed to update notification preferences:', error);\n      return false;\n    }\n  }\n\n  /**\n   * Remove push token from backend (on logout)\n   */\n  async function removePushTokenFromBackend() {\n    try {\n      await _api.default.delete('/api/notifications/unregister');\n      console.log('Push token removed from backend');\n      return true;\n    } catch (error) {\n      console.error('Failed to remove push token from backend:', error);\n      return false;\n    }\n  }\n});","lineCount":110,"map":[[10,2,1,0],[10,6,1,0,"Notifications"],[10,19,1,0],[10,22,1,0,"_interopRequireWildcard"],[10,45,1,0],[10,46,1,0,"require"],[10,53,1,0],[10,54,1,0,"_dependencyMap"],[10,68,1,0],[11,2,2,0],[11,6,2,0,"Device"],[11,12,2,0],[11,15,2,0,"_interopRequireWildcard"],[11,38,2,0],[11,39,2,0,"require"],[11,46,2,0],[11,47,2,0,"_dependencyMap"],[11,61,2,0],[12,2,2,38],[12,6,2,38,"_Platform"],[12,15,2,38],[12,18,2,38,"_interopRequireDefault"],[12,40,2,38],[12,41,2,38,"require"],[12,48,2,38],[12,49,2,38,"_dependencyMap"],[12,63,2,38],[13,2,4,0],[13,6,4,0,"_api"],[13,10,4,0],[13,13,4,0,"_interopRequireDefault"],[13,35,4,0],[13,36,4,0,"require"],[13,43,4,0],[13,44,4,0,"_dependencyMap"],[13,58,4,0],[14,2,4,24],[14,11,4,24,"_interopRequireWildcard"],[14,35,4,24,"e"],[14,36,4,24],[14,38,4,24,"t"],[14,39,4,24],[14,68,4,24,"WeakMap"],[14,75,4,24],[14,81,4,24,"r"],[14,82,4,24],[14,89,4,24,"WeakMap"],[14,96,4,24],[14,100,4,24,"n"],[14,101,4,24],[14,108,4,24,"WeakMap"],[14,115,4,24],[14,127,4,24,"_interopRequireWildcard"],[14,150,4,24],[14,162,4,24,"_interopRequireWildcard"],[14,163,4,24,"e"],[14,164,4,24],[14,166,4,24,"t"],[14,167,4,24],[14,176,4,24,"t"],[14,177,4,24],[14,181,4,24,"e"],[14,182,4,24],[14,186,4,24,"e"],[14,187,4,24],[14,188,4,24,"__esModule"],[14,198,4,24],[14,207,4,24,"e"],[14,208,4,24],[14,214,4,24,"o"],[14,215,4,24],[14,217,4,24,"i"],[14,218,4,24],[14,220,4,24,"f"],[14,221,4,24],[14,226,4,24,"__proto__"],[14,235,4,24],[14,243,4,24,"default"],[14,250,4,24],[14,252,4,24,"e"],[14,253,4,24],[14,270,4,24,"e"],[14,271,4,24],[14,294,4,24,"e"],[14,295,4,24],[14,320,4,24,"e"],[14,321,4,24],[14,330,4,24,"f"],[14,331,4,24],[14,337,4,24,"o"],[14,338,4,24],[14,341,4,24,"t"],[14,342,4,24],[14,345,4,24,"n"],[14,346,4,24],[14,349,4,24,"r"],[14,350,4,24],[14,358,4,24,"o"],[14,359,4,24],[14,360,4,24,"has"],[14,363,4,24],[14,364,4,24,"e"],[14,365,4,24],[14,375,4,24,"o"],[14,376,4,24],[14,377,4,24,"get"],[14,380,4,24],[14,381,4,24,"e"],[14,382,4,24],[14,385,4,24,"o"],[14,386,4,24],[14,387,4,24,"set"],[14,390,4,24],[14,391,4,24,"e"],[14,392,4,24],[14,394,4,24,"f"],[14,395,4,24],[14,411,4,24,"t"],[14,412,4,24],[14,416,4,24,"e"],[14,417,4,24],[14,433,4,24,"t"],[14,434,4,24],[14,441,4,24,"hasOwnProperty"],[14,455,4,24],[14,456,4,24,"call"],[14,460,4,24],[14,461,4,24,"e"],[14,462,4,24],[14,464,4,24,"t"],[14,465,4,24],[14,472,4,24,"i"],[14,473,4,24],[14,477,4,24,"o"],[14,478,4,24],[14,481,4,24,"Object"],[14,487,4,24],[14,488,4,24,"defineProperty"],[14,502,4,24],[14,507,4,24,"Object"],[14,513,4,24],[14,514,4,24,"getOwnPropertyDescriptor"],[14,538,4,24],[14,539,4,24,"e"],[14,540,4,24],[14,542,4,24,"t"],[14,543,4,24],[14,550,4,24,"i"],[14,551,4,24],[14,552,4,24,"get"],[14,555,4,24],[14,559,4,24,"i"],[14,560,4,24],[14,561,4,24,"set"],[14,564,4,24],[14,568,4,24,"o"],[14,569,4,24],[14,570,4,24,"f"],[14,571,4,24],[14,573,4,24,"t"],[14,574,4,24],[14,576,4,24,"i"],[14,577,4,24],[14,581,4,24,"f"],[14,582,4,24],[14,583,4,24,"t"],[14,584,4,24],[14,588,4,24,"e"],[14,589,4,24],[14,590,4,24,"t"],[14,591,4,24],[14,602,4,24,"f"],[14,603,4,24],[14,608,4,24,"e"],[14,609,4,24],[14,611,4,24,"t"],[14,612,4,24],[15,2,6,0],[16,2,7,0,"Notifications"],[16,15,7,13],[16,16,7,14,"setNotificationHandler"],[16,38,7,36],[16,39,7,37],[17,4,8,2,"handleNotification"],[17,22,8,20],[17,24,8,22],[17,30,8,22,"handleNotification"],[17,31,8,22],[17,37,8,35],[18,6,9,4,"shouldShowAlert"],[18,21,9,19],[18,23,9,21],[18,27,9,25],[19,6,10,4,"shouldPlaySound"],[19,21,10,19],[19,23,10,21],[19,27,10,25],[20,6,11,4,"shouldSetBadge"],[20,20,11,18],[20,22,11,20],[21,4,12,2],[21,5,12,3],[22,2,13,0],[22,3,13,1],[22,4,13,2],[24,2,15,0],[25,0,16,0],[26,0,17,0],[27,2,18,7],[27,17,18,22,"registerForPushNotificationsAsync"],[27,50,18,55,"registerForPushNotificationsAsync"],[27,51,18,55],[27,53,18,82],[28,4,19,2],[28,8,19,6,"token"],[28,13,19,11],[28,16,19,14],[28,20,19,18],[29,4,21,2],[29,8,21,6,"Platform"],[29,25,21,14],[29,26,21,15,"OS"],[29,28,21,17],[29,33,21,22],[29,42,21,31],[29,44,21,33],[30,6,22,4],[30,12,22,10,"Notifications"],[30,25,22,23],[30,26,22,24,"setNotificationChannelAsync"],[30,53,22,51],[30,54,22,52],[30,63,22,61],[30,65,22,63],[31,8,23,6,"name"],[31,12,23,10],[31,14,23,12],[31,23,23,21],[32,8,24,6,"importance"],[32,18,24,16],[32,20,24,18,"Notifications"],[32,33,24,31],[32,34,24,32,"AndroidImportance"],[32,51,24,49],[32,52,24,50,"MAX"],[32,55,24,53],[33,8,25,6,"vibrationPattern"],[33,24,25,22],[33,26,25,24],[33,27,25,25],[33,28,25,26],[33,30,25,28],[33,33,25,31],[33,35,25,33],[33,38,25,36],[33,40,25,38],[33,43,25,41],[33,44,25,42],[34,8,26,6,"lightColor"],[34,18,26,16],[34,20,26,18],[35,6,27,4],[35,7,27,5],[35,8,27,6],[36,4,28,2],[37,4,30,2],[37,8,30,6,"Device"],[37,14,30,12],[37,15,30,13,"isDevice"],[37,23,30,21],[37,25,30,23],[38,6,31,4],[38,12,31,10],[39,8,31,12,"status"],[39,14,31,18],[39,16,31,20,"existingStatus"],[40,6,31,35],[40,7,31,36],[40,10,31,39],[40,16,31,45,"Notifications"],[40,29,31,58],[40,30,31,59,"getPermissionsAsync"],[40,49,31,78],[40,50,31,79],[40,51,31,80],[41,6,32,4],[41,10,32,8,"finalStatus"],[41,21,32,19],[41,24,32,22,"existingStatus"],[41,38,32,36],[42,6,34,4],[42,10,34,8,"existingStatus"],[42,24,34,22],[42,29,34,27],[42,38,34,36],[42,40,34,38],[43,8,35,6],[43,14,35,12],[44,10,35,14,"status"],[45,8,35,21],[45,9,35,22],[45,12,35,25],[45,18,35,31,"Notifications"],[45,31,35,44],[45,32,35,45,"requestPermissionsAsync"],[45,55,35,68],[45,56,35,69],[45,57,35,70],[46,8,36,6,"finalStatus"],[46,19,36,17],[46,22,36,20,"status"],[46,28,36,26],[47,6,37,4],[48,6,39,4],[48,10,39,8,"finalStatus"],[48,21,39,19],[48,26,39,24],[48,35,39,33],[48,37,39,35],[49,8,40,6,"console"],[49,15,40,13],[49,16,40,14,"log"],[49,19,40,17],[49,20,40,18],[49,69,40,67],[49,70,40,68],[50,8,41,6],[50,15,41,13],[50,19,41,17],[51,6,42,4],[52,6,44,4],[52,10,44,8],[53,8,45,6],[53,14,45,12,"tokenData"],[53,23,45,21],[53,26,45,24],[53,32,45,30,"Notifications"],[53,45,45,43],[53,46,45,44,"getExpoPushTokenAsync"],[53,67,45,65],[53,68,45,66],[54,10,46,8,"projectId"],[54,19,46,17],[54,21,46,19],[54,59,46,57],[54,60,46,59],[55,8,47,6],[55,9,47,7],[55,10,47,8],[56,8,48,6,"token"],[56,13,48,11],[56,16,48,14,"tokenData"],[56,25,48,23],[56,26,48,24,"data"],[56,30,48,28],[57,8,49,6,"console"],[57,15,49,13],[57,16,49,14,"log"],[57,19,49,17],[57,20,49,18],[57,33,49,31],[57,35,49,33,"token"],[57,40,49,38],[57,41,49,39],[58,6,50,4],[58,7,50,5],[58,8,50,6],[58,15,50,13,"error"],[58,20,50,18],[58,22,50,20],[59,8,51,6,"console"],[59,15,51,13],[59,16,51,14,"error"],[59,21,51,19],[59,22,51,20],[59,49,51,47],[59,51,51,49,"error"],[59,56,51,54],[59,57,51,55],[60,6,52,4],[61,4,53,2],[61,5,53,3],[61,11,53,9],[62,6,54,4,"console"],[62,13,54,11],[62,14,54,12,"log"],[62,17,54,15],[62,18,54,16],[62,67,54,65],[62,68,54,66],[63,4,55,2],[64,4,57,2],[64,11,57,9,"token"],[64,16,57,14],[65,2,58,0],[67,2,60,0],[68,0,61,0],[69,0,62,0],[70,2,63,7],[70,17,63,22,"sendPushTokenToBackend"],[70,39,63,44,"sendPushTokenToBackend"],[70,40,63,45,"token"],[70,45,63,58],[70,47,63,78],[71,4,64,2],[71,8,64,6],[72,6,65,4],[72,12,65,10,"api"],[72,24,65,13],[72,25,65,14,"post"],[72,29,65,18],[72,30,65,19],[72,59,65,48],[72,61,65,50],[73,8,65,52,"token"],[74,6,65,58],[74,7,65,59],[74,8,65,60],[75,6,66,4,"console"],[75,13,66,11],[75,14,66,12,"log"],[75,17,66,15],[75,18,66,16],[75,54,66,52],[75,55,66,53],[76,6,67,4],[76,13,67,11],[76,17,67,15],[77,4,68,2],[77,5,68,3],[77,6,68,4],[77,13,68,11,"error"],[77,18,68,16],[77,20,68,18],[78,6,69,4,"console"],[78,13,69,11],[78,14,69,12,"error"],[78,19,69,17],[78,20,69,18],[78,65,69,63],[78,67,69,65,"error"],[78,72,69,70],[78,73,69,71],[79,6,70,4],[79,13,70,11],[79,18,70,16],[80,4,71,2],[81,2,72,0],[83,2,74,0],[84,0,75,0],[85,0,76,0],[86,2,77,7],[86,17,77,22,"updateNotificationPreferences"],[86,46,77,51,"updateNotificationPreferences"],[86,47,77,52,"preferences"],[86,58,82,1],[86,60,82,21],[87,4,83,2],[87,8,83,6],[88,6,84,4],[88,12,84,10,"api"],[88,24,84,13],[88,25,84,14,"put"],[88,28,84,17],[88,29,84,18],[88,61,84,50],[88,63,84,52,"preferences"],[88,74,84,63],[88,75,84,64],[89,6,85,4,"console"],[89,13,85,11],[89,14,85,12,"log"],[89,17,85,15],[89,18,85,16],[89,52,85,50],[89,53,85,51],[90,6,86,4],[90,13,86,11],[90,17,86,15],[91,4,87,2],[91,5,87,3],[91,6,87,4],[91,13,87,11,"error"],[91,18,87,16],[91,20,87,18],[92,6,88,4,"console"],[92,13,88,11],[92,14,88,12,"error"],[92,19,88,17],[92,20,88,18],[92,64,88,62],[92,66,88,64,"error"],[92,71,88,69],[92,72,88,70],[93,6,89,4],[93,13,89,11],[93,18,89,16],[94,4,90,2],[95,2,91,0],[97,2,93,0],[98,0,94,0],[99,0,95,0],[100,2,96,7],[100,17,96,22,"removePushTokenFromBackend"],[100,43,96,48,"removePushTokenFromBackend"],[100,44,96,48],[100,46,96,69],[101,4,97,2],[101,8,97,6],[102,6,98,4],[102,12,98,10,"api"],[102,24,98,13],[102,25,98,14,"delete"],[102,31,98,20],[102,32,98,21],[102,63,98,52],[102,64,98,53],[103,6,99,4,"console"],[103,13,99,11],[103,14,99,12,"log"],[103,17,99,15],[103,18,99,16],[103,51,99,49],[103,52,99,50],[104,6,100,4],[104,13,100,11],[104,17,100,15],[105,4,101,2],[105,5,101,3],[105,6,101,4],[105,13,101,11,"error"],[105,18,101,16],[105,20,101,18],[106,6,102,4,"console"],[106,13,102,11],[106,14,102,12,"error"],[106,19,102,17],[106,20,102,18],[106,63,102,61],[106,65,102,63,"error"],[106,70,102,68],[106,71,102,69],[107,6,103,4],[107,13,103,11],[107,18,103,16],[108,4,104,2],[109,2,105,0],[110,0,105,1],[110,3]],"functionMap":{"names":["<global>","Notifications.setNotificationHandler$argument_0.handleNotification","registerForPushNotificationsAsync","sendPushTokenToBackend","updateNotificationPreferences","removePushTokenFromBackend"],"mappings":"AAA;sBCO;IDI;OEM;CFwC;OGK;CHS;OIK;CJc;OKK;CLS"}},"type":"js/module"}]}