{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"../utils/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":31,"index":65}}],"key":"XoJ+jbKCrEi38eKczMqtlbk+TCk=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useNotificationStore\", {\n    enumerable: true,\n    get: function () {\n      return useNotificationStore;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _zustand = require(_dependencyMap[1], \"zustand\");\n  var _utilsApi = require(_dependencyMap[2], \"../utils/api\");\n  var api = _interopDefault(_utilsApi);\n  var useNotificationStore = (0, _zustand.create)(set => ({\n    friendRequestCount: 0,\n    unreadMessageCount: 0,\n    expoPushToken: null,\n    preferences: {\n      friend_requests: true,\n      messages: true,\n      likes: true,\n      comments: true\n    },\n    loadFriendRequestCount: function () {\n      var _ref = (0, _asyncToGenerator.default)(function* () {\n        try {\n          var response = yield api.default.get('/api/friends/requests');\n          var pendingRequests = response.data.filter(req => req.status === 'pending');\n          set({\n            friendRequestCount: pendingRequests.length\n          });\n        } catch (error) {\n          console.error('Load friend requests count error:', error);\n        }\n      });\n      return function loadFriendRequestCount() {\n        return _ref.apply(this, arguments);\n      };\n    }(),\n    loadUnreadMessageCount: function () {\n      var _ref2 = (0, _asyncToGenerator.default)(function* () {\n        try {\n          var response = yield api.default.get('/api/chats');\n          // For now, we'll just count total chats\n          // In future, we can add unread_count to each chat\n          set({\n            unreadMessageCount: response.data.length > 0 ? response.data.length : 0\n          });\n        } catch (error) {\n          console.error('Load unread messages count error:', error);\n        }\n      });\n      return function loadUnreadMessageCount() {\n        return _ref2.apply(this, arguments);\n      };\n    }(),\n    resetFriendRequestCount: () => set({\n      friendRequestCount: 0\n    }),\n    resetUnreadMessageCount: () => set({\n      unreadMessageCount: 0\n    }),\n    decrementFriendRequestCount: () => {\n      set(state => ({\n        friendRequestCount: Math.max(0, state.friendRequestCount - 1)\n      }));\n    },\n    setExpoPushToken: token => {\n      set({\n        expoPushToken: token\n      });\n    },\n    setPreferences: prefs => {\n      set({\n        preferences: prefs\n      });\n    },\n    loadPreferences: function () {\n      var _ref3 = (0, _asyncToGenerator.default)(function* () {\n        try {\n          var response = yield api.default.get('/api/notifications/preferences');\n          set({\n            preferences: response.data\n          });\n        } catch (error) {\n          console.error('Failed to load notification preferences:', error);\n        }\n      });\n      return function loadPreferences() {\n        return _ref3.apply(this, arguments);\n      };\n    }()\n  }));\n});","lineCount":103,"map":[[12,2,27,0,"Object"],[12,8,27,0],[12,9,27,0,"defineProperty"],[12,23,27,0],[12,24,27,0,"exports"],[12,31,27,0],[13,4,27,0,"enumerable"],[13,14,27,0],[14,4,27,0,"get"],[14,7,27,0],[14,18,27,0,"get"],[14,19,27,0],[15,6,27,0],[15,13,27,0,"useNotificationStore"],[15,33,27,0],[16,4,27,0],[17,2,27,0],[18,2,84,4],[18,6,84,4,"_babelRuntimeHelpersAsyncToGenerator"],[18,42,84,4],[18,45,84,4,"require"],[18,52,84,4],[18,53,84,4,"_dependencyMap"],[18,67,84,4],[19,2,84,4],[19,6,84,4,"_asyncToGenerator"],[19,23,84,4],[19,26,84,4,"_interopDefault"],[19,41,84,4],[19,42,84,4,"_babelRuntimeHelpersAsyncToGenerator"],[19,78,84,4],[20,2,1,0],[20,6,1,0,"_zustand"],[20,14,1,0],[20,17,1,0,"require"],[20,24,1,0],[20,25,1,0,"_dependencyMap"],[20,39,1,0],[21,2,2,0],[21,6,2,0,"_utilsApi"],[21,15,2,0],[21,18,2,0,"require"],[21,25,2,0],[21,26,2,0,"_dependencyMap"],[21,40,2,0],[22,2,2,0],[22,6,2,0,"api"],[22,9,2,0],[22,12,2,0,"_interopDefault"],[22,27,2,0],[22,28,2,0,"_utilsApi"],[22,37,2,0],[23,2,27,7],[23,6,27,13,"useNotificationStore"],[23,26,27,33],[23,29,27,36],[23,33,27,36,"create"],[23,41,27,42],[23,42,27,42,"create"],[23,48,27,42],[23,50,27,63,"set"],[23,53,27,66],[23,58,27,72],[24,4,28,2,"friendRequestCount"],[24,22,28,20],[24,24,28,22],[24,25,28,23],[25,4,29,2,"unreadMessageCount"],[25,22,29,20],[25,24,29,22],[25,25,29,23],[26,4,30,2,"expoPushToken"],[26,17,30,15],[26,19,30,17],[26,23,30,21],[27,4,31,2,"preferences"],[27,15,31,13],[27,17,31,15],[28,6,32,4,"friend_requests"],[28,21,32,19],[28,23,32,21],[28,27,32,25],[29,6,33,4,"messages"],[29,14,33,12],[29,16,33,14],[29,20,33,18],[30,6,34,4,"likes"],[30,11,34,9],[30,13,34,11],[30,17,34,15],[31,6,35,4,"comments"],[31,14,35,12],[31,16,35,14],[32,4,36,2],[32,5,36,3],[33,4,38,2,"loadFriendRequestCount"],[33,26,38,24],[34,6,38,24],[34,10,38,24,"_ref"],[34,14,38,24],[34,21,38,24,"_asyncToGenerator"],[34,38,38,24],[34,39,38,24,"default"],[34,46,38,24],[34,48,38,26],[34,61,38,38],[35,8,39,4],[35,12,39,8],[36,10,40,6],[36,14,40,12,"response"],[36,22,40,20],[36,31,40,29,"api"],[36,34,40,32],[36,35,40,32,"default"],[36,42,40,32],[36,43,40,33,"get"],[36,46,40,36],[36,47,40,37],[36,70,40,60],[36,71,40,61],[37,10,41,6],[37,14,41,12,"pendingRequests"],[37,29,41,27],[37,32,41,30,"response"],[37,40,41,38],[37,41,41,39,"data"],[37,45,41,43],[37,46,41,44,"filter"],[37,52,41,50],[37,53,41,52,"req"],[37,56,41,60],[37,60,41,65,"req"],[37,63,41,68],[37,64,41,69,"status"],[37,70,41,75],[37,75,41,80],[37,84,41,89],[37,85,41,90],[38,10,42,6,"set"],[38,13,42,9],[38,14,42,10],[39,12,42,12,"friendRequestCount"],[39,30,42,30],[39,32,42,32,"pendingRequests"],[39,47,42,47],[39,48,42,48,"length"],[40,10,42,55],[40,11,42,56],[40,12,42,57],[41,8,43,4],[41,9,43,5],[41,10,43,6],[41,17,43,13,"error"],[41,22,43,18],[41,24,43,20],[42,10,44,6,"console"],[42,17,44,13],[42,18,44,14,"error"],[42,23,44,19],[42,24,44,20],[42,59,44,55],[42,61,44,57,"error"],[42,66,44,62],[42,67,44,63],[43,8,45,4],[44,6,46,2],[44,7,46,3],[45,6,46,3],[45,22,38,2,"loadFriendRequestCount"],[45,44,38,24,"loadFriendRequestCount"],[45,45,38,24],[46,8,38,24],[46,15,38,24,"_ref"],[46,19,38,24],[46,20,38,24,"apply"],[46,25,38,24],[46,32,38,24,"arguments"],[46,41,38,24],[47,6,38,24],[48,4,38,24],[48,7,46,3],[49,4,48,2,"loadUnreadMessageCount"],[49,26,48,24],[50,6,48,24],[50,10,48,24,"_ref2"],[50,15,48,24],[50,22,48,24,"_asyncToGenerator"],[50,39,48,24],[50,40,48,24,"default"],[50,47,48,24],[50,49,48,26],[50,62,48,38],[51,8,49,4],[51,12,49,8],[52,10,50,6],[52,14,50,12,"response"],[52,22,50,20],[52,31,50,29,"api"],[52,34,50,32],[52,35,50,32,"default"],[52,42,50,32],[52,43,50,33,"get"],[52,46,50,36],[52,47,50,37],[52,59,50,49],[52,60,50,50],[53,10,51,6],[54,10,52,6],[55,10,53,6,"set"],[55,13,53,9],[55,14,53,10],[56,12,53,12,"unreadMessageCount"],[56,30,53,30],[56,32,53,32,"response"],[56,40,53,40],[56,41,53,41,"data"],[56,45,53,45],[56,46,53,46,"length"],[56,52,53,52],[56,55,53,55],[56,56,53,56],[56,59,53,59,"response"],[56,67,53,67],[56,68,53,68,"data"],[56,72,53,72],[56,73,53,73,"length"],[56,79,53,79],[56,82,53,82],[57,10,53,84],[57,11,53,85],[57,12,53,86],[58,8,54,4],[58,9,54,5],[58,10,54,6],[58,17,54,13,"error"],[58,22,54,18],[58,24,54,20],[59,10,55,6,"console"],[59,17,55,13],[59,18,55,14,"error"],[59,23,55,19],[59,24,55,20],[59,59,55,55],[59,61,55,57,"error"],[59,66,55,62],[59,67,55,63],[60,8,56,4],[61,6,57,2],[61,7,57,3],[62,6,57,3],[62,22,48,2,"loadUnreadMessageCount"],[62,44,48,24,"loadUnreadMessageCount"],[62,45,48,24],[63,8,48,24],[63,15,48,24,"_ref2"],[63,20,48,24],[63,21,48,24,"apply"],[63,26,48,24],[63,33,48,24,"arguments"],[63,42,48,24],[64,6,48,24],[65,4,48,24],[65,7,57,3],[66,4,59,2,"resetFriendRequestCount"],[66,27,59,25],[66,29,59,27,"resetFriendRequestCount"],[66,30,59,27],[66,35,59,33,"set"],[66,38,59,36],[66,39,59,37],[67,6,59,39,"friendRequestCount"],[67,24,59,57],[67,26,59,59],[68,4,59,61],[68,5,59,62],[68,6,59,63],[69,4,60,2,"resetUnreadMessageCount"],[69,27,60,25],[69,29,60,27,"resetUnreadMessageCount"],[69,30,60,27],[69,35,60,33,"set"],[69,38,60,36],[69,39,60,37],[70,6,60,39,"unreadMessageCount"],[70,24,60,57],[70,26,60,59],[71,4,60,61],[71,5,60,62],[71,6,60,63],[72,4,62,2,"decrementFriendRequestCount"],[72,31,62,29],[72,33,62,31,"decrementFriendRequestCount"],[72,34,62,31],[72,39,62,37],[73,6,63,4,"set"],[73,9,63,7],[73,10,63,9,"state"],[73,15,63,14],[73,20,63,20],[74,8,64,6,"friendRequestCount"],[74,26,64,24],[74,28,64,26,"Math"],[74,32,64,30],[74,33,64,31,"max"],[74,36,64,34],[74,37,64,35],[74,38,64,36],[74,40,64,38,"state"],[74,45,64,43],[74,46,64,44,"friendRequestCount"],[74,64,64,62],[74,67,64,65],[74,68,64,66],[75,6,65,4],[75,7,65,5],[75,8,65,6],[75,9,65,7],[76,4,66,2],[76,5,66,3],[77,4,68,2,"setExpoPushToken"],[77,20,68,18],[77,22,68,21,"token"],[77,27,68,41],[77,31,68,46],[78,6,69,4,"set"],[78,9,69,7],[78,10,69,8],[79,8,69,10,"expoPushToken"],[79,21,69,23],[79,23,69,25,"token"],[80,6,69,31],[80,7,69,32],[80,8,69,33],[81,4,70,2],[81,5,70,3],[82,4,72,2,"setPreferences"],[82,18,72,16],[82,20,72,19,"prefs"],[82,25,72,49],[82,29,72,54],[83,6,73,4,"set"],[83,9,73,7],[83,10,73,8],[84,8,73,10,"preferences"],[84,19,73,21],[84,21,73,23,"prefs"],[85,6,73,29],[85,7,73,30],[85,8,73,31],[86,4,74,2],[86,5,74,3],[87,4,76,2,"loadPreferences"],[87,19,76,17],[88,6,76,17],[88,10,76,17,"_ref3"],[88,15,76,17],[88,22,76,17,"_asyncToGenerator"],[88,39,76,17],[88,40,76,17,"default"],[88,47,76,17],[88,49,76,19],[88,62,76,31],[89,8,77,4],[89,12,77,8],[90,10,78,6],[90,14,78,12,"response"],[90,22,78,20],[90,31,78,29,"api"],[90,34,78,32],[90,35,78,32,"default"],[90,42,78,32],[90,43,78,33,"get"],[90,46,78,36],[90,47,78,37],[90,79,78,69],[90,80,78,70],[91,10,79,6,"set"],[91,13,79,9],[91,14,79,10],[92,12,79,12,"preferences"],[92,23,79,23],[92,25,79,25,"response"],[92,33,79,33],[92,34,79,34,"data"],[93,10,79,39],[93,11,79,40],[93,12,79,41],[94,8,80,4],[94,9,80,5],[94,10,80,6],[94,17,80,13,"error"],[94,22,80,18],[94,24,80,20],[95,10,81,6,"console"],[95,17,81,13],[95,18,81,14,"error"],[95,23,81,19],[95,24,81,20],[95,66,81,62],[95,68,81,64,"error"],[95,73,81,69],[95,74,81,70],[96,8,82,4],[97,6,83,2],[97,7,83,3],[98,6,83,3],[98,22,76,2,"loadPreferences"],[98,37,76,17,"loadPreferences"],[98,38,76,17],[99,8,76,17],[99,15,76,17,"_ref3"],[99,20,76,17],[99,21,76,17,"apply"],[99,26,76,17],[99,33,76,17,"arguments"],[99,42,76,17],[100,6,76,17],[101,4,76,17],[102,2,84,0],[102,3,84,1],[102,4,84,2],[102,5,84,3],[103,0,84,4],[103,3]],"functionMap":{"names":["<global>","create$argument_0","loadFriendRequestCount","response.data.filter$argument_0","loadUnreadMessageCount","resetFriendRequestCount","resetUnreadMessageCount","decrementFriendRequestCount","set$argument_0","setExpoPushToken","setPreferences","loadPreferences"],"mappings":"AAA;8DC0B;0BCW;mDCG,sCD;GDK;0BGE;GHS;2BIE,oCJ;2BKC,oCL;+BME;QCC;MDE;GNC;oBQE;GRE;kBSE;GTE;mBUE;GVO;EDC"},"hasCjsExports":false},"type":"js/module"}]}