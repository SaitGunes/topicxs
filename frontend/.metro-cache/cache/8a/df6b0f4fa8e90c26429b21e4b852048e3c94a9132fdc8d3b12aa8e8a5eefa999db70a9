{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":69,"index":103}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":104},"end":{"line":3,"column":26,"index":130}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useAuthStore\", {\n    enumerable: true,\n    get: function () {\n      return useAuthStore;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _expoVirtualEnv = require(_dependencyMap[1], \"expo/virtual/env\");\n  var _zustand = require(_dependencyMap[2], \"zustand\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[3], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _axios = require(_dependencyMap[4], \"axios\");\n  var axios = _interopDefault(_axios);\n  var API_URL = _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL;\n  var useAuthStore = (0, _zustand.create)(set => ({\n    user: null,\n    token: null,\n    isLoading: true,\n    loadToken: function () {\n      var _ref = (0, _asyncToGenerator.default)(function* () {\n        try {\n          var token = yield AsyncStorage.default.getItem('token');\n          var userData = yield AsyncStorage.default.getItem('user');\n          if (token && userData) {\n            set({\n              token,\n              user: JSON.parse(userData),\n              isLoading: false\n            });\n          } else {\n            set({\n              isLoading: false\n            });\n          }\n        } catch (error) {\n          console.error('Load token error:', error);\n          set({\n            isLoading: false\n          });\n        }\n      });\n      return function loadToken() {\n        return _ref.apply(this, arguments);\n      };\n    }(),\n    login: function () {\n      var _ref2 = (0, _asyncToGenerator.default)(function* (username, password) {\n        try {\n          var response = yield axios.default.post(`${API_URL}/api/auth/login`, {\n            username,\n            password\n          });\n          var _response$data = response.data,\n            access_token = _response$data.access_token,\n            user = _response$data.user;\n          yield AsyncStorage.default.setItem('token', access_token);\n          yield AsyncStorage.default.setItem('user', JSON.stringify(user));\n          set({\n            user,\n            token: access_token\n          });\n        } catch (error) {\n          throw new Error(error.response?.data?.detail || 'Login failed');\n        }\n      });\n      return function login(_x, _x2) {\n        return _ref2.apply(this, arguments);\n      };\n    }(),\n    register: function () {\n      var _ref3 = (0, _asyncToGenerator.default)(function* (username, email, password, full_name, referral_code) {\n        try {\n          var response = yield axios.default.post(`${API_URL}/api/auth/register`, {\n            username,\n            email,\n            password,\n            full_name,\n            referral_code: referral_code || undefined\n          });\n          var _response$data2 = response.data,\n            access_token = _response$data2.access_token,\n            user = _response$data2.user;\n          yield AsyncStorage.default.setItem('token', access_token);\n          yield AsyncStorage.default.setItem('user', JSON.stringify(user));\n          set({\n            user,\n            token: access_token\n          });\n        } catch (error) {\n          throw new Error(error.response?.data?.detail || 'Registration failed');\n        }\n      });\n      return function register(_x3, _x4, _x5, _x6, _x7) {\n        return _ref3.apply(this, arguments);\n      };\n    }(),\n    logout: function () {\n      var _ref4 = (0, _asyncToGenerator.default)(function* () {\n        try {\n          // Clear AsyncStorage\n          yield AsyncStorage.default.removeItem('token');\n          yield AsyncStorage.default.removeItem('user');\n          yield AsyncStorage.default.clear(); // Clear all storage\n\n          // Clear state\n          set({\n            user: null,\n            token: null,\n            isLoading: false\n          });\n          console.log('Logout successful');\n        } catch (error) {\n          console.error('Logout error:', error);\n        }\n      });\n      return function logout() {\n        return _ref4.apply(this, arguments);\n      };\n    }()\n  }));\n});","lineCount":133,"map":[[12,2,31,0,"Object"],[12,8,31,0],[12,9,31,0,"defineProperty"],[12,23,31,0],[12,24,31,0,"exports"],[12,31,31,0],[13,4,31,0,"enumerable"],[13,14,31,0],[14,4,31,0,"get"],[14,7,31,0],[14,18,31,0,"get"],[14,19,31,0],[15,6,31,0],[15,13,31,0,"useAuthStore"],[15,25,31,0],[16,4,31,0],[17,2,31,0],[18,2,106,4],[18,6,106,4,"_babelRuntimeHelpersAsyncToGenerator"],[18,42,106,4],[18,45,106,4,"require"],[18,52,106,4],[18,53,106,4,"_dependencyMap"],[18,67,106,4],[19,2,106,4],[19,6,106,4,"_asyncToGenerator"],[19,23,106,4],[19,26,106,4,"_interopDefault"],[19,41,106,4],[19,42,106,4,"_babelRuntimeHelpersAsyncToGenerator"],[19,78,106,4],[20,2,106,4],[20,6,106,4,"_expoVirtualEnv"],[20,21,106,4],[20,24,106,4,"require"],[20,31,106,4],[20,32,106,4,"_dependencyMap"],[20,46,106,4],[21,2,1,0],[21,6,1,0,"_zustand"],[21,14,1,0],[21,17,1,0,"require"],[21,24,1,0],[21,25,1,0,"_dependencyMap"],[21,39,1,0],[22,2,2,0],[22,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[22,42,2,0],[22,45,2,0,"require"],[22,52,2,0],[22,53,2,0,"_dependencyMap"],[22,67,2,0],[23,2,2,0],[23,6,2,0,"AsyncStorage"],[23,18,2,0],[23,21,2,0,"_interopDefault"],[23,36,2,0],[23,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[23,73,2,0],[24,2,3,0],[24,6,3,0,"_axios"],[24,12,3,0],[24,15,3,0,"require"],[24,22,3,0],[24,23,3,0,"_dependencyMap"],[24,37,3,0],[25,2,3,0],[25,6,3,0,"axios"],[25,11,3,0],[25,14,3,0,"_interopDefault"],[25,29,3,0],[25,30,3,0,"_axios"],[25,36,3,0],[26,2,5,0],[26,6,5,6,"API_URL"],[26,13,5,13],[26,16,5,13,"_expoVirtualEnv"],[26,31,5,13],[26,32,5,13,"env"],[26,35,5,13],[26,36,5,13,"EXPO_PUBLIC_BACKEND_URL"],[26,59,5,51],[27,2,31,7],[27,6,31,13,"useAuthStore"],[27,18,31,25],[27,21,31,28],[27,25,31,28,"create"],[27,33,31,34],[27,34,31,34,"create"],[27,40,31,34],[27,42,31,47,"set"],[27,45,31,50],[27,50,31,56],[28,4,32,2,"user"],[28,8,32,6],[28,10,32,8],[28,14,32,12],[29,4,33,2,"token"],[29,9,33,7],[29,11,33,9],[29,15,33,13],[30,4,34,2,"isLoading"],[30,13,34,11],[30,15,34,13],[30,19,34,17],[31,4,36,2,"loadToken"],[31,13,36,11],[32,6,36,11],[32,10,36,11,"_ref"],[32,14,36,11],[32,21,36,11,"_asyncToGenerator"],[32,38,36,11],[32,39,36,11,"default"],[32,46,36,11],[32,48,36,13],[32,61,36,25],[33,8,37,4],[33,12,37,8],[34,10,38,6],[34,14,38,12,"token"],[34,19,38,17],[34,28,38,26,"AsyncStorage"],[34,40,38,38],[34,41,38,38,"default"],[34,48,38,38],[34,49,38,39,"getItem"],[34,56,38,46],[34,57,38,47],[34,64,38,54],[34,65,38,55],[35,10,39,6],[35,14,39,12,"userData"],[35,22,39,20],[35,31,39,29,"AsyncStorage"],[35,43,39,41],[35,44,39,41,"default"],[35,51,39,41],[35,52,39,42,"getItem"],[35,59,39,49],[35,60,39,50],[35,66,39,56],[35,67,39,57],[36,10,41,6],[36,14,41,10,"token"],[36,19,41,15],[36,23,41,19,"userData"],[36,31,41,27],[36,33,41,29],[37,12,42,8,"set"],[37,15,42,11],[37,16,42,12],[38,14,42,14,"token"],[38,19,42,19],[39,14,42,21,"user"],[39,18,42,25],[39,20,42,27,"JSON"],[39,24,42,31],[39,25,42,32,"parse"],[39,30,42,37],[39,31,42,38,"userData"],[39,39,42,46],[39,40,42,47],[40,14,42,49,"isLoading"],[40,23,42,58],[40,25,42,60],[41,12,42,66],[41,13,42,67],[41,14,42,68],[42,10,43,6],[42,11,43,7],[42,17,43,13],[43,12,44,8,"set"],[43,15,44,11],[43,16,44,12],[44,14,44,14,"isLoading"],[44,23,44,23],[44,25,44,25],[45,12,44,31],[45,13,44,32],[45,14,44,33],[46,10,45,6],[47,8,46,4],[47,9,46,5],[47,10,46,6],[47,17,46,13,"error"],[47,22,46,18],[47,24,46,20],[48,10,47,6,"console"],[48,17,47,13],[48,18,47,14,"error"],[48,23,47,19],[48,24,47,20],[48,43,47,39],[48,45,47,41,"error"],[48,50,47,46],[48,51,47,47],[49,10,48,6,"set"],[49,13,48,9],[49,14,48,10],[50,12,48,12,"isLoading"],[50,21,48,21],[50,23,48,23],[51,10,48,29],[51,11,48,30],[51,12,48,31],[52,8,49,4],[53,6,50,2],[53,7,50,3],[54,6,50,3],[54,22,36,2,"loadToken"],[54,31,36,11,"loadToken"],[54,32,36,11],[55,8,36,11],[55,15,36,11,"_ref"],[55,19,36,11],[55,20,36,11,"apply"],[55,25,36,11],[55,32,36,11,"arguments"],[55,41,36,11],[56,6,36,11],[57,4,36,11],[57,7,50,3],[58,4,52,2,"login"],[58,9,52,7],[59,6,52,7],[59,10,52,7,"_ref2"],[59,15,52,7],[59,22,52,7,"_asyncToGenerator"],[59,39,52,7],[59,40,52,7,"default"],[59,47,52,7],[59,49,52,9],[59,60,52,16,"username"],[59,68,52,32],[59,70,52,34,"password"],[59,78,52,50],[59,80,52,55],[60,8,53,4],[60,12,53,8],[61,10,54,6],[61,14,54,12,"response"],[61,22,54,20],[61,31,54,29,"axios"],[61,36,54,34],[61,37,54,34,"default"],[61,44,54,34],[61,45,54,35,"post"],[61,49,54,39],[61,50,54,40],[61,53,54,43,"API_URL"],[61,60,54,50],[61,77,54,67],[61,79,54,69],[62,12,55,8,"username"],[62,20,55,16],[63,12,56,8,"password"],[64,10,57,6],[64,11,57,7],[64,12,57,8],[65,10,59,6],[65,14,59,6,"_response$data"],[65,28,59,6],[65,31,59,37,"response"],[65,39,59,45],[65,40,59,46,"data"],[65,44,59,50],[66,12,59,14,"access_token"],[66,24,59,26],[66,27,59,26,"_response$data"],[66,41,59,26],[66,42,59,14,"access_token"],[66,54,59,26],[67,12,59,28,"user"],[67,16,59,32],[67,19,59,32,"_response$data"],[67,33,59,32],[67,34,59,28,"user"],[67,38,59,32],[68,10,61,6],[68,16,61,12,"AsyncStorage"],[68,28,61,24],[68,29,61,24,"default"],[68,36,61,24],[68,37,61,25,"setItem"],[68,44,61,32],[68,45,61,33],[68,52,61,40],[68,54,61,42,"access_token"],[68,66,61,54],[68,67,61,55],[69,10,62,6],[69,16,62,12,"AsyncStorage"],[69,28,62,24],[69,29,62,24,"default"],[69,36,62,24],[69,37,62,25,"setItem"],[69,44,62,32],[69,45,62,33],[69,51,62,39],[69,53,62,41,"JSON"],[69,57,62,45],[69,58,62,46,"stringify"],[69,67,62,55],[69,68,62,56,"user"],[69,72,62,60],[69,73,62,61],[69,74,62,62],[70,10,64,6,"set"],[70,13,64,9],[70,14,64,10],[71,12,64,12,"user"],[71,16,64,16],[72,12,64,18,"token"],[72,17,64,23],[72,19,64,25,"access_token"],[73,10,64,38],[73,11,64,39],[73,12,64,40],[74,8,65,4],[74,9,65,5],[74,10,65,6],[74,17,65,13,"error"],[74,22,65,23],[74,24,65,25],[75,10,66,6],[75,16,66,12],[75,20,66,16,"Error"],[75,25,66,21],[75,26,66,22,"error"],[75,31,66,27],[75,32,66,28,"response"],[75,40,66,36],[75,42,66,38,"data"],[75,46,66,42],[75,48,66,44,"detail"],[75,54,66,50],[75,58,66,54],[75,72,66,68],[75,73,66,69],[76,8,67,4],[77,6,68,2],[77,7,68,3],[78,6,68,3],[78,22,52,2,"login"],[78,27,52,7,"login"],[78,28,52,7,"_x"],[78,30,52,7],[78,32,52,7,"_x2"],[78,35,52,7],[79,8,52,7],[79,15,52,7,"_ref2"],[79,20,52,7],[79,21,52,7,"apply"],[79,26,52,7],[79,33,52,7,"arguments"],[79,42,52,7],[80,6,52,7],[81,4,52,7],[81,7,68,3],[82,4,70,2,"register"],[82,12,70,10],[83,6,70,10],[83,10,70,10,"_ref3"],[83,15,70,10],[83,22,70,10,"_asyncToGenerator"],[83,39,70,10],[83,40,70,10,"default"],[83,47,70,10],[83,49,70,12],[83,60,70,19,"username"],[83,68,70,35],[83,70,70,37,"email"],[83,75,70,50],[83,77,70,52,"password"],[83,85,70,68],[83,87,70,70,"full_name"],[83,96,70,87],[83,98,70,89,"referral_code"],[83,111,70,111],[83,113,70,116],[84,8,71,4],[84,12,71,8],[85,10,72,6],[85,14,72,12,"response"],[85,22,72,20],[85,31,72,29,"axios"],[85,36,72,34],[85,37,72,34,"default"],[85,44,72,34],[85,45,72,35,"post"],[85,49,72,39],[85,50,72,40],[85,53,72,43,"API_URL"],[85,60,72,50],[85,80,72,70],[85,82,72,72],[86,12,73,8,"username"],[86,20,73,16],[87,12,74,8,"email"],[87,17,74,13],[88,12,75,8,"password"],[88,20,75,16],[89,12,76,8,"full_name"],[89,21,76,17],[90,12,77,8,"referral_code"],[90,25,77,21],[90,27,77,23,"referral_code"],[90,40,77,36],[90,44,77,40,"undefined"],[91,10,78,6],[91,11,78,7],[91,12,78,8],[92,10,80,6],[92,14,80,6,"_response$data2"],[92,29,80,6],[92,32,80,37,"response"],[92,40,80,45],[92,41,80,46,"data"],[92,45,80,50],[93,12,80,14,"access_token"],[93,24,80,26],[93,27,80,26,"_response$data2"],[93,42,80,26],[93,43,80,14,"access_token"],[93,55,80,26],[94,12,80,28,"user"],[94,16,80,32],[94,19,80,32,"_response$data2"],[94,34,80,32],[94,35,80,28,"user"],[94,39,80,32],[95,10,82,6],[95,16,82,12,"AsyncStorage"],[95,28,82,24],[95,29,82,24,"default"],[95,36,82,24],[95,37,82,25,"setItem"],[95,44,82,32],[95,45,82,33],[95,52,82,40],[95,54,82,42,"access_token"],[95,66,82,54],[95,67,82,55],[96,10,83,6],[96,16,83,12,"AsyncStorage"],[96,28,83,24],[96,29,83,24,"default"],[96,36,83,24],[96,37,83,25,"setItem"],[96,44,83,32],[96,45,83,33],[96,51,83,39],[96,53,83,41,"JSON"],[96,57,83,45],[96,58,83,46,"stringify"],[96,67,83,55],[96,68,83,56,"user"],[96,72,83,60],[96,73,83,61],[96,74,83,62],[97,10,85,6,"set"],[97,13,85,9],[97,14,85,10],[98,12,85,12,"user"],[98,16,85,16],[99,12,85,18,"token"],[99,17,85,23],[99,19,85,25,"access_token"],[100,10,85,38],[100,11,85,39],[100,12,85,40],[101,8,86,4],[101,9,86,5],[101,10,86,6],[101,17,86,13,"error"],[101,22,86,23],[101,24,86,25],[102,10,87,6],[102,16,87,12],[102,20,87,16,"Error"],[102,25,87,21],[102,26,87,22,"error"],[102,31,87,27],[102,32,87,28,"response"],[102,40,87,36],[102,42,87,38,"data"],[102,46,87,42],[102,48,87,44,"detail"],[102,54,87,50],[102,58,87,54],[102,79,87,75],[102,80,87,76],[103,8,88,4],[104,6,89,2],[104,7,89,3],[105,6,89,3],[105,22,70,2,"register"],[105,30,70,10,"register"],[105,31,70,10,"_x3"],[105,34,70,10],[105,36,70,10,"_x4"],[105,39,70,10],[105,41,70,10,"_x5"],[105,44,70,10],[105,46,70,10,"_x6"],[105,49,70,10],[105,51,70,10,"_x7"],[105,54,70,10],[106,8,70,10],[106,15,70,10,"_ref3"],[106,20,70,10],[106,21,70,10,"apply"],[106,26,70,10],[106,33,70,10,"arguments"],[106,42,70,10],[107,6,70,10],[108,4,70,10],[108,7,89,3],[109,4,91,2,"logout"],[109,10,91,8],[110,6,91,8],[110,10,91,8,"_ref4"],[110,15,91,8],[110,22,91,8,"_asyncToGenerator"],[110,39,91,8],[110,40,91,8,"default"],[110,47,91,8],[110,49,91,10],[110,62,91,22],[111,8,92,4],[111,12,92,8],[112,10,93,6],[113,10,94,6],[113,16,94,12,"AsyncStorage"],[113,28,94,24],[113,29,94,24,"default"],[113,36,94,24],[113,37,94,25,"removeItem"],[113,47,94,35],[113,48,94,36],[113,55,94,43],[113,56,94,44],[114,10,95,6],[114,16,95,12,"AsyncStorage"],[114,28,95,24],[114,29,95,24,"default"],[114,36,95,24],[114,37,95,25,"removeItem"],[114,47,95,35],[114,48,95,36],[114,54,95,42],[114,55,95,43],[115,10,96,6],[115,16,96,12,"AsyncStorage"],[115,28,96,24],[115,29,96,24,"default"],[115,36,96,24],[115,37,96,25,"clear"],[115,42,96,30],[115,43,96,31],[115,44,96,32],[115,45,96,33],[115,46,96,34],[117,10,98,6],[118,10,99,6,"set"],[118,13,99,9],[118,14,99,10],[119,12,99,12,"user"],[119,16,99,16],[119,18,99,18],[119,22,99,22],[120,12,99,24,"token"],[120,17,99,29],[120,19,99,31],[120,23,99,35],[121,12,99,37,"isLoading"],[121,21,99,46],[121,23,99,48],[122,10,99,54],[122,11,99,55],[122,12,99,56],[123,10,101,6,"console"],[123,17,101,13],[123,18,101,14,"log"],[123,21,101,17],[123,22,101,18],[123,41,101,37],[123,42,101,38],[124,8,102,4],[124,9,102,5],[124,10,102,6],[124,17,102,13,"error"],[124,22,102,18],[124,24,102,20],[125,10,103,6,"console"],[125,17,103,13],[125,18,103,14,"error"],[125,23,103,19],[125,24,103,20],[125,39,103,35],[125,41,103,37,"error"],[125,46,103,42],[125,47,103,43],[126,8,104,4],[127,6,105,2],[127,7,105,3],[128,6,105,3],[128,22,91,2,"logout"],[128,28,91,8,"logout"],[128,29,91,8],[129,8,91,8],[129,15,91,8,"_ref4"],[129,20,91,8],[129,21,91,8,"apply"],[129,26,91,8],[129,33,91,8,"arguments"],[129,42,91,8],[130,6,91,8],[131,4,91,8],[132,2,106,0],[132,3,106,1],[132,4,106,2],[132,5,106,3],[133,0,106,4],[133,3]],"functionMap":{"names":["<global>","create$argument_0","loadToken","login","register","logout"],"mappings":"AAA;8CC8B;aCK;GDc;SEE;GFgB;YGE;GHmB;UIE;GJc;EDC"},"hasCjsExports":false},"type":"js/module"}]}