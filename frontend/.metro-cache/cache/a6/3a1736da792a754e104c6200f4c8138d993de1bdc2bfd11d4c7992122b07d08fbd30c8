{"dependencies":[{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":69,"index":103}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":104},"end":{"line":3,"column":26,"index":130}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"../utils/notifications","data":{"asyncType":"async","isESMImport":true,"locs":[{"start":{"line":109,"column":53,"index":3169},"end":{"line":109,"column":85,"index":3201}}],"key":"lryBNtHZmIhXbeC+oBDvSN7q29c=","exportNames":["*"],"imports":1,"isOptional":true}},{"name":"expo/internal/async-require-module","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":109,"column":47,"index":3163},"end":{"line":109,"column":85,"index":3201}}],"key":"y8mhXL4zKvSVvgnacXXOn0UU+QQ=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useAuthStore\", {\n    enumerable: true,\n    get: function () {\n      return useAuthStore;\n    }\n  });\n  var _zustand = require(_dependencyMap[0], \"zustand\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _axios = require(_dependencyMap[2], \"axios\");\n  var axios = _interopDefault(_axios);\n  const API_URL = process.env.EXPO_PUBLIC_BACKEND_URL;\n  const useAuthStore = (0, _zustand.create)(set => ({\n    user: null,\n    token: null,\n    isLoading: true,\n    loadToken: async () => {\n      try {\n        const token = await AsyncStorage.default.getItem('token');\n        const userData = await AsyncStorage.default.getItem('user');\n        if (token && userData) {\n          set({\n            token,\n            user: JSON.parse(userData),\n            isLoading: false\n          });\n        } else {\n          set({\n            isLoading: false\n          });\n        }\n      } catch (error) {\n        console.error('Load token error:', error);\n        set({\n          isLoading: false\n        });\n      }\n    },\n    login: async (username, password) => {\n      try {\n        const response = await axios.default.post(`${API_URL}/api/auth/login`, {\n          username,\n          password\n        });\n        const {\n          access_token,\n          user\n        } = response.data;\n        await AsyncStorage.default.setItem('token', access_token);\n        await AsyncStorage.default.setItem('user', JSON.stringify(user));\n        set({\n          user,\n          token: access_token\n        });\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Login failed');\n      }\n    },\n    register: async (username, email, password, full_name, referral_code, user_type, phone_number) => {\n      try {\n        const response = await axios.default.post(`${API_URL}/api/auth/register`, {\n          username,\n          email,\n          password,\n          full_name,\n          referral_code: referral_code || undefined,\n          user_type: user_type || 'driver',\n          phone_number: phone_number || undefined\n        });\n        const {\n          access_token,\n          user\n        } = response.data;\n        await AsyncStorage.default.setItem('token', access_token);\n        await AsyncStorage.default.setItem('user', JSON.stringify(user));\n        set({\n          user,\n          token: access_token\n        });\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Registration failed');\n      }\n    },\n    logout: async () => {\n      try {\n        // Remove push token from backend\n        try {\n          const {\n            removePushTokenFromBackend\n          } = await require(_dependencyMap[4], \"expo/internal/async-require-module\")(_dependencyMap[3], _dependencyMap.paths, \"../utils/notifications\");\n          await removePushTokenFromBackend();\n        } catch (error) {\n          console.error('Error removing push token:', error);\n        }\n\n        // Clear AsyncStorage\n        await AsyncStorage.default.removeItem('token');\n        await AsyncStorage.default.removeItem('user');\n        await AsyncStorage.default.clear(); // Clear all storage\n\n        // Clear state\n        set({\n          user: null,\n          token: null,\n          isLoading: false\n        });\n        console.log('Logout successful');\n      } catch (error) {\n        console.error('Logout error:', error);\n      }\n    },\n    setUser: async user => {\n      try {\n        await AsyncStorage.default.setItem('user', JSON.stringify(user));\n        set({\n          user\n        });\n      } catch (error) {\n        console.error('Set user error:', error);\n      }\n    }\n  }));\n});","lineCount":134,"map":[[12,2,43,0,"Object"],[12,8,43,0],[12,9,43,0,"defineProperty"],[12,23,43,0],[12,24,43,0,"exports"],[12,31,43,0],[13,4,43,0,"enumerable"],[13,14,43,0],[14,4,43,0,"get"],[14,7,43,0],[14,18,43,0,"get"],[14,19,43,0],[15,6,43,0],[15,13,43,0,"useAuthStore"],[15,25,43,0],[16,4,43,0],[17,2,43,0],[18,2,1,0],[18,6,1,0,"_zustand"],[18,14,1,0],[18,17,1,0,"require"],[18,24,1,0],[18,25,1,0,"_dependencyMap"],[18,39,1,0],[19,2,2,0],[19,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[19,42,2,0],[19,45,2,0,"require"],[19,52,2,0],[19,53,2,0,"_dependencyMap"],[19,67,2,0],[20,2,2,0],[20,6,2,0,"AsyncStorage"],[20,18,2,0],[20,21,2,0,"_interopDefault"],[20,36,2,0],[20,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[20,73,2,0],[21,2,3,0],[21,6,3,0,"_axios"],[21,12,3,0],[21,15,3,0,"require"],[21,22,3,0],[21,23,3,0,"_dependencyMap"],[21,37,3,0],[22,2,3,0],[22,6,3,0,"axios"],[22,11,3,0],[22,14,3,0,"_interopDefault"],[22,29,3,0],[22,30,3,0,"_axios"],[22,36,3,0],[23,2,5,0],[23,8,5,6,"API_URL"],[23,15,5,13],[23,18,5,16,"process"],[23,25,5,23],[23,26,5,24,"env"],[23,29,5,27],[23,30,5,28,"EXPO_PUBLIC_BACKEND_URL"],[23,53,5,51],[24,2,43,7],[24,8,43,13,"useAuthStore"],[24,20,43,25],[24,23,43,28],[24,27,43,28,"create"],[24,35,43,34],[24,36,43,34,"create"],[24,42,43,34],[24,44,43,47,"set"],[24,47,43,50],[24,52,43,56],[25,4,44,2,"user"],[25,8,44,6],[25,10,44,8],[25,14,44,12],[26,4,45,2,"token"],[26,9,45,7],[26,11,45,9],[26,15,45,13],[27,4,46,2,"isLoading"],[27,13,46,11],[27,15,46,13],[27,19,46,17],[28,4,48,2,"loadToken"],[28,13,48,11],[28,15,48,13],[28,21,48,13,"loadToken"],[28,22,48,13],[28,27,48,25],[29,6,49,4],[29,10,49,8],[30,8,50,6],[30,14,50,12,"token"],[30,19,50,17],[30,22,50,20],[30,28,50,26,"AsyncStorage"],[30,40,50,38],[30,41,50,38,"default"],[30,48,50,38],[30,49,50,39,"getItem"],[30,56,50,46],[30,57,50,47],[30,64,50,54],[30,65,50,55],[31,8,51,6],[31,14,51,12,"userData"],[31,22,51,20],[31,25,51,23],[31,31,51,29,"AsyncStorage"],[31,43,51,41],[31,44,51,41,"default"],[31,51,51,41],[31,52,51,42,"getItem"],[31,59,51,49],[31,60,51,50],[31,66,51,56],[31,67,51,57],[32,8,53,6],[32,12,53,10,"token"],[32,17,53,15],[32,21,53,19,"userData"],[32,29,53,27],[32,31,53,29],[33,10,54,8,"set"],[33,13,54,11],[33,14,54,12],[34,12,54,14,"token"],[34,17,54,19],[35,12,54,21,"user"],[35,16,54,25],[35,18,54,27,"JSON"],[35,22,54,31],[35,23,54,32,"parse"],[35,28,54,37],[35,29,54,38,"userData"],[35,37,54,46],[35,38,54,47],[36,12,54,49,"isLoading"],[36,21,54,58],[36,23,54,60],[37,10,54,66],[37,11,54,67],[37,12,54,68],[38,8,55,6],[38,9,55,7],[38,15,55,13],[39,10,56,8,"set"],[39,13,56,11],[39,14,56,12],[40,12,56,14,"isLoading"],[40,21,56,23],[40,23,56,25],[41,10,56,31],[41,11,56,32],[41,12,56,33],[42,8,57,6],[43,6,58,4],[43,7,58,5],[43,8,58,6],[43,15,58,13,"error"],[43,20,58,18],[43,22,58,20],[44,8,59,6,"console"],[44,15,59,13],[44,16,59,14,"error"],[44,21,59,19],[44,22,59,20],[44,41,59,39],[44,43,59,41,"error"],[44,48,59,46],[44,49,59,47],[45,8,60,6,"set"],[45,11,60,9],[45,12,60,10],[46,10,60,12,"isLoading"],[46,19,60,21],[46,21,60,23],[47,8,60,29],[47,9,60,30],[47,10,60,31],[48,6,61,4],[49,4,62,2],[49,5,62,3],[50,4,64,2,"login"],[50,9,64,7],[50,11,64,9],[50,17,64,9,"login"],[50,18,64,16,"username"],[50,26,64,32],[50,28,64,34,"password"],[50,36,64,50],[50,41,64,55],[51,6,65,4],[51,10,65,8],[52,8,66,6],[52,14,66,12,"response"],[52,22,66,20],[52,25,66,23],[52,31,66,29,"axios"],[52,36,66,34],[52,37,66,34,"default"],[52,44,66,34],[52,45,66,35,"post"],[52,49,66,39],[52,50,66,40],[52,53,66,43,"API_URL"],[52,60,66,50],[52,77,66,67],[52,79,66,69],[53,10,67,8,"username"],[53,18,67,16],[54,10,68,8,"password"],[55,8,69,6],[55,9,69,7],[55,10,69,8],[56,8,71,6],[56,14,71,12],[57,10,71,14,"access_token"],[57,22,71,26],[58,10,71,28,"user"],[59,8,71,33],[59,9,71,34],[59,12,71,37,"response"],[59,20,71,45],[59,21,71,46,"data"],[59,25,71,50],[60,8,73,6],[60,14,73,12,"AsyncStorage"],[60,26,73,24],[60,27,73,24,"default"],[60,34,73,24],[60,35,73,25,"setItem"],[60,42,73,32],[60,43,73,33],[60,50,73,40],[60,52,73,42,"access_token"],[60,64,73,54],[60,65,73,55],[61,8,74,6],[61,14,74,12,"AsyncStorage"],[61,26,74,24],[61,27,74,24,"default"],[61,34,74,24],[61,35,74,25,"setItem"],[61,42,74,32],[61,43,74,33],[61,49,74,39],[61,51,74,41,"JSON"],[61,55,74,45],[61,56,74,46,"stringify"],[61,65,74,55],[61,66,74,56,"user"],[61,70,74,60],[61,71,74,61],[61,72,74,62],[62,8,76,6,"set"],[62,11,76,9],[62,12,76,10],[63,10,76,12,"user"],[63,14,76,16],[64,10,76,18,"token"],[64,15,76,23],[64,17,76,25,"access_token"],[65,8,76,38],[65,9,76,39],[65,10,76,40],[66,6,77,4],[66,7,77,5],[66,8,77,6],[66,15,77,13,"error"],[66,20,77,23],[66,22,77,25],[67,8,78,6],[67,14,78,12],[67,18,78,16,"Error"],[67,23,78,21],[67,24,78,22,"error"],[67,29,78,27],[67,30,78,28,"response"],[67,38,78,36],[67,40,78,38,"data"],[67,44,78,42],[67,46,78,44,"detail"],[67,52,78,50],[67,56,78,54],[67,70,78,68],[67,71,78,69],[68,6,79,4],[69,4,80,2],[69,5,80,3],[70,4,82,2,"register"],[70,12,82,10],[70,14,82,12],[70,20,82,12,"register"],[70,21,82,19,"username"],[70,29,82,35],[70,31,82,37,"email"],[70,36,82,50],[70,38,82,52,"password"],[70,46,82,68],[70,48,82,70,"full_name"],[70,57,82,87],[70,59,82,89,"referral_code"],[70,72,82,111],[70,74,82,113,"user_type"],[70,83,82,131],[70,85,82,133,"phone_number"],[70,97,82,154],[70,102,82,159],[71,6,83,4],[71,10,83,8],[72,8,84,6],[72,14,84,12,"response"],[72,22,84,20],[72,25,84,23],[72,31,84,29,"axios"],[72,36,84,34],[72,37,84,34,"default"],[72,44,84,34],[72,45,84,35,"post"],[72,49,84,39],[72,50,84,40],[72,53,84,43,"API_URL"],[72,60,84,50],[72,80,84,70],[72,82,84,72],[73,10,85,8,"username"],[73,18,85,16],[74,10,86,8,"email"],[74,15,86,13],[75,10,87,8,"password"],[75,18,87,16],[76,10,88,8,"full_name"],[76,19,88,17],[77,10,89,8,"referral_code"],[77,23,89,21],[77,25,89,23,"referral_code"],[77,38,89,36],[77,42,89,40,"undefined"],[77,51,89,49],[78,10,90,8,"user_type"],[78,19,90,17],[78,21,90,19,"user_type"],[78,30,90,28],[78,34,90,32],[78,42,90,40],[79,10,91,8,"phone_number"],[79,22,91,20],[79,24,91,22,"phone_number"],[79,36,91,34],[79,40,91,38,"undefined"],[80,8,92,6],[80,9,92,7],[80,10,92,8],[81,8,94,6],[81,14,94,12],[82,10,94,14,"access_token"],[82,22,94,26],[83,10,94,28,"user"],[84,8,94,33],[84,9,94,34],[84,12,94,37,"response"],[84,20,94,45],[84,21,94,46,"data"],[84,25,94,50],[85,8,96,6],[85,14,96,12,"AsyncStorage"],[85,26,96,24],[85,27,96,24,"default"],[85,34,96,24],[85,35,96,25,"setItem"],[85,42,96,32],[85,43,96,33],[85,50,96,40],[85,52,96,42,"access_token"],[85,64,96,54],[85,65,96,55],[86,8,97,6],[86,14,97,12,"AsyncStorage"],[86,26,97,24],[86,27,97,24,"default"],[86,34,97,24],[86,35,97,25,"setItem"],[86,42,97,32],[86,43,97,33],[86,49,97,39],[86,51,97,41,"JSON"],[86,55,97,45],[86,56,97,46,"stringify"],[86,65,97,55],[86,66,97,56,"user"],[86,70,97,60],[86,71,97,61],[86,72,97,62],[87,8,99,6,"set"],[87,11,99,9],[87,12,99,10],[88,10,99,12,"user"],[88,14,99,16],[89,10,99,18,"token"],[89,15,99,23],[89,17,99,25,"access_token"],[90,8,99,38],[90,9,99,39],[90,10,99,40],[91,6,100,4],[91,7,100,5],[91,8,100,6],[91,15,100,13,"error"],[91,20,100,23],[91,22,100,25],[92,8,101,6],[92,14,101,12],[92,18,101,16,"Error"],[92,23,101,21],[92,24,101,22,"error"],[92,29,101,27],[92,30,101,28,"response"],[92,38,101,36],[92,40,101,38,"data"],[92,44,101,42],[92,46,101,44,"detail"],[92,52,101,50],[92,56,101,54],[92,77,101,75],[92,78,101,76],[93,6,102,4],[94,4,103,2],[94,5,103,3],[95,4,105,2,"logout"],[95,10,105,8],[95,12,105,10],[95,18,105,10,"logout"],[95,19,105,10],[95,24,105,22],[96,6,106,4],[96,10,106,8],[97,8,107,6],[98,8,108,6],[98,12,108,10],[99,10,109,8],[99,16,109,14],[100,12,109,16,"removePushTokenFromBackend"],[101,10,109,43],[101,11,109,44],[101,14,109,47],[101,20,109,47,"require"],[101,27,109,47],[101,28,109,47,"_dependencyMap"],[101,42,109,47],[101,85,109,47,"_dependencyMap"],[101,99,109,47],[101,104,109,47,"_dependencyMap"],[101,118,109,47],[101,119,109,47,"paths"],[101,124,109,47],[101,151,109,85],[102,10,110,8],[102,16,110,14,"removePushTokenFromBackend"],[102,42,110,40],[102,43,110,41],[102,44,110,42],[103,8,111,6],[103,9,111,7],[103,10,111,8],[103,17,111,15,"error"],[103,22,111,20],[103,24,111,22],[104,10,112,8,"console"],[104,17,112,15],[104,18,112,16,"error"],[104,23,112,21],[104,24,112,22],[104,52,112,50],[104,54,112,52,"error"],[104,59,112,57],[104,60,112,58],[105,8,113,6],[107,8,115,6],[108,8,116,6],[108,14,116,12,"AsyncStorage"],[108,26,116,24],[108,27,116,24,"default"],[108,34,116,24],[108,35,116,25,"removeItem"],[108,45,116,35],[108,46,116,36],[108,53,116,43],[108,54,116,44],[109,8,117,6],[109,14,117,12,"AsyncStorage"],[109,26,117,24],[109,27,117,24,"default"],[109,34,117,24],[109,35,117,25,"removeItem"],[109,45,117,35],[109,46,117,36],[109,52,117,42],[109,53,117,43],[110,8,118,6],[110,14,118,12,"AsyncStorage"],[110,26,118,24],[110,27,118,24,"default"],[110,34,118,24],[110,35,118,25,"clear"],[110,40,118,30],[110,41,118,31],[110,42,118,32],[110,43,118,33],[110,44,118,34],[112,8,120,6],[113,8,121,6,"set"],[113,11,121,9],[113,12,121,10],[114,10,121,12,"user"],[114,14,121,16],[114,16,121,18],[114,20,121,22],[115,10,121,24,"token"],[115,15,121,29],[115,17,121,31],[115,21,121,35],[116,10,121,37,"isLoading"],[116,19,121,46],[116,21,121,48],[117,8,121,54],[117,9,121,55],[117,10,121,56],[118,8,123,6,"console"],[118,15,123,13],[118,16,123,14,"log"],[118,19,123,17],[118,20,123,18],[118,39,123,37],[118,40,123,38],[119,6,124,4],[119,7,124,5],[119,8,124,6],[119,15,124,13,"error"],[119,20,124,18],[119,22,124,20],[120,8,125,6,"console"],[120,15,125,13],[120,16,125,14,"error"],[120,21,125,19],[120,22,125,20],[120,37,125,35],[120,39,125,37,"error"],[120,44,125,42],[120,45,125,43],[121,6,126,4],[122,4,127,2],[122,5,127,3],[123,4,129,2,"setUser"],[123,11,129,9],[123,13,129,11],[123,19,129,18,"user"],[123,23,129,28],[123,27,129,33],[124,6,130,4],[124,10,130,8],[125,8,131,6],[125,14,131,12,"AsyncStorage"],[125,26,131,24],[125,27,131,24,"default"],[125,34,131,24],[125,35,131,25,"setItem"],[125,42,131,32],[125,43,131,33],[125,49,131,39],[125,51,131,41,"JSON"],[125,55,131,45],[125,56,131,46,"stringify"],[125,65,131,55],[125,66,131,56,"user"],[125,70,131,60],[125,71,131,61],[125,72,131,62],[126,8,132,6,"set"],[126,11,132,9],[126,12,132,10],[127,10,132,12,"user"],[128,8,132,17],[128,9,132,18],[128,10,132,19],[129,6,133,4],[129,7,133,5],[129,8,133,6],[129,15,133,13,"error"],[129,20,133,18],[129,22,133,20],[130,8,134,6,"console"],[130,15,134,13],[130,16,134,14,"error"],[130,21,134,19],[130,22,134,20],[130,39,134,37],[130,41,134,39,"error"],[130,46,134,44],[130,47,134,45],[131,6,135,4],[132,4,136,2],[133,2,137,0],[133,3,137,1],[133,4,137,2],[133,5,137,3],[134,0,137,4],[134,3]],"functionMap":{"names":["<global>","create$argument_0","loadToken","login","register","logout","setUser"],"mappings":"AAA;8CC0C;aCK;GDc;SEE;GFgB;YGE;GHqB;UIE;GJsB;WKE;GLO;EDC"},"hasCjsExports":false},"type":"js/module"}]}