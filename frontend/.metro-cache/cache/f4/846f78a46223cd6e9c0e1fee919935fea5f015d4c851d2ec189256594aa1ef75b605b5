{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":44,"index":44}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/View","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"4kYBDC6LJJXoH7P9rWDi3vkLVB0=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/ActivityIndicator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"bSAkUkqZq0shBb5bU6kCYXi4ciA=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/StyleSheet","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"MK7+k1V+KnvCVW7Kj2k/ydtjmVU=","exportNames":["*"],"imports":1}},{"name":"expo-router","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":113},"end":{"line":3,"column":40,"index":153}}],"key":"/+ErnBisjrT6aDU+GRp5Qz/lYoY=","exportNames":["*"],"imports":1}},{"name":"../store/authStore","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":154},"end":{"line":4,"column":50,"index":204}}],"key":"/4BDl/hqolvw7T4CXD8jWAtZK4M=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":205},"end":{"line":5,"column":69,"index":274}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../components/TermsModal","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":275},"end":{"line":6,"column":50,"index":325}}],"key":"QFov7W8BA1pAQA97Rl5tkl/yiIk=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/app/index.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return Index;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeWebDistExportsView = require(_dependencyMap[1], \"react-native-web/dist/exports/View\");\n  var View = _interopDefault(_reactNativeWebDistExportsView);\n  var _reactNativeWebDistExportsActivityIndicator = require(_dependencyMap[2], \"react-native-web/dist/exports/ActivityIndicator\");\n  var ActivityIndicator = _interopDefault(_reactNativeWebDistExportsActivityIndicator);\n  var _reactNativeWebDistExportsStyleSheet = require(_dependencyMap[3], \"react-native-web/dist/exports/StyleSheet\");\n  var StyleSheet = _interopDefault(_reactNativeWebDistExportsStyleSheet);\n  var _expoRouter = require(_dependencyMap[4], \"expo-router\");\n  var _storeAuthStore = require(_dependencyMap[5], \"../store/authStore\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[6], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _componentsTermsModal = require(_dependencyMap[7], \"../components/TermsModal\");\n  var TermsModal = _interopDefault(_componentsTermsModal);\n  var _reactJsxDevRuntime = require(_dependencyMap[8], \"react/jsx-dev-runtime\");\n  function Index() {\n    const router = (0, _expoRouter.useRouter)();\n    const {\n      user,\n      isLoading\n    } = (0, _storeAuthStore.useAuthStore)();\n    const [showTerms, setShowTerms] = (0, _react.useState)(false);\n    const [termsChecked, setTermsChecked] = (0, _react.useState)(false);\n    (0, _react.useEffect)(() => {\n      checkTermsAcceptance();\n    }, []);\n    const checkTermsAcceptance = async () => {\n      try {\n        const accepted = await AsyncStorage.default.getItem('termsAccepted');\n        if (accepted === 'true') {\n          setTermsChecked(true);\n        } else if (!isLoading && user) {\n          // User logged in but hasn't accepted terms\n          setShowTerms(true);\n        }\n        setTermsChecked(true);\n      } catch (error) {\n        console.error('Error checking terms:', error);\n        setTermsChecked(true);\n      }\n    };\n    const handleTermsAccept = async () => {\n      try {\n        await AsyncStorage.default.setItem('termsAccepted', 'true');\n        setShowTerms(false);\n        setTermsChecked(true);\n      } catch (error) {\n        console.error('Error saving terms acceptance:', error);\n      }\n    };\n    (0, _react.useEffect)(() => {\n      if (!isLoading && termsChecked) {\n        if (user) {\n          router.replace('/(tabs)/home');\n        } else {\n          router.replace('/(auth)/login');\n        }\n      }\n    }, [user, isLoading, termsChecked]);\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_reactJsxDevRuntime.Fragment, {\n      children: [/*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(View.default, {\n        style: styles.container,\n        children: /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(ActivityIndicator.default, {\n          size: \"large\",\n          color: \"#007AFF\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 7\n      }, this), /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(TermsModal.default, {\n        visible: showTerms,\n        onAccept: handleTermsAccept\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true);\n  }\n  const styles = StyleSheet.default.create({\n    container: {\n      flex: 1,\n      justifyContent: 'center',\n      alignItems: 'center',\n      backgroundColor: '#fff'\n    }\n  });\n});","lineCount":110,"map":[[13,2,8,15,"Object"],[13,8,8,15],[13,9,8,15,"defineProperty"],[13,23,8,15],[13,24,8,15,"exports"],[13,31,8,15],[14,4,8,15,"enumerable"],[14,14,8,15],[15,4,8,15,"get"],[15,7,8,15],[15,18,8,15,"get"],[15,19,8,15],[16,6,8,15],[16,13,8,15,"Index"],[16,18,8,15],[17,4,8,15],[18,2,8,15],[19,2,1,0],[19,6,1,0,"_react"],[19,12,1,0],[19,15,1,0,"require"],[19,22,1,0],[19,23,1,0,"_dependencyMap"],[19,37,1,0],[20,2,1,44],[20,6,1,44,"_reactNativeWebDistExportsView"],[20,36,1,44],[20,39,1,44,"require"],[20,46,1,44],[20,47,1,44,"_dependencyMap"],[20,61,1,44],[21,2,1,44],[21,6,1,44,"View"],[21,10,1,44],[21,13,1,44,"_interopDefault"],[21,28,1,44],[21,29,1,44,"_reactNativeWebDistExportsView"],[21,59,1,44],[22,2,1,44],[22,6,1,44,"_reactNativeWebDistExportsActivityIndicator"],[22,49,1,44],[22,52,1,44,"require"],[22,59,1,44],[22,60,1,44,"_dependencyMap"],[22,74,1,44],[23,2,1,44],[23,6,1,44,"ActivityIndicator"],[23,23,1,44],[23,26,1,44,"_interopDefault"],[23,41,1,44],[23,42,1,44,"_reactNativeWebDistExportsActivityIndicator"],[23,85,1,44],[24,2,1,44],[24,6,1,44,"_reactNativeWebDistExportsStyleSheet"],[24,42,1,44],[24,45,1,44,"require"],[24,52,1,44],[24,53,1,44,"_dependencyMap"],[24,67,1,44],[25,2,1,44],[25,6,1,44,"StyleSheet"],[25,16,1,44],[25,19,1,44,"_interopDefault"],[25,34,1,44],[25,35,1,44,"_reactNativeWebDistExportsStyleSheet"],[25,71,1,44],[26,2,3,0],[26,6,3,0,"_expoRouter"],[26,17,3,0],[26,20,3,0,"require"],[26,27,3,0],[26,28,3,0,"_dependencyMap"],[26,42,3,0],[27,2,4,0],[27,6,4,0,"_storeAuthStore"],[27,21,4,0],[27,24,4,0,"require"],[27,31,4,0],[27,32,4,0,"_dependencyMap"],[27,46,4,0],[28,2,5,0],[28,6,5,0,"_reactNativeAsyncStorageAsyncStorage"],[28,42,5,0],[28,45,5,0,"require"],[28,52,5,0],[28,53,5,0,"_dependencyMap"],[28,67,5,0],[29,2,5,0],[29,6,5,0,"AsyncStorage"],[29,18,5,0],[29,21,5,0,"_interopDefault"],[29,36,5,0],[29,37,5,0,"_reactNativeAsyncStorageAsyncStorage"],[29,73,5,0],[30,2,6,0],[30,6,6,0,"_componentsTermsModal"],[30,27,6,0],[30,30,6,0,"require"],[30,37,6,0],[30,38,6,0,"_dependencyMap"],[30,52,6,0],[31,2,6,0],[31,6,6,0,"TermsModal"],[31,16,6,0],[31,19,6,0,"_interopDefault"],[31,34,6,0],[31,35,6,0,"_componentsTermsModal"],[31,56,6,0],[32,2,6,50],[32,6,6,50,"_reactJsxDevRuntime"],[32,25,6,50],[32,28,6,50,"require"],[32,35,6,50],[32,36,6,50,"_dependencyMap"],[32,50,6,50],[33,2,8,15],[33,11,8,24,"Index"],[33,16,8,29,"Index"],[33,17,8,29],[33,19,8,32],[34,4,9,2],[34,10,9,8,"router"],[34,16,9,14],[34,19,9,17],[34,23,9,17,"useRouter"],[34,34,9,26],[34,35,9,26,"useRouter"],[34,44,9,26],[34,46,9,27],[34,47,9,28],[35,4,10,2],[35,10,10,8],[36,6,10,10,"user"],[36,10,10,14],[37,6,10,16,"isLoading"],[38,4,10,26],[38,5,10,27],[38,8,10,30],[38,12,10,30,"useAuthStore"],[38,27,10,42],[38,28,10,42,"useAuthStore"],[38,40,10,42],[38,42,10,43],[38,43,10,44],[39,4,11,2],[39,10,11,8],[39,11,11,9,"showTerms"],[39,20,11,18],[39,22,11,20,"setShowTerms"],[39,34,11,32],[39,35,11,33],[39,38,11,36],[39,42,11,36,"useState"],[39,48,11,44],[39,49,11,44,"useState"],[39,57,11,44],[39,59,11,45],[39,64,11,50],[39,65,11,51],[40,4,12,2],[40,10,12,8],[40,11,12,9,"termsChecked"],[40,23,12,21],[40,25,12,23,"setTermsChecked"],[40,40,12,38],[40,41,12,39],[40,44,12,42],[40,48,12,42,"useState"],[40,54,12,50],[40,55,12,50,"useState"],[40,63,12,50],[40,65,12,51],[40,70,12,56],[40,71,12,57],[41,4,14,2],[41,8,14,2,"useEffect"],[41,14,14,11],[41,15,14,11,"useEffect"],[41,24,14,11],[41,26,14,12],[41,32,14,18],[42,6,15,4,"checkTermsAcceptance"],[42,26,15,24],[42,27,15,25],[42,28,15,26],[43,4,16,2],[43,5,16,3],[43,7,16,5],[43,9,16,7],[43,10,16,8],[44,4,18,2],[44,10,18,8,"checkTermsAcceptance"],[44,30,18,28],[44,33,18,31],[44,39,18,31,"checkTermsAcceptance"],[44,40,18,31],[44,45,18,43],[45,6,19,4],[45,10,19,8],[46,8,20,6],[46,14,20,12,"accepted"],[46,22,20,20],[46,25,20,23],[46,31,20,29,"AsyncStorage"],[46,43,20,41],[46,44,20,41,"default"],[46,51,20,41],[46,52,20,42,"getItem"],[46,59,20,49],[46,60,20,50],[46,75,20,65],[46,76,20,66],[47,8,21,6],[47,12,21,10,"accepted"],[47,20,21,18],[47,25,21,23],[47,31,21,29],[47,33,21,31],[48,10,22,8,"setTermsChecked"],[48,25,22,23],[48,26,22,24],[48,30,22,28],[48,31,22,29],[49,8,23,6],[49,9,23,7],[49,15,23,13],[49,19,23,17],[49,20,23,18,"isLoading"],[49,29,23,27],[49,33,23,31,"user"],[49,37,23,35],[49,39,23,37],[50,10,24,8],[51,10,25,8,"setShowTerms"],[51,22,25,20],[51,23,25,21],[51,27,25,25],[51,28,25,26],[52,8,26,6],[53,8,27,6,"setTermsChecked"],[53,23,27,21],[53,24,27,22],[53,28,27,26],[53,29,27,27],[54,6,28,4],[54,7,28,5],[54,8,28,6],[54,15,28,13,"error"],[54,20,28,18],[54,22,28,20],[55,8,29,6,"console"],[55,15,29,13],[55,16,29,14,"error"],[55,21,29,19],[55,22,29,20],[55,45,29,43],[55,47,29,45,"error"],[55,52,29,50],[55,53,29,51],[56,8,30,6,"setTermsChecked"],[56,23,30,21],[56,24,30,22],[56,28,30,26],[56,29,30,27],[57,6,31,4],[58,4,32,2],[58,5,32,3],[59,4,34,2],[59,10,34,8,"handleTermsAccept"],[59,27,34,25],[59,30,34,28],[59,36,34,28,"handleTermsAccept"],[59,37,34,28],[59,42,34,40],[60,6,35,4],[60,10,35,8],[61,8,36,6],[61,14,36,12,"AsyncStorage"],[61,26,36,24],[61,27,36,24,"default"],[61,34,36,24],[61,35,36,25,"setItem"],[61,42,36,32],[61,43,36,33],[61,58,36,48],[61,60,36,50],[61,66,36,56],[61,67,36,57],[62,8,37,6,"setShowTerms"],[62,20,37,18],[62,21,37,19],[62,26,37,24],[62,27,37,25],[63,8,38,6,"setTermsChecked"],[63,23,38,21],[63,24,38,22],[63,28,38,26],[63,29,38,27],[64,6,39,4],[64,7,39,5],[64,8,39,6],[64,15,39,13,"error"],[64,20,39,18],[64,22,39,20],[65,8,40,6,"console"],[65,15,40,13],[65,16,40,14,"error"],[65,21,40,19],[65,22,40,20],[65,54,40,52],[65,56,40,54,"error"],[65,61,40,59],[65,62,40,60],[66,6,41,4],[67,4,42,2],[67,5,42,3],[68,4,44,2],[68,8,44,2,"useEffect"],[68,14,44,11],[68,15,44,11,"useEffect"],[68,24,44,11],[68,26,44,12],[68,32,44,18],[69,6,45,4],[69,10,45,8],[69,11,45,9,"isLoading"],[69,20,45,18],[69,24,45,22,"termsChecked"],[69,36,45,34],[69,38,45,36],[70,8,46,6],[70,12,46,10,"user"],[70,16,46,14],[70,18,46,16],[71,10,47,8,"router"],[71,16,47,14],[71,17,47,15,"replace"],[71,24,47,22],[71,25,47,23],[71,39,47,37],[71,40,47,38],[72,8,48,6],[72,9,48,7],[72,15,48,13],[73,10,49,8,"router"],[73,16,49,14],[73,17,49,15,"replace"],[73,24,49,22],[73,25,49,23],[73,40,49,38],[73,41,49,39],[74,8,50,6],[75,6,51,4],[76,4,52,2],[76,5,52,3],[76,7,52,5],[76,8,52,6,"user"],[76,12,52,10],[76,14,52,12,"isLoading"],[76,23,52,21],[76,25,52,23,"termsChecked"],[76,37,52,35],[76,38,52,36],[76,39,52,37],[77,4,54,2],[77,24,55,4],[77,28,55,4,"_reactJsxDevRuntime"],[77,47,55,4],[77,48,55,4,"jsxDEV"],[77,54,55,4],[77,56,55,4,"_reactJsxDevRuntime"],[77,75,55,4],[77,76,55,4,"Fragment"],[77,84,55,4],[78,6,55,4,"children"],[78,14,55,4],[78,30,56,6],[78,34,56,6,"_reactJsxDevRuntime"],[78,53,56,6],[78,54,56,6,"jsxDEV"],[78,60,56,6],[78,62,56,7,"View"],[78,66,56,11],[78,67,56,11,"default"],[78,74,56,11],[79,8,56,12,"style"],[79,13,56,17],[79,15,56,19,"styles"],[79,21,56,25],[79,22,56,26,"container"],[79,31,56,36],[80,8,56,36,"children"],[80,16,56,36],[80,31,57,8],[80,35,57,8,"_reactJsxDevRuntime"],[80,54,57,8],[80,55,57,8,"jsxDEV"],[80,61,57,8],[80,63,57,9,"ActivityIndicator"],[80,80,57,26],[80,81,57,26,"default"],[80,88,57,26],[81,10,57,27,"size"],[81,14,57,31],[81,16,57,32],[81,23,57,39],[82,10,57,40,"color"],[82,15,57,45],[82,17,57,46],[83,8,57,55],[84,10,57,55,"fileName"],[84,18,57,55],[84,20,57,55,"_jsxFileName"],[84,32,57,55],[85,10,57,55,"lineNumber"],[85,20,57,55],[86,10,57,55,"columnNumber"],[86,22,57,55],[87,8,57,55],[87,15,57,57],[88,6,57,58],[89,8,57,58,"fileName"],[89,16,57,58],[89,18,57,58,"_jsxFileName"],[89,30,57,58],[90,8,57,58,"lineNumber"],[90,18,57,58],[91,8,57,58,"columnNumber"],[91,20,57,58],[92,6,57,58],[92,13,58,12],[92,14,58,13],[92,29,59,6],[92,33,59,6,"_reactJsxDevRuntime"],[92,52,59,6],[92,53,59,6,"jsxDEV"],[92,59,59,6],[92,61,59,7,"TermsModal"],[92,71,59,17],[92,72,59,17,"default"],[92,79,59,17],[93,8,59,18,"visible"],[93,15,59,25],[93,17,59,27,"showTerms"],[93,26,59,37],[94,8,59,38,"onAccept"],[94,16,59,46],[94,18,59,48,"handleTermsAccept"],[95,6,59,66],[96,8,59,66,"fileName"],[96,16,59,66],[96,18,59,66,"_jsxFileName"],[96,30,59,66],[97,8,59,66,"lineNumber"],[97,18,59,66],[98,8,59,66,"columnNumber"],[98,20,59,66],[99,6,59,66],[99,13,59,68],[99,14,59,69],[100,4,59,69],[100,19,60,6],[100,20,60,7],[101,2,62,0],[102,2,64,0],[102,8,64,6,"styles"],[102,14,64,12],[102,17,64,15,"StyleSheet"],[102,27,64,25],[102,28,64,25,"default"],[102,35,64,25],[102,36,64,26,"create"],[102,42,64,32],[102,43,64,33],[103,4,65,2,"container"],[103,13,65,11],[103,15,65,13],[104,6,66,4,"flex"],[104,10,66,8],[104,12,66,10],[104,13,66,11],[105,6,67,4,"justifyContent"],[105,20,67,18],[105,22,67,20],[105,30,67,28],[106,6,68,4,"alignItems"],[106,16,68,14],[106,18,68,16],[106,26,68,24],[107,6,69,4,"backgroundColor"],[107,21,69,19],[107,23,69,21],[108,4,70,2],[109,2,71,0],[109,3,71,1],[109,4,71,2],[110,0,71,3],[110,3]],"functionMap":{"names":["<global>","Index","useEffect$argument_0","checkTermsAcceptance","handleTermsAccept"],"mappings":"AAA;eCO;YCM;GDE;+BEE;GFc;4BGE;GHQ;YCE;GDQ;CDU"},"hasCjsExports":false},"type":"js/module"}]}