{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"]}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":44,"index":44}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"]}},{"name":"react-native-web/dist/exports/View","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"4kYBDC6LJJXoH7P9rWDi3vkLVB0=","exportNames":["*"]}},{"name":"react-native-web/dist/exports/ActivityIndicator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"bSAkUkqZq0shBb5bU6kCYXi4ciA=","exportNames":["*"]}},{"name":"react-native-web/dist/exports/StyleSheet","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"MK7+k1V+KnvCVW7Kj2k/ydtjmVU=","exportNames":["*"]}},{"name":"expo-router","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":113},"end":{"line":3,"column":40,"index":153}}],"key":"/+ErnBisjrT6aDU+GRp5Qz/lYoY=","exportNames":["*"]}},{"name":"../store/authStore","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":154},"end":{"line":4,"column":50,"index":204}}],"key":"/4BDl/hqolvw7T4CXD8jWAtZK4M=","exportNames":["*"]}},{"name":"../store/languageStore","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":205},"end":{"line":5,"column":58,"index":263}}],"key":"zdXeEoEFE4c7I18gUi/lJGNzi/g=","exportNames":["*"]}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":264},"end":{"line":6,"column":69,"index":333}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"]}},{"name":"../components/TermsModal","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":334},"end":{"line":7,"column":50,"index":384}}],"key":"QFov7W8BA1pAQA97Rl5tkl/yiIk=","exportNames":["*"]}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = Index;\n  var _react = require(_dependencyMap[1], \"react\");\n  var _View = _interopRequireDefault(require(_dependencyMap[2], \"react-native-web/dist/exports/View\"));\n  var _ActivityIndicator = _interopRequireDefault(require(_dependencyMap[3], \"react-native-web/dist/exports/ActivityIndicator\"));\n  var _StyleSheet = _interopRequireDefault(require(_dependencyMap[4], \"react-native-web/dist/exports/StyleSheet\"));\n  var _expoRouter = require(_dependencyMap[5], \"expo-router\");\n  var _authStore = require(_dependencyMap[6], \"../store/authStore\");\n  var _languageStore = require(_dependencyMap[7], \"../store/languageStore\");\n  var _asyncStorage = _interopRequireDefault(require(_dependencyMap[8], \"@react-native-async-storage/async-storage\"));\n  var _TermsModal = _interopRequireDefault(require(_dependencyMap[9], \"../components/TermsModal\"));\n  var _jsxDevRuntime = require(_dependencyMap[10], \"react/jsx-dev-runtime\");\n  var _jsxFileName = \"/app/frontend/app/index.tsx\",\n    _s = $RefreshSig$();\n  function Index() {\n    _s();\n    const router = (0, _expoRouter.useRouter)();\n    const {\n      user,\n      isLoading\n    } = (0, _authStore.useAuthStore)();\n    const {\n      loadLanguage\n    } = (0, _languageStore.useLanguageStore)();\n    const [showTerms, setShowTerms] = (0, _react.useState)(false);\n    const [termsChecked, setTermsChecked] = (0, _react.useState)(false);\n    (0, _react.useEffect)(() => {\n      loadLanguage(); // Load saved language\n      checkTermsAcceptance();\n    }, []);\n    const checkTermsAcceptance = async () => {\n      try {\n        const accepted = await _asyncStorage.default.getItem('termsAccepted');\n        if (accepted === 'true') {\n          setTermsChecked(true);\n        } else if (!isLoading && user) {\n          // User logged in but hasn't accepted terms\n          setShowTerms(true);\n        }\n        setTermsChecked(true);\n      } catch (error) {\n        console.error('Error checking terms:', error);\n        setTermsChecked(true);\n      }\n    };\n    const handleTermsAccept = async () => {\n      try {\n        await _asyncStorage.default.setItem('termsAccepted', 'true');\n        setShowTerms(false);\n        setTermsChecked(true);\n      } catch (error) {\n        console.error('Error saving terms acceptance:', error);\n      }\n    };\n    (0, _react.useEffect)(() => {\n      if (!isLoading && termsChecked) {\n        if (user) {\n          router.replace('/(tabs)/home');\n        } else {\n          router.replace('/(auth)/login');\n        }\n      }\n    }, [user, isLoading, termsChecked]);\n    return /*#__PURE__*/(0, _jsxDevRuntime.jsxDEV)(_jsxDevRuntime.Fragment, {\n      children: [/*#__PURE__*/(0, _jsxDevRuntime.jsxDEV)(_View.default, {\n        style: styles.container,\n        children: /*#__PURE__*/(0, _jsxDevRuntime.jsxDEV)(_ActivityIndicator.default, {\n          size: \"large\",\n          color: \"#007AFF\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 7\n      }, this), /*#__PURE__*/(0, _jsxDevRuntime.jsxDEV)(_TermsModal.default, {\n        visible: showTerms,\n        onAccept: handleTermsAccept\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true);\n  }\n  _s(Index, \"dHt9Y+349NV/vOkss11Dqpg5pXc=\", false, function () {\n    return [_expoRouter.useRouter, _authStore.useAuthStore, _languageStore.useLanguageStore];\n  });\n  _c = Index;\n  const styles = _StyleSheet.default.create({\n    container: {\n      flex: 1,\n      justifyContent: 'center',\n      alignItems: 'center',\n      backgroundColor: '#fff'\n    }\n  });\n  var _c;\n  $RefreshReg$(_c, \"Index\");\n});","lineCount":107,"map":[[7,2,1,0],[7,6,1,0,"_react"],[7,12,1,0],[7,15,1,0,"require"],[7,22,1,0],[7,23,1,0,"_dependencyMap"],[7,37,1,0],[8,2,1,44],[8,6,1,44,"_View"],[8,11,1,44],[8,14,1,44,"_interopRequireDefault"],[8,36,1,44],[8,37,1,44,"require"],[8,44,1,44],[8,45,1,44,"_dependencyMap"],[8,59,1,44],[9,2,1,44],[9,6,1,44,"_ActivityIndicator"],[9,24,1,44],[9,27,1,44,"_interopRequireDefault"],[9,49,1,44],[9,50,1,44,"require"],[9,57,1,44],[9,58,1,44,"_dependencyMap"],[9,72,1,44],[10,2,1,44],[10,6,1,44,"_StyleSheet"],[10,17,1,44],[10,20,1,44,"_interopRequireDefault"],[10,42,1,44],[10,43,1,44,"require"],[10,50,1,44],[10,51,1,44,"_dependencyMap"],[10,65,1,44],[11,2,3,0],[11,6,3,0,"_expoRouter"],[11,17,3,0],[11,20,3,0,"require"],[11,27,3,0],[11,28,3,0,"_dependencyMap"],[11,42,3,0],[12,2,4,0],[12,6,4,0,"_authStore"],[12,16,4,0],[12,19,4,0,"require"],[12,26,4,0],[12,27,4,0,"_dependencyMap"],[12,41,4,0],[13,2,5,0],[13,6,5,0,"_languageStore"],[13,20,5,0],[13,23,5,0,"require"],[13,30,5,0],[13,31,5,0,"_dependencyMap"],[13,45,5,0],[14,2,6,0],[14,6,6,0,"_asyncStorage"],[14,19,6,0],[14,22,6,0,"_interopRequireDefault"],[14,44,6,0],[14,45,6,0,"require"],[14,52,6,0],[14,53,6,0,"_dependencyMap"],[14,67,6,0],[15,2,7,0],[15,6,7,0,"_TermsModal"],[15,17,7,0],[15,20,7,0,"_interopRequireDefault"],[15,42,7,0],[15,43,7,0,"require"],[15,50,7,0],[15,51,7,0,"_dependencyMap"],[15,65,7,0],[16,2,7,50],[16,6,7,50,"_jsxDevRuntime"],[16,20,7,50],[16,23,7,50,"require"],[16,30,7,50],[16,31,7,50,"_dependencyMap"],[16,45,7,50],[17,2,7,50],[17,6,7,50,"_jsxFileName"],[17,18,7,50],[18,4,7,50,"_s"],[18,6,7,50],[18,9,7,50,"$RefreshSig$"],[18,21,7,50],[19,2,9,15],[19,11,9,24,"Index"],[19,16,9,29,"Index"],[19,17,9,29],[19,19,9,32],[20,4,9,32,"_s"],[20,6,9,32],[21,4,10,2],[21,10,10,8,"router"],[21,16,10,14],[21,19,10,17],[21,23,10,17,"useRouter"],[21,44,10,26],[21,46,10,27],[21,47,10,28],[22,4,11,2],[22,10,11,8],[23,6,11,10,"user"],[23,10,11,14],[24,6,11,16,"isLoading"],[25,4,11,26],[25,5,11,27],[25,8,11,30],[25,12,11,30,"useAuthStore"],[25,35,11,42],[25,37,11,43],[25,38,11,44],[26,4,12,2],[26,10,12,8],[27,6,12,10,"loadLanguage"],[28,4,12,23],[28,5,12,24],[28,8,12,27],[28,12,12,27,"useLanguageStore"],[28,43,12,43],[28,45,12,44],[28,46,12,45],[29,4,13,2],[29,10,13,8],[29,11,13,9,"showTerms"],[29,20,13,18],[29,22,13,20,"setShowTerms"],[29,34,13,32],[29,35,13,33],[29,38,13,36],[29,42,13,36,"useState"],[29,57,13,44],[29,59,13,45],[29,64,13,50],[29,65,13,51],[30,4,14,2],[30,10,14,8],[30,11,14,9,"termsChecked"],[30,23,14,21],[30,25,14,23,"setTermsChecked"],[30,40,14,38],[30,41,14,39],[30,44,14,42],[30,48,14,42,"useState"],[30,63,14,50],[30,65,14,51],[30,70,14,56],[30,71,14,57],[31,4,16,2],[31,8,16,2,"useEffect"],[31,24,16,11],[31,26,16,12],[31,32,16,18],[32,6,17,4,"loadLanguage"],[32,18,17,16],[32,19,17,17],[32,20,17,18],[32,21,17,19],[32,22,17,20],[33,6,18,4,"checkTermsAcceptance"],[33,26,18,24],[33,27,18,25],[33,28,18,26],[34,4,19,2],[34,5,19,3],[34,7,19,5],[34,9,19,7],[34,10,19,8],[35,4,21,2],[35,10,21,8,"checkTermsAcceptance"],[35,30,21,28],[35,33,21,31],[35,39,21,31,"checkTermsAcceptance"],[35,40,21,31],[35,45,21,43],[36,6,22,4],[36,10,22,8],[37,8,23,6],[37,14,23,12,"accepted"],[37,22,23,20],[37,25,23,23],[37,31,23,29,"AsyncStorage"],[37,52,23,41],[37,53,23,42,"getItem"],[37,60,23,49],[37,61,23,50],[37,76,23,65],[37,77,23,66],[38,8,24,6],[38,12,24,10,"accepted"],[38,20,24,18],[38,25,24,23],[38,31,24,29],[38,33,24,31],[39,10,25,8,"setTermsChecked"],[39,25,25,23],[39,26,25,24],[39,30,25,28],[39,31,25,29],[40,8,26,6],[40,9,26,7],[40,15,26,13],[40,19,26,17],[40,20,26,18,"isLoading"],[40,29,26,27],[40,33,26,31,"user"],[40,37,26,35],[40,39,26,37],[41,10,27,8],[42,10,28,8,"setShowTerms"],[42,22,28,20],[42,23,28,21],[42,27,28,25],[42,28,28,26],[43,8,29,6],[44,8,30,6,"setTermsChecked"],[44,23,30,21],[44,24,30,22],[44,28,30,26],[44,29,30,27],[45,6,31,4],[45,7,31,5],[45,8,31,6],[45,15,31,13,"error"],[45,20,31,18],[45,22,31,20],[46,8,32,6,"console"],[46,15,32,13],[46,16,32,14,"error"],[46,21,32,19],[46,22,32,20],[46,45,32,43],[46,47,32,45,"error"],[46,52,32,50],[46,53,32,51],[47,8,33,6,"setTermsChecked"],[47,23,33,21],[47,24,33,22],[47,28,33,26],[47,29,33,27],[48,6,34,4],[49,4,35,2],[49,5,35,3],[50,4,37,2],[50,10,37,8,"handleTermsAccept"],[50,27,37,25],[50,30,37,28],[50,36,37,28,"handleTermsAccept"],[50,37,37,28],[50,42,37,40],[51,6,38,4],[51,10,38,8],[52,8,39,6],[52,14,39,12,"AsyncStorage"],[52,35,39,24],[52,36,39,25,"setItem"],[52,43,39,32],[52,44,39,33],[52,59,39,48],[52,61,39,50],[52,67,39,56],[52,68,39,57],[53,8,40,6,"setShowTerms"],[53,20,40,18],[53,21,40,19],[53,26,40,24],[53,27,40,25],[54,8,41,6,"setTermsChecked"],[54,23,41,21],[54,24,41,22],[54,28,41,26],[54,29,41,27],[55,6,42,4],[55,7,42,5],[55,8,42,6],[55,15,42,13,"error"],[55,20,42,18],[55,22,42,20],[56,8,43,6,"console"],[56,15,43,13],[56,16,43,14,"error"],[56,21,43,19],[56,22,43,20],[56,54,43,52],[56,56,43,54,"error"],[56,61,43,59],[56,62,43,60],[57,6,44,4],[58,4,45,2],[58,5,45,3],[59,4,47,2],[59,8,47,2,"useEffect"],[59,24,47,11],[59,26,47,12],[59,32,47,18],[60,6,48,4],[60,10,48,8],[60,11,48,9,"isLoading"],[60,20,48,18],[60,24,48,22,"termsChecked"],[60,36,48,34],[60,38,48,36],[61,8,49,6],[61,12,49,10,"user"],[61,16,49,14],[61,18,49,16],[62,10,50,8,"router"],[62,16,50,14],[62,17,50,15,"replace"],[62,24,50,22],[62,25,50,23],[62,39,50,37],[62,40,50,38],[63,8,51,6],[63,9,51,7],[63,15,51,13],[64,10,52,8,"router"],[64,16,52,14],[64,17,52,15,"replace"],[64,24,52,22],[64,25,52,23],[64,40,52,38],[64,41,52,39],[65,8,53,6],[66,6,54,4],[67,4,55,2],[67,5,55,3],[67,7,55,5],[67,8,55,6,"user"],[67,12,55,10],[67,14,55,12,"isLoading"],[67,23,55,21],[67,25,55,23,"termsChecked"],[67,37,55,35],[67,38,55,36],[67,39,55,37],[68,4,57,2],[68,24,58,4],[68,28,58,4,"_jsxDevRuntime"],[68,42,58,4],[68,43,58,4,"jsxDEV"],[68,49,58,4],[68,51,58,4,"_jsxDevRuntime"],[68,65,58,4],[68,66,58,4,"Fragment"],[68,74,58,4],[69,6,58,4,"children"],[69,14,58,4],[69,30,59,6],[69,34,59,6,"_jsxDevRuntime"],[69,48,59,6],[69,49,59,6,"jsxDEV"],[69,55,59,6],[69,57,59,7,"_View"],[69,62,59,7],[69,63,59,7,"default"],[69,70,59,11],[70,8,59,12,"style"],[70,13,59,17],[70,15,59,19,"styles"],[70,21,59,25],[70,22,59,26,"container"],[70,31,59,36],[71,8,59,36,"children"],[71,16,59,36],[71,31,60,8],[71,35,60,8,"_jsxDevRuntime"],[71,49,60,8],[71,50,60,8,"jsxDEV"],[71,56,60,8],[71,58,60,9,"_ActivityIndicator"],[71,76,60,9],[71,77,60,9,"default"],[71,84,60,26],[72,10,60,27,"size"],[72,14,60,31],[72,16,60,32],[72,23,60,39],[73,10,60,40,"color"],[73,15,60,45],[73,17,60,46],[74,8,60,55],[75,10,60,55,"fileName"],[75,18,60,55],[75,20,60,55,"_jsxFileName"],[75,32,60,55],[76,10,60,55,"lineNumber"],[76,20,60,55],[77,10,60,55,"columnNumber"],[77,22,60,55],[78,8,60,55],[78,15,60,57],[79,6,60,58],[80,8,60,58,"fileName"],[80,16,60,58],[80,18,60,58,"_jsxFileName"],[80,30,60,58],[81,8,60,58,"lineNumber"],[81,18,60,58],[82,8,60,58,"columnNumber"],[82,20,60,58],[83,6,60,58],[83,13,61,12],[83,14,61,13],[83,29,62,6],[83,33,62,6,"_jsxDevRuntime"],[83,47,62,6],[83,48,62,6,"jsxDEV"],[83,54,62,6],[83,56,62,7,"_TermsModal"],[83,67,62,7],[83,68,62,7,"default"],[83,75,62,17],[84,8,62,18,"visible"],[84,15,62,25],[84,17,62,27,"showTerms"],[84,26,62,37],[85,8,62,38,"onAccept"],[85,16,62,46],[85,18,62,48,"handleTermsAccept"],[86,6,62,66],[87,8,62,66,"fileName"],[87,16,62,66],[87,18,62,66,"_jsxFileName"],[87,30,62,66],[88,8,62,66,"lineNumber"],[88,18,62,66],[89,8,62,66,"columnNumber"],[89,20,62,66],[90,6,62,66],[90,13,62,68],[90,14,62,69],[91,4,62,69],[91,19,63,6],[91,20,63,7],[92,2,65,0],[93,2,65,1,"_s"],[93,4,65,1],[93,5,9,24,"Index"],[93,10,9,29],[94,4,9,29],[94,12,10,17,"useRouter"],[94,33,10,26],[94,35,11,30,"useAuthStore"],[94,58,11,42],[94,60,12,27,"useLanguageStore"],[94,91,12,43],[95,2,12,43],[96,2,12,43,"_c"],[96,4,12,43],[96,7,9,24,"Index"],[96,12,9,29],[97,2,67,0],[97,8,67,6,"styles"],[97,14,67,12],[97,17,67,15,"StyleSheet"],[97,36,67,25],[97,37,67,26,"create"],[97,43,67,32],[97,44,67,33],[98,4,68,2,"container"],[98,13,68,11],[98,15,68,13],[99,6,69,4,"flex"],[99,10,69,8],[99,12,69,10],[99,13,69,11],[100,6,70,4,"justifyContent"],[100,20,70,18],[100,22,70,20],[100,30,70,28],[101,6,71,4,"alignItems"],[101,16,71,14],[101,18,71,16],[101,26,71,24],[102,6,72,4,"backgroundColor"],[102,21,72,19],[102,23,72,21],[103,4,73,2],[104,2,74,0],[104,3,74,1],[104,4,74,2],[105,2,74,3],[105,6,74,3,"_c"],[105,8,74,3],[106,2,74,3,"$RefreshReg$"],[106,14,74,3],[106,15,74,3,"_c"],[106,17,74,3],[107,0,74,3],[107,3]],"functionMap":{"names":["<global>","Index","useEffect$argument_0","checkTermsAcceptance","handleTermsAccept"],"mappings":"AAA;eCQ;YCO;GDG;+BEE;GFc;4BGE;GHQ;YCE;GDQ;CDU"}},"type":"js/module"}]}