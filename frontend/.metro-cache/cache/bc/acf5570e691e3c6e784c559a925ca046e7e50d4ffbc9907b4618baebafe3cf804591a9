{"dependencies":[{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":69,"index":103}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":104},"end":{"line":3,"column":26,"index":130}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"../utils/notifications","data":{"asyncType":"async","isESMImport":true,"locs":[{"start":{"line":99,"column":53,"index":2886},"end":{"line":99,"column":85,"index":2918}}],"key":"lryBNtHZmIhXbeC+oBDvSN7q29c=","exportNames":["*"],"imports":1,"isOptional":true}},{"name":"expo/internal/async-require-module","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":99,"column":47,"index":2880},"end":{"line":99,"column":85,"index":2918}}],"key":"y8mhXL4zKvSVvgnacXXOn0UU+QQ=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useAuthStore\", {\n    enumerable: true,\n    get: function () {\n      return useAuthStore;\n    }\n  });\n  var _zustand = require(_dependencyMap[0], \"zustand\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _axios = require(_dependencyMap[2], \"axios\");\n  var axios = _interopDefault(_axios);\n  const API_URL = process.env.EXPO_PUBLIC_BACKEND_URL;\n  const useAuthStore = (0, _zustand.create)(set => ({\n    user: null,\n    token: null,\n    isLoading: true,\n    loadToken: async () => {\n      try {\n        const token = await AsyncStorage.default.getItem('token');\n        const userData = await AsyncStorage.default.getItem('user');\n        if (token && userData) {\n          set({\n            token,\n            user: JSON.parse(userData),\n            isLoading: false\n          });\n        } else {\n          set({\n            isLoading: false\n          });\n        }\n      } catch (error) {\n        console.error('Load token error:', error);\n        set({\n          isLoading: false\n        });\n      }\n    },\n    login: async (username, password) => {\n      try {\n        const response = await axios.default.post(`${API_URL}/api/auth/login`, {\n          username,\n          password\n        });\n        const {\n          access_token,\n          user\n        } = response.data;\n        await AsyncStorage.default.setItem('token', access_token);\n        await AsyncStorage.default.setItem('user', JSON.stringify(user));\n        set({\n          user,\n          token: access_token\n        });\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Login failed');\n      }\n    },\n    register: async (username, email, password, full_name, referral_code, user_type, phone_number) => {\n      try {\n        const response = await axios.default.post(`${API_URL}/api/auth/register`, {\n          username,\n          email,\n          password,\n          full_name,\n          referral_code: referral_code || undefined,\n          user_type: user_type || 'driver',\n          phone_number: phone_number || undefined\n        });\n        const {\n          access_token,\n          user\n        } = response.data;\n        await AsyncStorage.default.setItem('token', access_token);\n        await AsyncStorage.default.setItem('user', JSON.stringify(user));\n        set({\n          user,\n          token: access_token\n        });\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Registration failed');\n      }\n    },\n    logout: async () => {\n      try {\n        // Remove push token from backend\n        try {\n          const {\n            removePushTokenFromBackend\n          } = await require(_dependencyMap[4], \"expo/internal/async-require-module\")(_dependencyMap[3], _dependencyMap.paths, \"../utils/notifications\");\n          await removePushTokenFromBackend();\n        } catch (error) {\n          console.error('Error removing push token:', error);\n        }\n\n        // Clear AsyncStorage\n        await AsyncStorage.default.removeItem('token');\n        await AsyncStorage.default.removeItem('user');\n        await AsyncStorage.default.clear(); // Clear all storage\n\n        // Clear state\n        set({\n          user: null,\n          token: null,\n          isLoading: false\n        });\n        console.log('Logout successful');\n      } catch (error) {\n        console.error('Logout error:', error);\n      }\n    },\n    setUser: async user => {\n      try {\n        await AsyncStorage.default.setItem('user', JSON.stringify(user));\n        set({\n          user\n        });\n      } catch (error) {\n        console.error('Set user error:', error);\n      }\n    }\n  }));\n});","lineCount":134,"map":[[12,2,33,0,"Object"],[12,8,33,0],[12,9,33,0,"defineProperty"],[12,23,33,0],[12,24,33,0,"exports"],[12,31,33,0],[13,4,33,0,"enumerable"],[13,14,33,0],[14,4,33,0,"get"],[14,7,33,0],[14,18,33,0,"get"],[14,19,33,0],[15,6,33,0],[15,13,33,0,"useAuthStore"],[15,25,33,0],[16,4,33,0],[17,2,33,0],[18,2,1,0],[18,6,1,0,"_zustand"],[18,14,1,0],[18,17,1,0,"require"],[18,24,1,0],[18,25,1,0,"_dependencyMap"],[18,39,1,0],[19,2,2,0],[19,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[19,42,2,0],[19,45,2,0,"require"],[19,52,2,0],[19,53,2,0,"_dependencyMap"],[19,67,2,0],[20,2,2,0],[20,6,2,0,"AsyncStorage"],[20,18,2,0],[20,21,2,0,"_interopDefault"],[20,36,2,0],[20,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[20,73,2,0],[21,2,3,0],[21,6,3,0,"_axios"],[21,12,3,0],[21,15,3,0,"require"],[21,22,3,0],[21,23,3,0,"_dependencyMap"],[21,37,3,0],[22,2,3,0],[22,6,3,0,"axios"],[22,11,3,0],[22,14,3,0,"_interopDefault"],[22,29,3,0],[22,30,3,0,"_axios"],[22,36,3,0],[23,2,5,0],[23,8,5,6,"API_URL"],[23,15,5,13],[23,18,5,16,"process"],[23,25,5,23],[23,26,5,24,"env"],[23,29,5,27],[23,30,5,28,"EXPO_PUBLIC_BACKEND_URL"],[23,53,5,51],[24,2,33,7],[24,8,33,13,"useAuthStore"],[24,20,33,25],[24,23,33,28],[24,27,33,28,"create"],[24,35,33,34],[24,36,33,34,"create"],[24,42,33,34],[24,44,33,47,"set"],[24,47,33,50],[24,52,33,56],[25,4,34,2,"user"],[25,8,34,6],[25,10,34,8],[25,14,34,12],[26,4,35,2,"token"],[26,9,35,7],[26,11,35,9],[26,15,35,13],[27,4,36,2,"isLoading"],[27,13,36,11],[27,15,36,13],[27,19,36,17],[28,4,38,2,"loadToken"],[28,13,38,11],[28,15,38,13],[28,21,38,13,"loadToken"],[28,22,38,13],[28,27,38,25],[29,6,39,4],[29,10,39,8],[30,8,40,6],[30,14,40,12,"token"],[30,19,40,17],[30,22,40,20],[30,28,40,26,"AsyncStorage"],[30,40,40,38],[30,41,40,38,"default"],[30,48,40,38],[30,49,40,39,"getItem"],[30,56,40,46],[30,57,40,47],[30,64,40,54],[30,65,40,55],[31,8,41,6],[31,14,41,12,"userData"],[31,22,41,20],[31,25,41,23],[31,31,41,29,"AsyncStorage"],[31,43,41,41],[31,44,41,41,"default"],[31,51,41,41],[31,52,41,42,"getItem"],[31,59,41,49],[31,60,41,50],[31,66,41,56],[31,67,41,57],[32,8,43,6],[32,12,43,10,"token"],[32,17,43,15],[32,21,43,19,"userData"],[32,29,43,27],[32,31,43,29],[33,10,44,8,"set"],[33,13,44,11],[33,14,44,12],[34,12,44,14,"token"],[34,17,44,19],[35,12,44,21,"user"],[35,16,44,25],[35,18,44,27,"JSON"],[35,22,44,31],[35,23,44,32,"parse"],[35,28,44,37],[35,29,44,38,"userData"],[35,37,44,46],[35,38,44,47],[36,12,44,49,"isLoading"],[36,21,44,58],[36,23,44,60],[37,10,44,66],[37,11,44,67],[37,12,44,68],[38,8,45,6],[38,9,45,7],[38,15,45,13],[39,10,46,8,"set"],[39,13,46,11],[39,14,46,12],[40,12,46,14,"isLoading"],[40,21,46,23],[40,23,46,25],[41,10,46,31],[41,11,46,32],[41,12,46,33],[42,8,47,6],[43,6,48,4],[43,7,48,5],[43,8,48,6],[43,15,48,13,"error"],[43,20,48,18],[43,22,48,20],[44,8,49,6,"console"],[44,15,49,13],[44,16,49,14,"error"],[44,21,49,19],[44,22,49,20],[44,41,49,39],[44,43,49,41,"error"],[44,48,49,46],[44,49,49,47],[45,8,50,6,"set"],[45,11,50,9],[45,12,50,10],[46,10,50,12,"isLoading"],[46,19,50,21],[46,21,50,23],[47,8,50,29],[47,9,50,30],[47,10,50,31],[48,6,51,4],[49,4,52,2],[49,5,52,3],[50,4,54,2,"login"],[50,9,54,7],[50,11,54,9],[50,17,54,9,"login"],[50,18,54,16,"username"],[50,26,54,32],[50,28,54,34,"password"],[50,36,54,50],[50,41,54,55],[51,6,55,4],[51,10,55,8],[52,8,56,6],[52,14,56,12,"response"],[52,22,56,20],[52,25,56,23],[52,31,56,29,"axios"],[52,36,56,34],[52,37,56,34,"default"],[52,44,56,34],[52,45,56,35,"post"],[52,49,56,39],[52,50,56,40],[52,53,56,43,"API_URL"],[52,60,56,50],[52,77,56,67],[52,79,56,69],[53,10,57,8,"username"],[53,18,57,16],[54,10,58,8,"password"],[55,8,59,6],[55,9,59,7],[55,10,59,8],[56,8,61,6],[56,14,61,12],[57,10,61,14,"access_token"],[57,22,61,26],[58,10,61,28,"user"],[59,8,61,33],[59,9,61,34],[59,12,61,37,"response"],[59,20,61,45],[59,21,61,46,"data"],[59,25,61,50],[60,8,63,6],[60,14,63,12,"AsyncStorage"],[60,26,63,24],[60,27,63,24,"default"],[60,34,63,24],[60,35,63,25,"setItem"],[60,42,63,32],[60,43,63,33],[60,50,63,40],[60,52,63,42,"access_token"],[60,64,63,54],[60,65,63,55],[61,8,64,6],[61,14,64,12,"AsyncStorage"],[61,26,64,24],[61,27,64,24,"default"],[61,34,64,24],[61,35,64,25,"setItem"],[61,42,64,32],[61,43,64,33],[61,49,64,39],[61,51,64,41,"JSON"],[61,55,64,45],[61,56,64,46,"stringify"],[61,65,64,55],[61,66,64,56,"user"],[61,70,64,60],[61,71,64,61],[61,72,64,62],[62,8,66,6,"set"],[62,11,66,9],[62,12,66,10],[63,10,66,12,"user"],[63,14,66,16],[64,10,66,18,"token"],[64,15,66,23],[64,17,66,25,"access_token"],[65,8,66,38],[65,9,66,39],[65,10,66,40],[66,6,67,4],[66,7,67,5],[66,8,67,6],[66,15,67,13,"error"],[66,20,67,23],[66,22,67,25],[67,8,68,6],[67,14,68,12],[67,18,68,16,"Error"],[67,23,68,21],[67,24,68,22,"error"],[67,29,68,27],[67,30,68,28,"response"],[67,38,68,36],[67,40,68,38,"data"],[67,44,68,42],[67,46,68,44,"detail"],[67,52,68,50],[67,56,68,54],[67,70,68,68],[67,71,68,69],[68,6,69,4],[69,4,70,2],[69,5,70,3],[70,4,72,2,"register"],[70,12,72,10],[70,14,72,12],[70,20,72,12,"register"],[70,21,72,19,"username"],[70,29,72,35],[70,31,72,37,"email"],[70,36,72,50],[70,38,72,52,"password"],[70,46,72,68],[70,48,72,70,"full_name"],[70,57,72,87],[70,59,72,89,"referral_code"],[70,72,72,111],[70,74,72,113,"user_type"],[70,83,72,131],[70,85,72,133,"phone_number"],[70,97,72,154],[70,102,72,159],[71,6,73,4],[71,10,73,8],[72,8,74,6],[72,14,74,12,"response"],[72,22,74,20],[72,25,74,23],[72,31,74,29,"axios"],[72,36,74,34],[72,37,74,34,"default"],[72,44,74,34],[72,45,74,35,"post"],[72,49,74,39],[72,50,74,40],[72,53,74,43,"API_URL"],[72,60,74,50],[72,80,74,70],[72,82,74,72],[73,10,75,8,"username"],[73,18,75,16],[74,10,76,8,"email"],[74,15,76,13],[75,10,77,8,"password"],[75,18,77,16],[76,10,78,8,"full_name"],[76,19,78,17],[77,10,79,8,"referral_code"],[77,23,79,21],[77,25,79,23,"referral_code"],[77,38,79,36],[77,42,79,40,"undefined"],[77,51,79,49],[78,10,80,8,"user_type"],[78,19,80,17],[78,21,80,19,"user_type"],[78,30,80,28],[78,34,80,32],[78,42,80,40],[79,10,81,8,"phone_number"],[79,22,81,20],[79,24,81,22,"phone_number"],[79,36,81,34],[79,40,81,38,"undefined"],[80,8,82,6],[80,9,82,7],[80,10,82,8],[81,8,84,6],[81,14,84,12],[82,10,84,14,"access_token"],[82,22,84,26],[83,10,84,28,"user"],[84,8,84,33],[84,9,84,34],[84,12,84,37,"response"],[84,20,84,45],[84,21,84,46,"data"],[84,25,84,50],[85,8,86,6],[85,14,86,12,"AsyncStorage"],[85,26,86,24],[85,27,86,24,"default"],[85,34,86,24],[85,35,86,25,"setItem"],[85,42,86,32],[85,43,86,33],[85,50,86,40],[85,52,86,42,"access_token"],[85,64,86,54],[85,65,86,55],[86,8,87,6],[86,14,87,12,"AsyncStorage"],[86,26,87,24],[86,27,87,24,"default"],[86,34,87,24],[86,35,87,25,"setItem"],[86,42,87,32],[86,43,87,33],[86,49,87,39],[86,51,87,41,"JSON"],[86,55,87,45],[86,56,87,46,"stringify"],[86,65,87,55],[86,66,87,56,"user"],[86,70,87,60],[86,71,87,61],[86,72,87,62],[87,8,89,6,"set"],[87,11,89,9],[87,12,89,10],[88,10,89,12,"user"],[88,14,89,16],[89,10,89,18,"token"],[89,15,89,23],[89,17,89,25,"access_token"],[90,8,89,38],[90,9,89,39],[90,10,89,40],[91,6,90,4],[91,7,90,5],[91,8,90,6],[91,15,90,13,"error"],[91,20,90,23],[91,22,90,25],[92,8,91,6],[92,14,91,12],[92,18,91,16,"Error"],[92,23,91,21],[92,24,91,22,"error"],[92,29,91,27],[92,30,91,28,"response"],[92,38,91,36],[92,40,91,38,"data"],[92,44,91,42],[92,46,91,44,"detail"],[92,52,91,50],[92,56,91,54],[92,77,91,75],[92,78,91,76],[93,6,92,4],[94,4,93,2],[94,5,93,3],[95,4,95,2,"logout"],[95,10,95,8],[95,12,95,10],[95,18,95,10,"logout"],[95,19,95,10],[95,24,95,22],[96,6,96,4],[96,10,96,8],[97,8,97,6],[98,8,98,6],[98,12,98,10],[99,10,99,8],[99,16,99,14],[100,12,99,16,"removePushTokenFromBackend"],[101,10,99,43],[101,11,99,44],[101,14,99,47],[101,20,99,47,"require"],[101,27,99,47],[101,28,99,47,"_dependencyMap"],[101,42,99,47],[101,85,99,47,"_dependencyMap"],[101,99,99,47],[101,104,99,47,"_dependencyMap"],[101,118,99,47],[101,119,99,47,"paths"],[101,124,99,47],[101,151,99,85],[102,10,100,8],[102,16,100,14,"removePushTokenFromBackend"],[102,42,100,40],[102,43,100,41],[102,44,100,42],[103,8,101,6],[103,9,101,7],[103,10,101,8],[103,17,101,15,"error"],[103,22,101,20],[103,24,101,22],[104,10,102,8,"console"],[104,17,102,15],[104,18,102,16,"error"],[104,23,102,21],[104,24,102,22],[104,52,102,50],[104,54,102,52,"error"],[104,59,102,57],[104,60,102,58],[105,8,103,6],[107,8,105,6],[108,8,106,6],[108,14,106,12,"AsyncStorage"],[108,26,106,24],[108,27,106,24,"default"],[108,34,106,24],[108,35,106,25,"removeItem"],[108,45,106,35],[108,46,106,36],[108,53,106,43],[108,54,106,44],[109,8,107,6],[109,14,107,12,"AsyncStorage"],[109,26,107,24],[109,27,107,24,"default"],[109,34,107,24],[109,35,107,25,"removeItem"],[109,45,107,35],[109,46,107,36],[109,52,107,42],[109,53,107,43],[110,8,108,6],[110,14,108,12,"AsyncStorage"],[110,26,108,24],[110,27,108,24,"default"],[110,34,108,24],[110,35,108,25,"clear"],[110,40,108,30],[110,41,108,31],[110,42,108,32],[110,43,108,33],[110,44,108,34],[112,8,110,6],[113,8,111,6,"set"],[113,11,111,9],[113,12,111,10],[114,10,111,12,"user"],[114,14,111,16],[114,16,111,18],[114,20,111,22],[115,10,111,24,"token"],[115,15,111,29],[115,17,111,31],[115,21,111,35],[116,10,111,37,"isLoading"],[116,19,111,46],[116,21,111,48],[117,8,111,54],[117,9,111,55],[117,10,111,56],[118,8,113,6,"console"],[118,15,113,13],[118,16,113,14,"log"],[118,19,113,17],[118,20,113,18],[118,39,113,37],[118,40,113,38],[119,6,114,4],[119,7,114,5],[119,8,114,6],[119,15,114,13,"error"],[119,20,114,18],[119,22,114,20],[120,8,115,6,"console"],[120,15,115,13],[120,16,115,14,"error"],[120,21,115,19],[120,22,115,20],[120,37,115,35],[120,39,115,37,"error"],[120,44,115,42],[120,45,115,43],[121,6,116,4],[122,4,117,2],[122,5,117,3],[123,4,119,2,"setUser"],[123,11,119,9],[123,13,119,11],[123,19,119,18,"user"],[123,23,119,28],[123,27,119,33],[124,6,120,4],[124,10,120,8],[125,8,121,6],[125,14,121,12,"AsyncStorage"],[125,26,121,24],[125,27,121,24,"default"],[125,34,121,24],[125,35,121,25,"setItem"],[125,42,121,32],[125,43,121,33],[125,49,121,39],[125,51,121,41,"JSON"],[125,55,121,45],[125,56,121,46,"stringify"],[125,65,121,55],[125,66,121,56,"user"],[125,70,121,60],[125,71,121,61],[125,72,121,62],[126,8,122,6,"set"],[126,11,122,9],[126,12,122,10],[127,10,122,12,"user"],[128,8,122,17],[128,9,122,18],[128,10,122,19],[129,6,123,4],[129,7,123,5],[129,8,123,6],[129,15,123,13,"error"],[129,20,123,18],[129,22,123,20],[130,8,124,6,"console"],[130,15,124,13],[130,16,124,14,"error"],[130,21,124,19],[130,22,124,20],[130,39,124,37],[130,41,124,39,"error"],[130,46,124,44],[130,47,124,45],[131,6,125,4],[132,4,126,2],[133,2,127,0],[133,3,127,1],[133,4,127,2],[133,5,127,3],[134,0,127,4],[134,3]],"functionMap":{"names":["<global>","create$argument_0","loadToken","login","register","logout","setUser"],"mappings":"AAA;8CCgC;aCK;GDc;SEE;GFgB;YGE;GHqB;UIE;GJsB;WKE;GLO;EDC"},"hasCjsExports":false},"type":"js/module"}]}